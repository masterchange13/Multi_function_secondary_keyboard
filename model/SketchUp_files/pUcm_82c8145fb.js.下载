(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{692:function(t,e,i){"use strict";i.r(e);var s=i(0),a=i(150),n=i.n(a),o=i(12),r=i(915),l=i(833),c=i(830),d=i(754),u=i(6),h=i.n(u),p=i(824),m=function(t,e,i,s){var a,n=arguments.length,o=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,s);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(o=(n<3?a(o):n>3?a(e,i,o):a(e,i))||o);return n>3&&o&&Object.defineProperty(e,i,o),o};let g=class PermissionDenied extends h.a{constructor(){super(...arguments),this.signinUrl=""}get isLoggedIn(){return!!this.$user}get permissionMessageText(){return""===this.messageText?this.$t("You lack permissions to view this page."):this.messageText}get permissionButtonText(){return""===this.buttonText?this.$t("Return to homepage"):this.buttonText}get langCode(){return this.$store.getters.language}redirect(){window.location.href=this.redirectUrl}signIn(){p.a(this.langCode)}};g=m([Object(o.b)({components:{EmptyCactus:d.a},props:{messageText:{type:String,default:""},buttonText:{type:String,default:""},redirectUrl:{type:String,default:"/"},requiresLogin:{type:Boolean,default:!1}}})],g);var v=g,f=i(28),C=Object(f.a)(v,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"permission-denied"},[i("div",{staticClass:"empty-cactus"},[i("EmptyCactus")],1),t._v(" "),i("div",{staticClass:"permission-message"},[i("span",[t._v(t._s(t.permissionMessageText))])]),t._v(" "),t.isLoggedIn?t._e():i("button",{staticClass:"button redirect-button",on:{click:t.signIn}},[t._v("\n    "+t._s(t.$t("Sign In"))+"\n  ")]),t._v(" "),t.isLoggedIn||!t.requiresLogin?i("button",{staticClass:"button lightup-button redirect-button",on:{click:t.redirect}},[t._v("\n    "+t._s(t.permissionButtonText)+"\n  ")]):t._e()])}),[],!1,null,null,null).exports,b=i(825),y=i(48),w=i(927),_=function(t,e,i,s){var a,n=arguments.length,o=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,s);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(o=(n<3?a(o):n>3?a(e,i,o):a(e,i))||o);return n>3&&o&&Object.defineProperty(e,i,o),o};let T=class UcmAnalytics extends h.a{constructor(){super(...arguments),this.name="ucm-analytics",this.pageType=y.p.ANALYTICS}open(){}close(){}};T=_([Object(o.b)({components:{UserAnalytics:w.a},props:{dataOwner:Object}})],T);var S=T,E=Object(f.a)(S,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"ucm-analytics ucm-spa"},[i("user-analytics",{attrs:{owner:t.dataOwner}})],1)}),[],!1,null,"e6ecef1a",null).exports,O=i(785),I=i(784),A=i(24),D=i(2),M=i(3),k=i(874),L=i(808),$=i(727),x=i(907).a,P=Object(f.a)(x,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"create-collection-modal modal-dialog reveal",attrs:{"data-reveal":"","data-close-on-click":"false","data-close-on-esc":"false"}},[i("div",{staticClass:"modal-dialog-header grid-container"},[i("div",{staticClass:"modal-close-x",on:{click:t.close}}),t._v(" "),i("div",{staticClass:"modal-dialog-header"},[i("div",{staticClass:"modal-dialog-title-text title catalog-modal-title"},[i("span",[t._v(t._s(t.dialogTitle))])])])]),t._v(" "),i("div",{staticClass:"modal-dialog-content catalog-modal-content"},[i("error-in-context",{attrs:{contextHeader:t.contextPlaceholder,errorState:t.errorState,errorText:t.errorText,maxCharacters:t.maxLength,characterCount:t.titleLength}}),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],ref:"input",attrs:{type:"text",minlength:t.minLength,maxlength:t.maxLength,placeholder:t.titlePlaceholder,tabindex:"1"},domProps:{value:t.title},on:{focus:function(e){t.inputFocused=!0},blur:function(e){t.inputFocused=!1},input:function(e){e.target.composing||(t.title=e.target.value)}}})],1),t._v(" "),i("div",{staticClass:"modal-dialog-footer"},[i("button",{staticClass:"modal-dialog-button-ok button",attrs:{id:"catalogAction",disabled:t.isUpdating},on:{click:t.catalogAction}},[t._v("\n      "+t._s(t.buttonText)+"\n    ")])])])}),[],!1,null,"77a2f674",null).exports,R=i(726),N=i(757),U=i(674),F=function(t,e,i,s){var a,n=arguments.length,o=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,s);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(o=(n<3?a(o):n>3?a(e,i,o):a(e,i))||o);return n>3&&o&&Object.defineProperty(e,i,o),o};let B=class UcmHeaderTitle extends U.e{constructor(){super(...arguments),this.genericThumbnail="/static/images/icon-profile.svg",this.createIconHover=!1,this.profileThumbnail=""}onCreate(){}created(){this.profileThumbnail=this.getProfileThumbnail()}get orgDisplayName(){return this.$inOrgContext?this.$context.displayName:this.$t("My Account")}get userHasOrgs(){return this.$store.getters.userOrganizations.length>0}getProfileThumbnail(){var t;return(null===(t=this.$context)||void 0===t?void 0:t.avatarUrl)||this.genericThumbnail}setGenericProfileThumbnail(){this.profileThumbnail=this.genericThumbnail}};F([Object(U.d)()],B.prototype,"title",void 0),F([Object(U.d)()],B.prototype,"tooltip",void 0),F([Object(U.d)({default:!0})],B.prototype,"canCreate",void 0),F([Object(U.b)("create")],B.prototype,"onCreate",null),B=F([Object(U.a)({components:{IconCreateFill:O.a,IconCreateOutline:I.a}})],B);var j=B,V=Object(f.a)(j,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"title row columns"},[t.userHasOrgs?i("div",{staticClass:"title-context"},[i("div",{staticClass:"org-context"},[i("img",{staticClass:"profile-thumbnail",attrs:{src:t.profileThumbnail},on:{error:t.setGenericProfileThumbnail}}),t._v(" "),i("div",{staticClass:"org-title"},[t._v("\n        "+t._s(t.orgDisplayName)+"\n      ")])]),t._v(" "),i("div",{staticClass:"org-separator"})]):t._e(),t._v("\n  "+t._s(t.title)+"\n  "),t.canCreate?i("span",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.tooltip,expression:"tooltip"}],staticClass:"svg-icon",on:{mouseover:function(e){t.createIconHover=!0},mouseout:function(e){t.createIconHover=!1},click:t.onCreate}},[t.createIconHover?i("IconCreateFill",{staticClass:"icon-fill"}):i("IconCreateOutline")],1):t._e()])}),[],!1,null,"f051d2e4",null).exports,H=i(869),G=function(t,e,i,s){var a,n=arguments.length,o=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,s);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(o=(n<3?a(o):n>3?a(e,i,o):a(e,i))||o);return n>3&&o&&Object.defineProperty(e,i,o),o},z=function(t,e,i,s){return new(i||(i=Promise))((function(a,n){function o(t){try{l(s.next(t))}catch(t){n(t)}}function r(t){try{l(s.throw(t))}catch(t){n(t)}}function l(t){var e;t.done?a(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,r)}l((s=s.apply(t,e||[])).next())}))};let W=class UcmCatalogs extends H.a{constructor(){super(...arguments),this.name="ucm-catalogs",this.manageModeContext=y.e.CATALOGS,this.listViewOpts={listHeaders:["",this.$t("Title"),this.$t("Section Count"),this.$t("Created"),this.$t("Last Modified"),""],itemIndices:["image","title","collectionCount","createdJustDate","lastModifiedJustDate"],linkIndex:"title",imageIndex:"image",hasCheckbox:!1}}beforeDestroy(){this.$eventBus.$off(y.m.CATALOGS_UPDATED,this.onCatalogsUpdated),null!=this.createModal&&(this.createModal.$destroy(),this.createModal=null)}mounted(){return z(this,void 0,void 0,(function*(){this.$eventBus.$on(y.m.CATALOGS_UPDATED,this.onCatalogsUpdated)}))}open(){if(this.baseOpen(),"true"===this.$route.query.upload){const t=Object.assign({},this.$route.query);t.upload=void 0,this.$router.replace({query:t},(()=>{this.$nextTick((()=>{this.createCatalog()}))}))}}close(){this.baseClose(),this.createModal&&(this.createModal.$destroy(),this.createModal=null)}get presenter(){return this.currentPresenter}get currentPresenter(){return this.isMounted?this.$refs.currentContent:null}get currentParams(){const t=[`(subtype=="${y.b.CATALOG}")`,this.formatFilter("title")];if(!this.useDirectApi){const e=`creator.id==${this.dataOwner.id}`;t.push(e)}return{fq:t.filter((t=>t)).join(";"),showBinaryMetadata:!0,recordEvent:!1}}get useDirectApi(){return!1}createCatalog(){this.createModal?this.createModal.openModal():(this.createModal=new P({store:this.$store,propsData:{animationIn:R.a.SlideInUp,animationOut:R.a.SlideOutDown,acceptCallback:this.catalogAdded,catalogFunction:this.addCatalog}}),this.createModal.mountOnPage())}addCatalog(t){return z(this,void 0,void 0,(function*(){let e={title:t,description:"",isPrivate:!0,subtype:y.b.CATALOG,attributes:{flags:{isFeaturedContentReversed:{dataType:"boolean",value:!1}}}},i="";try{i=yield this.$api.createCollection(e)}catch(t){this.$pushSnackbar("Could not create catalog.  Try again.",M.SnackbarMessageTypes.failure,"icon")}return i}))}catalogAdded(t,e){return z(this,void 0,void 0,(function*(){if(t.length>0){const e={recordEvent:!1,showAttributes:!0,showBinaryMetadata:!0,showHidden:!0};try{const i=yield this.$api.getCollection(t,e),s=A.a.create(i);this.currentPresenter.addItem(s),this.navigateToItem(s.id,y.p.EDITCATALOG)}catch(t){}}}))}setDeleteContext(t){const e=null!=t||1===this.selectedContent.length,i=this.$t("You're about to delete the catalog."),s=this.$t("The catalog was deleted.");this.deleteContext={parentId:null,confirmMessage:this.completeConfirmMessage(i),failureMessage:D.c.GENERIC_TRY_AGAIN,successMessage:s,isSingle:e,item:t}}onCatalogsUpdated(t,e){t?this.currentPresenter.removeItemFromPresenter(e):this.currentPresenter.addItem(e)}};W=G([Object(o.b)({components:{ContentPresenter:L.a,CreateCollectionModal:P,IconCreateFill:O.a,IconCreateOutline:I.a,ItemSelector:$.a,ListViewToggle:k.a,SortSelector:N.a,UcmHeaderTitle:V}})],W);var Y=W,q=Object(f.a)(Y,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"ucm-catalogs ucm-spa",attrs:{id:"ucm-catalogs"}},[i("div",{staticClass:"header-container"},[i("ucm-header-title",{attrs:{title:t.$t("Catalogs"),tooltip:t.$t("Create Catalog"),canCreate:t.isContentOwner||t.$inOrgContext},on:{create:function(e){return t.createCatalog()}}}),t._v(" "),i("div",{staticClass:"controls"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.filter,expression:"filter"}],staticClass:"filter",attrs:{id:"catalog-filter",placeholder:t.$t("Filter"),type:"text",disabled:t.isLoading},domProps:{value:t.filter},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.checkFilter.apply(null,arguments)},input:function(e){e.target.composing||(t.filter=e.target.value)}}}),t._v(" "),i("sort-selector",{attrs:{id:"catalog-sort",disabled:t.isLoading,fields:t.sortFields},model:{value:t.sortSelection,callback:function(e){t.sortSelection=e},expression:"sortSelection"}})],1)],1),t._v(" "),i("div",{staticClass:"presenter-info columns"},[null!=t.entityCount?i("div",{staticClass:"entity-count"},[t._v(" "+t._s(this.entityCount+" catalogs")+"  ")]):t._e(),t._v(" "),i("div",{staticClass:"view-controls"},[i("div",{staticClass:"page-size-selector"},[i("item-selector",{attrs:{id:"page-size-list",title:t.$t("Page Size"),items:t.pageSizeFields},model:{value:t.pageSizeSelected,callback:function(e){t.pageSizeSelected=e},expression:"pageSizeSelected"}})],1),t._v(" "),t.enableListView?i("list-view-toggle",{attrs:{hidden:t.isSelecting,viewType:t.viewType},on:{"toggle-grid":t.toggleGrid}}):t._e()],1)]),t._v(" "),i("content-presenter",{ref:"currentContent",attrs:{id:"current-catalogs-presenter",type:"catalogs",dataOwner:t.dataOwner,deleteCallback:t.deleteItemCallback,filter:t.currentParams,largerRows:!0,listViewOpts:t.listViewOpts,manageMode:!0,manageModeContext:t.manageModeContext,page:t.page,pageSize:t.pageSize,privateMode:!1,scrollTrigger:"#current-catalogs-presenter",selectableCards:!1,showAuthorNames:!1,sortBy:t.sortBy,view:t.viewType,useDirectApi:t.useDirectApi}})],1)}),[],!1,null,"e087698a",null),K=q.exports,X=i(861),Z=function(t,e,i,s){var a,n=arguments.length,o=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,s);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(o=(n<3?a(o):n>3?a(e,i,o):a(e,i))||o);return n>3&&o&&Object.defineProperty(e,i,o),o},J=function(t,e,i,s){return new(i||(i=Promise))((function(a,n){function o(t){try{l(s.next(t))}catch(t){n(t)}}function r(t){try{l(s.throw(t))}catch(t){n(t)}}function l(t){var e;t.done?a(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,r)}l((s=s.apply(t,e||[])).next())}))};let Q=class UcmCollections extends H.a{constructor(){super(...arguments),this.name="ucm-collections",this.manageModeContext=y.e.COLLECTIONS,this.listViewOpts={listHeaders:["","",this.$t("Title"),this.$t("Element Count"),this.$t("Created"),this.$t("Last Modified"),""],itemIndices:["image","title","elementCount","createdJustDate","lastModifiedJustDate"],linkIndex:"title",imageIndex:"image",hasCheckbox:!0}}beforeDestroy(){this.$eventBus.$off(y.m.COLLECTIONS_UPDATED,this.onCollectionsUpdated),null!=this.createModal&&(this.createModal.$destroy(),this.createModal=null)}mounted(){return J(this,void 0,void 0,(function*(){this.$eventBus.$on(y.m.COLLECTIONS_UPDATED,this.onCollectionsUpdated)}))}open(){if(this.baseOpen(),"true"===this.$route.query.upload){const t=Object.assign({},this.$route.query);t.upload=void 0,this.$router.replace({query:t},(()=>{this.$nextTick((()=>{this.createCollection()}))}))}}close(){this.baseClose(),this.createModal&&(this.createModal.$destroy(),this.createModal=null)}get presenter(){return this.isMounted?this.$refs.collectionContent:null}get useDirectApi(){return!1}get collectionsParams(){return{fq:[this.useDirectApi?null:`creator.id==${this.dataOwner.id}`,'baseAccessLevel!="none"',this.formatFilter("title"),'(subtype=exists=false,subtype=="")'].filter((t=>t)).join(";"),showBinaryMetadata:!0,recordEvent:!1}}createCollection(){this.createModal?this.createModal.openModal():(this.createModal=new P({store:this.$store,propsData:{animationIn:R.a.SlideInUp,animationOut:R.a.SlideOutDown,modalTitle:this.$t("New Collection"),placeholder:this.$t("Collection Name"),acceptCallback:this.collectionAdded,catalogFunction:this.addCollection,scrollable:!0}}),this.createModal.mountOnPage())}addCollection(t){return J(this,void 0,void 0,(function*(){let e="";const i={title:t,isPrivate:!1};try{e=yield this.$api.createCollection(i)}catch(t){this.$pushSnackbar(D.c.GENERIC_TRY_AGAIN,M.SnackbarMessageTypes.failure,M.SnackbarIcons.ALERT)}return e}))}collectionAdded(t,e){return J(this,void 0,void 0,(function*(){if(t.length>0){const e={recordEvent:!1,showAttributes:!0,showBinaryMetadata:!0,showHidden:!0};try{const i=yield this.$api.getCollection(t,e),s=A.a.create(i);this.presenter.addItem(s)}catch(t){}this.navigateToItem(t)}}))}setDeleteContext(t){const e=null!=t||1===this.selectedContent.length,i=this.$t("You're about to delete the selected collection(s). Item(s) within the collection(s) will not be deleted."),s=this.$t("The collection(s) were deleted.");this.deleteContext={parentId:null,confirmMessage:this.completeConfirmMessage(i),failureMessage:D.c.GENERIC_TRY_AGAIN,successMessage:s,isSingle:e,item:t}}onCollectionsUpdated(t,e){t?this.presenter.removeItemFromPresenter(e):this.presenter.addItem(e)}};Q=Z([Object(o.b)({components:{BulkControls:X.a,ContentPresenter:L.a,IconCreateFill:O.a,IconCreateOutline:I.a,ItemSelector:$.a,ListViewToggle:k.a,SortSelector:N.a,UcmHeaderTitle:V}})],Q);var tt=Q,et=Object(f.a)(tt,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"ucm-collections ucm-spa",class:{selecting:t.isSelecting},attrs:{id:"ucm-collections"}},[i("div",{staticClass:"header-container"},[i("ucm-header-title",{attrs:{title:t.$t("Collections"),tooltip:t.$t("Create Collection"),canCreate:!t.isSelecting&&(t.isContentOwner||t.$inOrgContext)},on:{create:function(e){return t.createCollection()}}}),t._v(" "),t.isSelecting?t._e():i("div",{staticClass:"controls columns"},[i("div",{staticClass:"tag-line"},[t._v(t._s(t.$t("Collections are visible to the public.")))]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.filter,expression:"filter"}],staticClass:"filter",attrs:{id:"collection-filter",placeholder:t.$t("Filter"),type:"text",disabled:t.isLoading},domProps:{value:t.filter},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.checkFilter.apply(null,arguments)},input:function(e){e.target.composing||(t.filter=e.target.value)}}}),t._v(" "),i("sort-selector",{attrs:{id:"collection-sort",disabled:t.isLoading,fields:t.sortFields},model:{value:t.sortSelection,callback:function(e){t.sortSelection=e},expression:"sortSelection"}})],1),t._v(" "),t.isSelecting?i("bulk-controls",{staticClass:"row columns",attrs:{id:"collections",dataOwner:t.dataOwner,selectedContent:t.selectedContent,selectedContentCount:t.selectedContentCount,selectAllContent:t.selectAllContent,deleteHandler:t.confirmDeleteSelected}}):t._e()],1),t._v(" "),i("div",{staticClass:"presenter-info columns"},[null!=t.entityCount?i("div",{staticClass:"collection-count"},[i("div",{staticClass:"count"},[t._v("\n        "+t._s(this.entityCount)+"\n      ")]),t._v("\n      "+t._s(t.$t("collections"))+"\n    ")]):t._e(),t._v(" "),i("div",{staticClass:"view-controls"},[i("div",{staticClass:"page-size-selector"},[i("item-selector",{attrs:{id:"page-size-list",title:t.$t("Page Size"),items:t.pageSizeFields},model:{value:t.pageSizeSelected,callback:function(e){t.pageSizeSelected=e},expression:"pageSizeSelected"}})],1),t._v(" "),t.enableListView?i("list-view-toggle",{attrs:{hidden:t.isSelecting,viewType:t.viewType},on:{"toggle-grid":t.toggleGrid}}):t._e()],1)]),t._v(" "),i("content-presenter",{ref:"collectionContent",class:{selecting:t.isSelecting},attrs:{id:"collections-presenter",type:"collections",filter:t.collectionsParams,manageMode:!0,manageModeContext:t.manageModeContext,selectableCards:!0,sortBy:t.sortBy,scrollTrigger:"#collections-presenter",largerRows:!0,deleteCallback:t.deleteItemCallback,deleteBulkCallback:t.deleteBulkItemsCallback,dataOwner:t.dataOwner,pageSize:t.pageSize,privateMode:!1,showAuthorNames:!1,page:t.page,view:t.viewType,listViewOpts:t.listViewOpts,useDirectApi:t.useDirectApi}})],1)}),[],!1,null,"8beda83c",null),it=et.exports,st=i(909).a,at=Object(f.a)(st,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.section?i("div",{staticClass:"ucm-edit-catalog-edit-section ucm-spa"},[i("ucm-breadcrumb",{attrs:{title:t.$t("Catalogs")},on:{"navigate-back":function(e){return t.discardChangesDialog(!1)}}}),t._v(" "),i("ucm-breadcrumb",{attrs:{title:t.catalogTitle},on:{"navigate-back":function(e){return t.discardChangesDialog(!0)}}}),t._v(" "),i("div",{staticClass:"actions"},[i("button",{staticClass:"button back-button",on:{click:function(e){return t.discardChangesDialog(!0)}}},[t._v("\n      "+t._s(t.$t("Back to Sections"))+"\n    ")]),t._v(" "),i("button",{staticClass:"button done-button",attrs:{disabled:!t.enableSaving},on:{click:t.saveChanges}},[t._v("\n      "+t._s(t.$t("Save"))+"\n    ")]),t._v(" "),i("button",{staticClass:"button lightup-button",on:{click:t.confirmViewSection}},[t._v("\n        "+t._s(t.$t("View Section"))+"\n    ")])]),t._v(" "),i("tabs",{ref:"tabs",attrs:{disabledTabs:t.disabledTabs},on:{"tab-change":t.handleTabChange},scopedSlots:t._u([{key:"tab-header-general",fn:function(){return[t._v("\n      "+t._s(t.generalTabHeaderName)+"\n    ")]},proxy:!0},{key:"tab-general",fn:function(){return[i("ucm-edit-catalog-edit-section-general",{ref:t.UcmEditSectionTabs.GENERAL,attrs:{section:t.section,workingSection:t.workingSection,catalog:t.catalog},on:{"sync-working-section":t.handleSyncWorkingSection}})]},proxy:!0},t.ownerHasGoldEntitlementOrHigher?{key:"tab-header-analytics",fn:function(){return[t._v("\n      "+t._s(t.analyticsTabHeaderName)+"\n    ")]},proxy:!0}:null,t.ownerHasGoldEntitlementOrHigher?{key:"tab-analytics",fn:function(){return[i("item-analytics-chart",{ref:t.UcmEditSectionTabs.ANALYTICS,staticClass:"ucm-analytics",attrs:{sourceItem:t.section,shouldInitializeChart:t.onAnalyticsTab,showLikes:!1}})]},proxy:!0}:null],null,!0)})],1):i("div",{staticClass:"loading"})}),[],!1,null,"d1967a40",null).exports,nt=i(911).a,ot=Object(f.a)(nt,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.catalog?i("div",{staticClass:"ucm-edit-catalog ucm-spa"},[i("div",{staticClass:"header expanded row columns"},[i("ucm-breadcrumb",{attrs:{title:t.navigateBackLabel},on:{"navigate-back":t.confirmNavigateBack}}),t._v(" "),i("auto-sizing-input",{attrs:{id:"edit-catalog-title",tooltip:t.$t("Edit Title"),maxLength:t.titleMaxLength},on:{blur:t.blur},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}}),t._v(" "),i("div",{staticClass:"actions"},[i("button",{staticClass:"button save-button",attrs:{disabled:!t.enableSaving},on:{click:t.saveChanges}},[t._v("\n        "+t._s(t.$t("Save Changes"))+"\n      ")]),t._v(" "),i("button",{staticClass:"button lightup-button",on:{click:t.confirmViewCatalog}},[t._v("\n        "+t._s(t.viewItemLabel)+"\n      ")])])],1),t._v(" "),i("tabs",{ref:"tabs",attrs:{disabledTabs:t.disabledTabs},on:{"tab-change":t.handleTabChange},scopedSlots:t._u([{key:"tab-header-general",fn:function(){return[t._v("\n      "+t._s(t.generalTabHeaderName)+"\n    ")]},proxy:!0},{key:"tab-general",fn:function(){return[i("ucm-edit-catalog-general",{ref:t.UcmEditCatalogTabs.GENERAL,attrs:{catalog:t.catalog,workingCatalog:t.workingCatalog},on:{"sync-working-catalog":t.handleSyncWorkingCatalog}})]},proxy:!0},{key:"tab-header-featuredcontent",fn:function(){return[t._v("\n      "+t._s(t.featuredContentTabHeaderName)+"\n    ")]},proxy:!0},{key:"tab-featuredcontent",fn:function(){return[i("ucm-edit-catalog-featured-content",{ref:t.UcmEditCatalogTabs.FEATURED_CONTENT,attrs:{isFeaturedContentReversed:t.isFeaturedContentReversed,catalog:t.catalog,workingCatalog:t.workingCatalog,dataOwner:t.dataOwner},on:{"sync-working-catalog":t.handleSyncWorkingCatalog,"sync-catalog":t.handleSyncCatalog,"reverse-featured-content":t.reverseFeaturedContent}})]},proxy:!0},{key:"tab-header-sections",fn:function(){return[t._v("\n      "+t._s(t.sectionsTabHeaderName)+"\n    ")]},proxy:!0},{key:"tab-sections",fn:function(){return[i("ucm-edit-catalog-sections",{ref:t.UcmEditCatalogTabs.SECTIONS,attrs:{catalog:t.catalog,workingCatalog:t.workingCatalog,confirmNavigation:t.confirmNavigation},on:{"sync-working-catalog":t.handleSyncWorkingCatalog,"sync-catalog":t.handleSyncCatalog}})]},proxy:!0},{key:"tab-header-analytics",fn:function(){return[t._v("\n      "+t._s(t.analyticsTabHeaderName)+"\n    ")]},proxy:!0},{key:"tab-analytics",fn:function(){return[i("item-analytics-chart",{ref:t.UcmEditCatalogTabs.ANALYTICS,staticClass:"ucm-analytics",attrs:{sourceItem:t.catalog,shouldInitializeChart:t.onAnalyticsTab}})]},proxy:!0}],null,!1,696715503)})],1):i("div",{staticClass:"loading"})}),[],!1,null,"22b95187",null).exports,rt=i(912).a,lt=Object(f.a)(rt,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.collection?i("div",{staticClass:"ucm-edit-collection ucm-spa"},[t.showContentMigratedNewsItem?i("collection-content-migration-news-item",{attrs:{collectionId:this.collection.id}}):t._e(),t._v(" "),i("div",{staticClass:"header expanded row columns"},[i("ucm-breadcrumb",{attrs:{title:t.navigateBackLabel},on:{"navigate-back":t.confirmNavigateBack}}),t._v(" "),i("auto-sizing-input",{attrs:{id:"edit-collection-title",tooltip:t.$t("Edit Title"),maxLength:t.titleMaxLength},on:{blur:t.blur},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}}),t._v(" "),i("div",{staticClass:"actions"},[i("button",{staticClass:"button tertiary convert-button",attrs:{disabled:t.isSavable},on:{click:t.convert}},[t._v("\n        "+t._s(t.convertLabel)+"\n      ")]),t._v(" "),i("button",{staticClass:"button save-button",class:{disabled:!t.isSavable},attrs:{disabled:!t.isSavable},on:{click:t.saveCollection}},[t._v("\n        "+t._s(t.$t("Save Changes"))+"\n      ")]),t._v(" "),!1===t.isFolder?i("button",{staticClass:"button lightup-button",on:{click:t.confirmViewCollection}},[t._v("\n        "+t._s(t.viewItemLabel)+"\n      ")]):t._e()])],1),t._v(" "),i("tabs",{attrs:{disabledTabs:t.disabledTabs},on:{"tab-change":t.tabChanged},scopedSlots:t._u([{key:"tab-header-general",fn:function(){return[t._v("\n      "+t._s(t.$t("General"))+"\n    ")]},proxy:!0},{key:"tab-general",fn:function(){return[i("ucm-edit-collection-general",{ref:t.UcmEditCollectionTabs.GENERAL,attrs:{collection:t.collection,editCallback:t.checkIsEdited}})]},proxy:!0},{key:"tab-header-models",fn:function(){return[t._v("\n      "+t._s(t.$t("Models"))+"\n    ")]},proxy:!0},{key:"tab-models",fn:function(){return[i("ucm-content-models",{ref:t.UcmEditCollectionTabs.MODELS,attrs:{id:"collectionModels",collection:t.collection,dataOwner:t.dataOwner,parentPageType:t.pageType,pageSizeInitial:t.pageSize}})]},proxy:!0},{key:"tab-header-folders",fn:function(){return[t._v("\n      "+t._s(t.$t("Folders"))+"\n    ")]},proxy:!0},{key:"tab-folders",fn:function(){return[i("ucm-content-folders",{ref:t.UcmEditCollectionTabs.FOLDERS,attrs:{id:"collectionFolders",collection:t.collection,dataOwner:t.dataOwner,parentPageType:t.pageType,pageSizeInitial:t.pageSize}})]},proxy:!0},{key:"tab-header-collections",fn:function(){return[t._v("\n      "+t._s(t.$t("Collections"))+"\n    ")]},proxy:!0},{key:"tab-collections",fn:function(){return[i("ucm-content-collections",{ref:t.UcmEditCollectionTabs.COLLECTIONS,attrs:{id:"collectionCollections",collection:t.collection,dataOwner:t.dataOwner,parentPageType:t.pageType,pageSizeInitial:t.pageSize}})]},proxy:!0},{key:"tab-header-analytics",fn:function(){return[t._v("\n      "+t._s(t.$t("Analytics"))+"\n    ")]},proxy:!0},{key:"tab-analytics",fn:function(){return[i("item-analytics-chart",{ref:t.UcmEditCollectionTabs.ANALYTICS,class:{"ucm-analytics":!0},attrs:{shouldInitializeChart:t.onAnalyticsTab,sourceItem:t.collection}})]},proxy:!0}],null,!1,1460595289)})],1):i("div",{staticClass:"loading"})}),[],!1,null,"2b88ef2e",null).exports,ct=i(153),dt=i(13),ut=i(9),ht=i(779),pt=i(913).a,mt=Object(f.a)(pt,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"edit-model-content"},[i("div",{staticClass:"title-content"},[i("div",{staticClass:"upload-image"},[t.$isAdmin||t.$inOrgContext?i("div",{staticClass:"overlay overlay-hover",on:{click:t.changeThumbnail}},[i("div",{staticClass:"overlay-text"},[i("div",{staticClass:"svg-icon"},[i("IconEditDefault")],1),t._v("\n          "+t._s(t.$t("Edit Thumbnail"))+"\n        ")])]):t._e(),t._v(" "),i("div",{staticClass:"img-container"},[i("picture",[t.missingCustomImageBinary&&!t.skpFileUpdated?i("source",{attrs:{srcset:t.webpThumbnailUrl,type:"image/webp"}}):t._e(),t._v(" "),i("img",{attrs:{src:t.thumbnailUrl}})]),t._v(" "),t.entity.isRendering?i("div",{staticClass:"re-rendering-overlay"},[t._m(0)]):t._e()])]),t._v(" "),i("div",{staticClass:"entity-info"},[i("div",{staticClass:"entity-filename"},[t._v("\n        "+t._s(t.filename)+"\n      ")]),t._v(" "),i("div",{staticClass:"entity-upload-date"},[t._v("\n        "+t._s(t.$t("Uploaded"))+" "+t._s(t.sourceBinaryModifyDate)+"\n      ")]),t._v(" "),i("file-upload",t._b({ref:"fileUpload",attrs:{disabled:t.uploading,clickUpload:!0,clickUploadText:t.$t("Upload New File"),acceptableFileFormats:".skp"}},"file-upload",t.fileUploadSettings,!1))],1),t._v(" "),i("div",{staticClass:"edit-buttons"},[i("button",{staticClass:"button",attrs:{id:"button-save",disabled:!t.enableSaving},on:{click:t.saveChanges}},[t._v("\n        "+t._s(t.$t("Save Changes"))+"\n      ")]),t._v(" "),i("button",{staticClass:"button lightup-button",attrs:{id:"button-cancel"},on:{click:t.cancel}},[t._v("\n        "+t._s(t.$t("View Model"))+"\n      ")])])]),t._v(" "),i("div",{staticClass:"edit-controls"},[i("div",[i("tabs",{ref:"tabs",attrs:{disabledTabs:t.disabledTabs},on:{"tab-change":t.tabChanged},scopedSlots:t._u([{key:"tab-header-general",fn:function(){return[t._v("\n          "+t._s(t.$t("General"))+"\n        ")]},proxy:!0},{key:"tab-general",fn:function(){return[i("ucm-edit-model-general",{ref:t.UcmEditModelsTabs.GENERAL,attrs:{entity:t.entity,dataOwner:t.dataOwner,attributeTabsToggleCallback:t.attributeTabsToggleCallback}})]},proxy:!0},{key:"tab-header-attributes",fn:function(){return[t._v("\n          "+t._s(t.$t("Attributes"))+"\n        ")]},proxy:!0},{key:"tab-attributes",fn:function(){return[i("ucm-edit-model-attributes",{ref:t.UcmEditModelsTabs.ATTRIBUTES,attrs:{collectionElement:t.entity}})]},proxy:!0},{key:"tab-header-classifications",fn:function(){return[t._v("\n          "+t._s(t.$t("Classifications"))+"\n        ")]},proxy:!0},{key:"tab-classifications",fn:function(){return[i("ucm-edit-model-classifications",{ref:t.UcmEditModelsTabs.CLASSIFICATIONS,attrs:{collectionElement:t.entity}})]},proxy:!0},{key:"tab-header-links",fn:function(){return[t._v("\n          "+t._s(t.$t("Links"))+"\n        ")]},proxy:!0},{key:"tab-links",fn:function(){return[i("ucm-edit-model-links",{ref:t.UcmEditModelsTabs.LINKS,attrs:{collectionElement:t.entity}})]},proxy:!0},{key:"tab-header-analytics",fn:function(){return[t._v("\n          "+t._s(t.$t("Analytics"))+"\n        ")]},proxy:!0},{key:"tab-analytics",fn:function(){return[i("item-analytics-chart",{ref:t.UcmEditModelsTabs.ANALYTICS,class:{"ucm-analytics":!0},attrs:{sourceItem:t.entity,shouldInitializeChart:t.onAnalyticsTab}})]},proxy:!0}])})],1)])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"re-rendering-content"},[e("img",{staticClass:"re-rendering-image",attrs:{src:"/static/images/magic.svg"}})])}],!1,null,"e619aeb6",null).exports,gt=i(882),vt=function(t,e,i,s){var a,n=arguments.length,o=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,s);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(o=(n<3?a(o):n>3?a(e,i,o):a(e,i))||o);return n>3&&o&&Object.defineProperty(e,i,o),o},ft=function(t,e,i,s){return new(i||(i=Promise))((function(a,n){function o(t){try{l(s.next(t))}catch(t){n(t)}}function r(t){try{l(s.throw(t))}catch(t){n(t)}}function l(t){var e;t.done?a(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,r)}l((s=s.apply(t,e||[])).next())}))};let Ct=class UcmEditModel extends h.a{constructor(){super(...arguments),this.pageType=y.p.EDITMODEL,this.name="ucm-edit-model",this.entity=null,this.entityId=""}mounted(){this.entityId=this.$route.query.itemId,this.fetchEntity()}beforeDestroy(){this.close()}open(){}close(){null!=this.confirmModal&&(this.confirmModal.$destroy(),this.confirmModal=null),this.editor&&this.editor.close()}fetchEntity(){return ft(this,void 0,void 0,(function*(){try{let t=yield this.$api.getEntity(this.entityId,{recordEvent:!1});this.entity=new ct.c(t)}catch(t){let e={text:D.c.DATA_LOAD_ERROR},i=new dt.d(e,dt.c.ERROR);this.$store.commit("ADD_STATUS_NOTIFICATION",i)}}))}confirmNavigateBack(){this.confirmNavigation(this.goBackToModelList)}goBackToModelList(){const t={nav:y.p.MODELS};this.$router.push({query:t})}confirmViewModel(){this.confirmNavigation(this.viewModel)}viewModel(){let t=ut.p(this.entity.id,this.entity.urlTitle);ut.J(t)}get editor(){return this.$refs.editor}confirmNavigation(t){if(this.editor&&!this.editor.isEdited)return void t();const e=this.$t("Any changes you've made won't be saved. Are you sure?"),i=this.$t("Discard Changes"),s=ht.a.Alert;this.confirmAction("",e,i,s,t)}confirmAction(t,e,i,s,a){this.confirmModal?(this.confirmModal.title=t,this.confirmModal.message=e,this.confirmModal.confirmButtonText=i,this.confirmModal.acceptCallback=a,this.confirmModal.cancelCallback=null,this.confirmModal.icon=s,this.confirmModal.openModal()):(this.confirmModal=new ht.b({store:this.$store,propsData:{title:t,message:e,confirmButtonText:i,acceptCallback:a,cancelCallback:null,icon:s}}),this.confirmModal.mountOnPage())}};vt([Object(U.d)()],Ct.prototype,"dataOwner",void 0),Ct=vt([Object(U.a)({components:{EditModel:mt,UcmBreadcrumb:gt.a}})],Ct);var bt=Ct,yt=Object(f.a)(bt,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"ucm-edit-model ucm-spa"},[i("ucm-breadcrumb",{attrs:{title:t.$t("Models")},on:{"navigate-back":t.confirmNavigateBack}}),t._v(" "),t.entity?i("edit-model",{ref:"editor",staticClass:"expanded row columns",attrs:{entity:t.entity,dataOwner:t.dataOwner,uploading:!1},on:{view:t.confirmViewModel}}):i("div",{staticClass:"loading"})],1)}),[],!1,null,"f3b14c78",null).exports,wt=i(887),_t=i(676),Tt=i.n(_t),St=i(890),Et=i(74),Ot=i(7),It=i(826),At=i(735),Dt=function(t,e,i,s){var a,n=arguments.length,o=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,s);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(o=(n<3?a(o):n>3?a(e,i,o):a(e,i))||o);return n>3&&o&&Object.defineProperty(e,i,o),o},Mt=function(t,e,i,s){return new(i||(i=Promise))((function(a,n){function o(t){try{l(s.next(t))}catch(t){n(t)}}function r(t){try{l(s.throw(t))}catch(t){n(t)}}function l(t){var e;t.done?a(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,r)}l((s=s.apply(t,e||[])).next())}))};let kt=class AddOrganizationMemberModal extends R.b{constructor(){super(...arguments),this.emailAddress="",this.role=Et.c.MEMBER,this.user=null,this.errorState=!1,this.errorText="",this.isEmailValid=!1}created(){this.debouncedInput=Tt()((t=>{this.onEmailAddressInput(t)}),M.Constants.DEBOUNCE_EXTRA_SHORT)}addMember(){return Mt(this,void 0,void 0,(function*(){this.addMemberCallback(this.user,this.role),this.reset(),this.closeModal()}))}onEmailAddressInputDebounce(t){this.debouncedInput(t)}onEmailAddressInput(t){return Mt(this,void 0,void 0,(function*(){if(""!==this.emailAddress.trim()){const t={fq:`emailAddress=equalIgnoreCase="${this.emailAddress}"`,recordEvent:!1};try{const e=yield this.$api.getUsers(t);if(e.entries.length>1)this.isEmailValid=!1,this.errorState=!0,this.errorText=this.$t("More than one user found with the provided email address");else if(e.entries.length<=0)this.isEmailValid=!1,this.errorState=!0,this.errorText=this.$t("No users exist with the provided email address");else{const t=e.entries[0];(yield this.checkIsExistingMemberCallback(t.id))?(this.isEmailValid=!1,this.errorState=!0,this.errorText=this.$t("This user is already a member of the organization.")):(this.user=t,this.user.emailAddress=this.emailAddress,this.errorState=!1,this.errorText="",this.isEmailValid=!0)}}catch(t){this.$pushSnackbar(D.c.GET_USER_FAILURE,M.SnackbarMessageTypes.failure,M.SnackbarIcons.ALERT),this.emailAddress=""}}else this.isEmailValid=!1,this.errorState=!1,this.errorText=""}))}reset(){this.errorState=!1,this.errorText="",this.emailAddress="",this.role=Et.c.MEMBER}cancel(){this.reset(),this.closeModal()}};Dt([Object(U.d)({required:!0})],kt.prototype,"organizationId",void 0),Dt([Object(U.d)({required:!0})],kt.prototype,"organizationRoles",void 0),Dt([Object(U.d)({required:!0})],kt.prototype,"addMemberCallback",void 0),Dt([Object(U.d)({required:!0})],kt.prototype,"checkIsExistingMemberCallback",void 0),kt=Dt([Object(U.a)({components:{ErrorInContext:At.a,ItemSelector:$.a}})],kt);var Lt=kt,$t=Object(f.a)(Lt,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"add-organization-member-modal modal-dialog reveal",attrs:{id:"add-organization-member-modal","data-reveal":"","data-close-on-click":"true","data-close-on-esc":"true","data-animation-in":"fade-in fast"}},[i("div",{staticClass:"modal-close-x",on:{click:t.cancel}}),t._v(" "),i("div",{staticClass:"modal-dialog-header"},[i("div",{staticClass:"modal-dialog-title-text title add-organization-member-title"},[t._v("\n      "+t._s(t.$t("Add Member"))+"\n    ")])]),t._v(" "),i("div",{staticClass:"modal-dialog-content add-organization-member-content"},[i("div",{staticClass:"email-address-container row column"},[i("error-in-context",{attrs:{contextHeader:t.$t("Email Address"),errorState:t.errorState,errorText:t.errorText,isRequired:!0}}),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.emailAddress,expression:"emailAddress"}],attrs:{type:"text",id:"add-organization-member-email-address"},domProps:{value:t.emailAddress},on:{input:[function(e){e.target.composing||(t.emailAddress=e.target.value)},t.onEmailAddressInputDebounce]}})],1),t._v(" "),i("div",{staticClass:"role-selector-container row column"},[i("error-in-context",{attrs:{contextHeader:t.$t("Role"),isRequired:!0}}),t._v(" "),i("item-selector",{staticClass:"role-selector",attrs:{id:"add-organization-member-role-dropdown",items:t.organizationRoles,disabled:!t.isEmailValid,dropdownWidthShouldMatchSelectorWidth:!0},model:{value:t.role,callback:function(e){t.role=e},expression:"role"}})],1)]),t._v(" "),i("div",{staticClass:"modal-dialog-footer"},[i("button",{staticClass:"modal-dialog-button-close lightup-button button",attrs:{id:"add-org-member-cancel-button"},on:{click:t.cancel}},[t._v("\n      "+t._s(t.$t("Cancel"))+"\n    ")]),t._v(" "),i("button",{staticClass:"modal-dialog-button-ok button",class:{disabled:!t.isEmailValid},attrs:{id:"add-org-member-add-button",disabled:!t.isEmailValid},on:{click:t.addMember}},[t._v("\n      "+t._s(t.$t("Add"))+"\n    ")])])])}),[],!1,null,"cfb1bf02",null).exports,xt=i(809),Pt=function(t,e,i,s){var a,n=arguments.length,o=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,s);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(o=(n<3?a(o):n>3?a(e,i,o):a(e,i))||o);return n>3&&o&&Object.defineProperty(e,i,o),o},Rt=function(t,e,i,s){return new(i||(i=Promise))((function(a,n){function o(t){try{l(s.next(t))}catch(t){n(t)}}function r(t){try{l(s.throw(t))}catch(t){n(t)}}function l(t){var e;t.done?a(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,r)}l((s=s.apply(t,e||[])).next())}))};let Nt=class UcmEditOrganization extends(Object(U.c)(St.a)){constructor(){super(...arguments),this.pageType=y.p.EDITORGANIZATION,this.searchQuery="",this.lastSearchQuery="",this.members=[],this.addOrganizationMemberModal=null}created(){return Rt(this,void 0,void 0,(function*(){this.organizationId=this.$route.params.orgId,this.debouncedSearchInput=Tt()((()=>{this.searchQueryChanged()}),M.Constants.DEBOUNCE_EXTRA_SHORT),this.debounceNotificationReceiverInput=Tt()((t=>{this.notificationReceiverToggle(t)}),M.Constants.DEBOUNCE_EXTRA_SHORT)}))}mounted(){return Rt(this,void 0,void 0,(function*(){try{yield this.fetchMembers()}catch(t){this.$pushSnackbar(this.$t("Failure occurred when attempting to fetch org members."),M.SnackbarMessageTypes.failure,M.SnackbarIcons.ALERT)}}))}get organizationRoles(){return[{value:Et.c.GROUP_ADMIN,label:this.$t(Et.b.ADMIN),helpText:this.$t(Et.a.CONTENT_EDITOR)+"\n"+this.$t(Et.a.MEMBER_EDITOR)},{value:Et.c.ANALYST,label:this.$t(Et.b.ANALYST),helpText:this.$t(Et.a.ANALYTICS_VIEWER)},{value:Et.c.MEMBER,label:this.$t(Et.b.MEMBER),helpText:this.$t(Et.a.CONTENT_EDITOR)}]}open(){}close(){}canEditRow(t){return this.$isAdmin||!this.isCurrentAdminRow(t)}isCurrentAdminRow(t){return this.$user.id===t.id}searchQueryChanged(){return Rt(this,void 0,void 0,(function*(){if(this.lastSearchQuery===this.searchQuery)return;const t=`displayName=like="${this.searchQuery}",emailAddress=="${this.searchQuery}"`;yield this.fetchMembers(t),this.lastSearchQuery=this.searchQuery}))}fetchMembers(t=""){return Rt(this,void 0,void 0,(function*(){const e=(yield this.$api.fetchOrgUsers(this.dataOwner.id,0,Ot.SortBy.DisplayNameAsc,t)).entries;this.members=e.map((t=>{const e=t,i=Object(Et.f)(t,this.dataOwner.id);return e.orgRoles=i,e.isNotificationReceiver=-1!==i.indexOf(Et.c.NOTIFICATION_RECEIVER),e.currentRoleSelection=Object(Et.g)(i),e}))}))}beforeDestroy(){null!=this.addOrganizationMemberModal&&(this.addOrganizationMemberModal.$destroy(),this.addOrganizationMemberModal=null)}onRoleDropdownChange(t,e){return Rt(this,void 0,void 0,(function*(){try{const i=this.members.find((e=>e.id===t));let s=[{relationType:e}];e!==Et.c.MEMBER&&s.push({relationType:Et.c.MEMBER}),i.isNotificationReceiver&&s.push({relationType:Et.c.NOTIFICATION_RECEIVER}),yield this.$api.putOrgMembership(this.dataOwner.id,i.id,s,!0),i.orgRoles=s.map((t=>t.relationType)),i.currentRoleSelection=Object(Et.g)(i.orgRoles),this.$pushSnackbar(this.$t("Successfully updated member's role."),M.SnackbarMessageTypes.success,M.SnackbarIcons.SUCCESS)}catch(t){this.$pushSnackbar(this.$t("Failure occurred when attempting to update member's role."),M.SnackbarMessageTypes.failure,M.SnackbarIcons.ALERT)}}))}notificationReceiverToggle(t){return Rt(this,void 0,void 0,(function*(){try{let e=[];for(const i of t.orgRoles)i!==Et.c.NOTIFICATION_RECEIVER&&e.push({relationType:i});t.isNotificationReceiver&&e.push({relationType:Et.c.NOTIFICATION_RECEIVER}),yield this.$api.putOrgMembership(this.dataOwner.id,t.id,e,!0),t.orgRoles=e.map((t=>t.relationType)),this.$pushSnackbar(this.$t("Successfully updated member's notification status."),M.SnackbarMessageTypes.success,M.SnackbarIcons.SUCCESS)}catch(t){this.$pushSnackbar(this.$t("Failure occurred when attempting to update member's notification status."),M.SnackbarMessageTypes.failure,M.SnackbarIcons.ALERT)}}))}searchQueryDebounce(){this.debouncedSearchInput()}notificationReceiverToggleDebounce(t){this.debounceNotificationReceiverInput(t)}createSupplementalMenu(t){return[{eventName:y.f.RemoveOrgMember,title:this.$t("Remove"),value:t.id}]}handleMenuAction(t){if(t.eventName===y.f.RemoveOrgMember)this.buildConfirmRemoveUserModal(t.value)}addMember(){null!=this.addOrganizationMemberModal||(this.addOrganizationMemberModal=new $t({store:this.$store,propsData:{organizationId:this.organizationId,organizationRoles:this.organizationRoles,addMemberCallback:this.addMemberCallback,checkIsExistingMemberCallback:this.checkIsExistingMemberCallback}}),this.addOrganizationMemberModal.mountOnPage()),this.addOrganizationMemberModal.openModal()}addMemberCallback(t,e){return Rt(this,void 0,void 0,(function*(){try{const i=[e];e!==Et.c.MEMBER&&i.push(Et.c.MEMBER),yield this.$api.addUserToOrganization(t.id,this.organizationId,i),this.$pushSnackbar(this.$t("Successfully added user to organization."),M.SnackbarMessageTypes.success,M.SnackbarIcons.SUCCESS);const s=t;s.orgRoles=i,s.currentRoleSelection=Object(Et.g)(i),this.members.unshift(s)}catch(t){this.$pushSnackbar(D.c.FAILED_TO_ADD_USER_ORGANIZATION,M.SnackbarMessageTypes.failure,M.SnackbarIcons.ALERT)}}))}checkIsExistingMemberCallback(t){return Rt(this,void 0,void 0,(function*(){const e=`id==${t}`;return(yield this.$api.fetchOrgUsers(this.organizationId,0,Ot.SortBy.DisplayNameAsc,e)).entries.length>0}))}createCheckboxId(t){return`receive-notifications-${t}`}buildConfirmRemoveUserModal(t){const e=this.$t("Are you sure you want to remove this user from the organization?"),i=this.$t("Remove"),s=ht.a.Alert;this.confirmAction("",e,i,s,!0,(()=>this.removeMember(t)))}removeMember(t){return Rt(this,void 0,void 0,(function*(){try{yield this.$api.removeUserFromOrganization(this.organizationId,t),this.members=this.members.filter((e=>e.id!==t)),this.$pushSnackbar(this.$t("Successfully removed user from organization."),M.SnackbarMessageTypes.success,M.SnackbarIcons.SUCCESS)}catch(t){this.$pushSnackbar(D.c.FAILED_TO_REMOVE_MEMBER_ORGANIZATION,M.SnackbarMessageTypes.failure,M.SnackbarIcons.ALERT)}}))}};Pt([Object(U.d)()],Nt.prototype,"dataOwner",void 0),Nt=Pt([Object(U.a)({components:{AddOrganizationMemberModal:$t,EditProfileHeader:It.a,IconSearch:wt.a,ItemSelector:$.a,SupplementalMenu:xt.a}})],Nt);var Ut=Nt,Ft=Object(f.a)(Ut,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"ucm-edit-organization ucm-spa",attrs:{id:"ucm-edit-organization"}},[i("edit-profile-header",{ref:"header",attrs:{dataOwner:t.dataOwner,showManage:!1,showViewText:!1}}),t._v(" "),i("div",{staticClass:"search-container",attrs:{id:"ucm-edit-organization-search-container"}},[i("h1",{staticClass:"title"},[t._v("\n      "+t._s(t.$t("Members"))+"\n    ")]),t._v(" "),i("div",{staticClass:"edit-organization-search-container"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.searchQuery,expression:"searchQuery"}],staticClass:"edit-organization-filter",attrs:{id:"ucm-edit-organization-filter",placeholder:t.$t("Search for users by name or email"),type:"text",autocomplete:"off"},domProps:{value:t.searchQuery},on:{input:[function(e){e.target.composing||(t.searchQuery=e.target.value)},t.searchQueryDebounce]}})])]),t._v(" "),i("div",{staticClass:"add-member-container"},[i("button",{staticClass:"button add-member-button",on:{click:t.addMember}},[t._v("\n      "+t._s(t.$t("Add Member"))+"\n    ")])]),t._v(" "),i("table",{staticClass:"members-table"},[i("thead",[i("tr",{staticClass:"header-row"},[i("th",{staticClass:"name-header"},[t._v(" "+t._s(t.$t("User Name"))+" ")]),t._v(" "),i("th",{staticClass:"email-header"},[t._v(" "+t._s(t.$t("Email"))+" ")]),t._v(" "),i("th",{staticClass:"role-header"},[t._v(" "+t._s(t.$t("Role"))+" ")]),t._v(" "),i("th",{staticClass:"notification-receiver-header"},[t._v(" "+t._s(t.$t("Receives Emails"))+" ")]),t._v(" "),i("th",{staticClass:"supplemental-menu-header"})])]),t._v(" "),i("tbody",t._l(t.members,(function(e){return i("tr",{key:e.id,staticClass:"member-row"},[i("td",{staticClass:"member-name"},[t._v(" "+t._s(e.displayName)+" ")]),t._v(" "),i("td",{staticClass:"member-email"},[t._v(" "+t._s(e.emailAddress)+" ")]),t._v(" "),i("td",{staticClass:"member-role"},[i("item-selector",{staticClass:"user-role-selector",attrs:{id:"ucm-edit-organization-user-role-dropdown",disabled:!t.canEditRow(e),items:t.organizationRoles,value:e.currentRoleSelection},on:{input:function(i){for(var s=arguments.length,a=Array(s);s--;)a[s]=arguments[s];return t.onRoleDropdownChange.apply(void 0,[e.id].concat(a))}},model:{value:e.currentRoleSelection,callback:function(i){t.$set(e,"currentRoleSelection",i)},expression:"member.currentRoleSelection"}})],1),t._v(" "),i("td",{staticClass:"member-notification-receiver"},[i("label",{staticClass:"container",attrs:{for:t.createCheckboxId(e.id)}},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.isNotificationReceiver,expression:"member.isNotificationReceiver"}],attrs:{id:t.createCheckboxId(e.id),type:"checkbox",disabled:!t.canEditRow(e)},domProps:{checked:Array.isArray(e.isNotificationReceiver)?t._i(e.isNotificationReceiver,null)>-1:e.isNotificationReceiver},on:{change:[function(i){var s=e.isNotificationReceiver,a=i.target,n=!!a.checked;if(Array.isArray(s)){var o=t._i(s,null);a.checked?o<0&&t.$set(e,"isNotificationReceiver",s.concat([null])):o>-1&&t.$set(e,"isNotificationReceiver",s.slice(0,o).concat(s.slice(o+1)))}else t.$set(e,"isNotificationReceiver",n)},function(i){return t.notificationReceiverToggleDebounce(e)}]}}),t._v(" "),i("span",{staticClass:"checkmark"})])]),t._v(" "),i("td",{staticClass:"supplemental-menu-cell"},[t.canEditRow(e)?i("supplemental-menu",{attrs:{menu:t.createSupplementalMenu(e),broadcast:!1},on:{action:t.handleMenuAction}}):t._e()],1)])})),0)])],1)}),[],!1,null,"0c75213e",null),Bt=Ft.exports,jt=i(867),Vt=i(728),Ht=function(t,e,i,s){var a,n=arguments.length,o=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,s);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(o=(n<3?a(o):n>3?a(e,i,o):a(e,i))||o);return n>3&&o&&Object.defineProperty(e,i,o),o};let Gt=class BackCrumb extends h.a{constructor(){super(...arguments),this.name="back-crumb"}onClick(){if(this.target){const t={nav:this.target};this.$router.push({query:t})}}};Gt=Ht([Object(o.b)({props:{target:String,title:String},components:{IconChevron:Vt.a}})],Gt);var zt=Gt,Wt=Object(f.a)(zt,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"back-crumb",on:{click:t.onClick}},[i("div",{staticClass:"crumb-icon"},[i("icon-chevron",{attrs:{direction:"left"}})],1),t._v(" "),i("div",{staticClass:"crumb-title"},[t._v(t._s(t.title))])])}),[],!1,null,null,null).exports,Yt=i(889),qt=function(t,e,i,s){var a,n=arguments.length,o=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,s);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(o=(n<3?a(o):n>3?a(e,i,o):a(e,i))||o);return n>3&&o&&Object.defineProperty(e,i,o),o};let Kt=class UcmContentCatalogs extends Yt.a{constructor(){super(...arguments),this.name="ucm-content-catalogs",this.elementCount=0}get privacyLevel(){return this.isPrivate?s.PrivacyLevel.Private:s.PrivacyLevel.Public}get totalItemLabel(){return this.$t("Catalogs")}getSharedFqArgs(){return[`(subtype==${y.b.CATALOG})`,this.formatFilter("title")]}getLikedFqArgs(){const t=this.getSharedFqArgs();return t.push(`reviewers==${this.dataOwner.id}`),t}getCatalogFqArgs(){const t=this.getSharedFqArgs();return t.push(`parentCollectionId==${this.collection.id}`),t}getContentFilter(){const t=this.likedContent?this.getLikedFqArgs():this.getCatalogFqArgs();return this.buildSearchParams(t,this.privacyLevel)}};Kt=qt([Object(U.a)({components:{BulkControls:X.a,ContentPresenter:L.a,ItemSelector:$.a,SortSelector:N.a}})],Kt);var Xt=Kt,Zt=Object(f.a)(Xt,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"ucm-content-catalogs ucm-content-base",attrs:{id:t.id}},[t.isSelecting?i("bulk-controls",{staticClass:"row columns",attrs:{id:t.bulkId,dataOwner:t.dataOwner,useRemove:!0,pageType:t.parentPageType,showAddToCollectionAction:!1,selectedContent:t.selectedContent,selectedContentCount:t.selectedContentCount,selectAllContent:t.selectAllContent,deleteHandler:t.confirmDeleteSelected}}):i("div",{staticClass:"info-row expanded row columns"},[i("div",{staticClass:"catalog-count"},[t._v("\n      "+t._s(t.elementCount+" "+t.totalItemLabel)+"\n    ")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.filter,expression:"filter"}],staticClass:"filter",attrs:{id:"ucm-content-catalogs-filter",placeholder:t.$t("Filter"),type:"text",disabled:t.isLoading},domProps:{value:t.filter},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.checkFilter.apply(null,arguments)},input:function(e){e.target.composing||(t.filter=e.target.value)}}}),t._v(" "),i("sort-selector",{attrs:{id:"catalogs-sort",fields:t.sortFields},model:{value:t.sortSelection,callback:function(e){t.sortSelection=e},expression:"sortSelection"}})],1),t._v(" "),i("div",{staticClass:"presenter-info columns"},[i("div",{staticClass:"view-controls"},[i("div",{staticClass:"page-size-selector"},[i("item-selector",{attrs:{id:"page-size-list",title:t.$t("Page Size"),items:t.pageSizeFields},model:{value:t.pageSizeSelected,callback:function(e){t.pageSizeSelected=e},expression:"pageSizeSelected"}})],1)])]),t._v(" "),i("content-presenter",{ref:"ucmContent",attrs:{id:t.presenterId,scrollTrigger:t.presenterTrigger,type:"catalogs",filter:t.getContentFilter(),sortBy:t.sortBy,manageMode:!0,largerRows:!0,manageModeContext:t.manageModeContext,useRemove:!0,selectableCards:!0,hasSupplementalMenu:!0,actionCallback:t.presenterActionHandler,deleteCallback:t.deleteItemCallback,deleteBulkCallback:t.deleteBulkItemsCallback,hasVerifiedContent:t.hasVerifiedContent,isFolder:t.isParentFolder,privateMode:t.isPrivate,dataOwner:t.dataOwner,collectionId:t.collection.id,page:t.page,pageSize:t.pageSize}})],1)}),[],!1,null,"79adcacc",null),Jt=Zt.exports,Qt=i(920),te=i(935),ee=i(921),ie=function(t,e,i,s){var a,n=arguments.length,o=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,s);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(o=(n<3?a(o):n>3?a(e,i,o):a(e,i))||o);return n>3&&o&&Object.defineProperty(e,i,o),o},se=function(t,e,i,s){return new(i||(i=Promise))((function(a,n){function o(t){try{l(s.next(t))}catch(t){n(t)}}function r(t){try{l(s.throw(t))}catch(t){n(t)}}function l(t){var e;t.done?a(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,r)}l((s=s.apply(t,e||[])).next())}))};let ae=class UcmFavorites extends H.a{constructor(){super(...arguments),this.name="ucm-favorites",this.pageType=y.p.FAVORITES,this.manageModeContext=y.e.FAVORITES,this.sortFields=[{value:Ot.SortField.CreateTime,label:this.$t("Date Added")},{value:Ot.SortField.ModifyTime,label:this.$t("Date Modified")},{value:Ot.SortField.Title,label:this.$t("Title")},{value:Ot.SortField.Popularity,label:this.$t("Popularity")},{value:Ot.SortField.ReviewCount,label:this.$t("Likes")},{value:Ot.SortField.CreatorName,label:this.$t("Author")}]}beforeDestroy(){this.$eventBus.$off(M.Events.PAGE_SIZE_CHANGED,this.onPageSizeChanged)}created(){const t=this.$store.getters.favorites;t&&(this.collection=A.a.create(t))}mounted(){return se(this,void 0,void 0,(function*(){this.$eventBus.$on(M.Events.PAGE_SIZE_CHANGED,this.onPageSizeChanged),this.setupPageState()}))}onPageSizeChanged(t){this.pageSize=parseInt(t)}setupPageState(){this.setupBasePageState()}get presenter(){if(!this.isMounted)return null;const t=this.getCurrentContent();return null!=t?t.presenter:null}getCurrentContent(){const t=this.$route.query.tab,e=this.$refs[t];return e||null}setDeleteContext(t){const e=null!=t||1===this.selectedContent.length;let i,s;i=this.$t("You're about to remove the selected item(s) from your Favorites."),s=this.$t("The item(s) were removed."),this.deleteContext={parentId:this.collection.id,confirmMessage:this.completeConfirmMessage(i),failureMessage:D.c.GENERIC_TRY_AGAIN,successMessage:s,isSingle:e,isRemove:!0,item:t}}};ae=ie([Object(U.a)({components:{BackCrumb:Wt,BulkControls:X.a,ContentPresenter:L.a,SortSelector:N.a,Tabs:jt.a,UcmContentCatalogs:Jt,UcmContentCollections:Qt.a,UcmContentFolders:te.a,UcmContentModels:ee.a},data:()=>({Headers:D.e,UcmPages:y.p,UcmFavoritesTabs:y.n}),watch:{selected:function(t){this.selectAllContent(t)}}})],ae);var ne=ae,oe=Object(f.a)(ne,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"ucm-favorites ucm-spa",class:{selecting:t.isSelecting},attrs:{id:"ucm-favorites"}},[i("div",{staticClass:"header"},[i("div",{staticClass:"title"},[t._v("\n      "+t._s(t.$t(t.Headers.FAVORITES_TITLE))+"\n    ")])]),t._v(" "),i("tabs",{scopedSlots:t._u([{key:"tab-header-models",fn:function(){return[t._v("\n      "+t._s(t.$t("Models"))+"\n    ")]},proxy:!0},{key:"tab-models",fn:function(){return[i("ucm-content-models",{ref:t.UcmFavoritesTabs.MODELS,attrs:{id:"favModels",collection:t.collection,dataOwner:t.dataOwner,parentPageType:t.pageType,pageSizeInitial:t.pageSize}})]},proxy:!0},{key:"tab-header-folders",fn:function(){return[t._v("\n      "+t._s(t.$t("Folders"))+"\n    ")]},proxy:!0},{key:"tab-folders",fn:function(){return[i("ucm-content-folders",{ref:t.UcmFavoritesTabs.FOLDERS,attrs:{id:"favFolders",isPrivate:!0,collection:t.collection,dataOwner:t.dataOwner,parentPageType:t.pageType,pageSizeInitial:t.pageSize}})]},proxy:!0},{key:"tab-header-collections",fn:function(){return[t._v("\n      "+t._s(t.$t("Collections"))+"\n    ")]},proxy:!0},{key:"tab-collections",fn:function(){return[i("ucm-content-collections",{ref:t.UcmFavoritesTabs.COLLECTIONS,attrs:{id:"favCollections",isPrivate:!1,collection:t.collection,dataOwner:t.dataOwner,parentPageType:t.pageType,pageSizeInitial:t.pageSize}})]},proxy:!0},{key:"tab-header-catalogs",fn:function(){return[t._v("\n      "+t._s(t.$t("Catalogs"))+"\n    ")]},proxy:!0},{key:"tab-catalogs",fn:function(){return[i("ucm-content-catalogs",{ref:t.UcmFavoritesTabs.CATALOGS,attrs:{id:"favCatalogs",isPrivate:!1,collection:t.collection,dataOwner:t.dataOwner,parentPageType:t.pageType,pageSizeInitial:t.pageSize}})]},proxy:!0}])})],1)}),[],!1,null,"2aa45894",null).exports,re=function(t,e,i,s){var a,n=arguments.length,o=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,s);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(o=(n<3?a(o):n>3?a(e,i,o):a(e,i))||o);return n>3&&o&&Object.defineProperty(e,i,o),o},le=function(t,e,i,s){return new(i||(i=Promise))((function(a,n){function o(t){try{l(s.next(t))}catch(t){n(t)}}function r(t){try{l(s.throw(t))}catch(t){n(t)}}function l(t){var e;t.done?a(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,r)}l((s=s.apply(t,e||[])).next())}))};let ce=class UcmFolders extends H.a{constructor(){super(...arguments),this.name="ucm-folders",this.manageModeContext=y.e.FOLDERS,this.listViewOpts={listHeaders:["","",this.$t("Title"),this.$t("Element Count"),this.$t("Created"),this.$t("Last Modified"),""],itemIndices:["image","title","elementCount","createdJustDate","lastModifiedJustDate"],linkIndex:"title",linkType:"edit",imageIndex:"image",hasCheckbox:!0},this.sortFields=[{value:Ot.SortField.CreateTime,label:this.$t("Date Added")},{value:Ot.SortField.ModifyTime,label:this.$t("Date Modified")},{value:Ot.SortField.Title,label:this.$t("Title")}]}beforeDestroy(){this.$eventBus.$off(y.m.FOLDERS_UPDATED,this.onFoldersUpdated),null!=this.addModalDlg&&(this.addModalDlg.$destroy(),this.addModalDlg=null)}mounted(){return le(this,void 0,void 0,(function*(){this.$eventBus.$on(y.m.FOLDERS_UPDATED,this.onFoldersUpdated)}))}close(){this.baseClose(),this.addModalDlg&&(this.addModalDlg.$destroy(),this.addModalDlg=null)}get presenter(){return this.isMounted?this.$refs.presenter:null}get useDirectApi(){return!1}get foldersParams(){return{fq:[this.useDirectApi?null:`creator.id==${this.dataOwner.id}`,'baseAccessLevel=="none"',this.formatFilter("title"),'(subtype=exists=false,subtype=="")'].filter((t=>t)).join(";"),showBinaryMetadata:!0,show:s.PrivacyLevel.Private,recordEvent:!1}}onNewFolder(){this.addModalDlg?this.addModalDlg.openModal():(this.addModalDlg=new P({store:this.$store,propsData:{animationIn:R.a.SlideInUp,animationOut:R.a.SlideOutDown,modalTitle:this.$t("New Folder"),placeholder:this.$t("Folder Name"),minLength:M.Constants.SECTION_TITLE_MIN_LENGTH,maxLength:M.Constants.SECTION_TITLE_MAX_LENGTH,acceptCallback:this.folderAdded,catalogFunction:this.addFolder}}),this.addModalDlg.mountOnPage())}addFolder(t){return le(this,void 0,void 0,(function*(){if(yield this.isDuplicateName(t))return"";let e="";const i={title:t,description:" ",isPrivate:!0};try{e=(yield this.$store.dispatch("CREATE_UCM_ITEM",{item:i,type:"folder"})).id}catch(t){this.$pushSnackbar(D.c.GENERIC_TRY_AGAIN,M.SnackbarMessageTypes.failure,M.SnackbarIcons.ALERT)}return e}))}isDuplicateName(t){return le(this,void 0,void 0,(function*(){if(t===D.e.FAVORITES_TITLE||t===D.e.LIKED_CONTENT_TITLE){const t=M.SnackbarIcons.ALERT,e=D.c.NAME_ALREADY_USED;return this.$pushSnackbar(e,M.SnackbarMessageTypes.failure,t),!0}return!1}))}folderAdded(t){return le(this,void 0,void 0,(function*(){if(t.length>0){const e={recordEvent:!1,showAttributes:!0,showBinaryMetadata:!0,showHidden:!0};try{const i=yield this.$api.getCollection(t,e),s=A.a.create(i);this.$refs.presenter.addItem(s)}catch(t){}this.navigateToFolder(t)}}))}navigateToFolder(t){let e=y.p.EDITFOLDER;const i=Object.assign(Object.assign({},this.$route.query),{nav:e,itemId:t});this.$router.push({query:i})}setDeleteContext(t){const e=null!=t||1===this.selectedContent.length,i=this.$t("You're about to delete the selected folder(s). Item(s) within the folder(s) will not be deleted."),s=this.$t("The folder(s) were deleted.");this.deleteContext={parentId:null,confirmMessage:this.completeConfirmMessage(i),failureMessage:D.c.GENERIC_TRY_AGAIN,successMessage:s,isSingle:e,item:t}}onFoldersUpdated(t,e){t?this.presenter.removeItemFromPresenter(e):this.presenter.addItem(e)}};ce=re([Object(U.a)({components:{BulkControls:X.a,ContentPresenter:L.a,IconCreateFill:O.a,IconCreateOutline:I.a,ItemSelector:$.a,ListViewToggle:k.a,SortSelector:N.a,UcmHeaderTitle:V}})],ce);var de=ce,ue=Object(f.a)(de,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"ucm-folders ucm-spa",class:{selecting:t.isSelecting},attrs:{id:"ucm-folders"}},[i("div",{staticClass:"header-container"},[i("ucm-header-title",{attrs:{title:t.$t("Folders"),tooltip:t.$t("Add Folder"),canCreate:!t.isSelecting&&(t.isContentOwner||t.$inOrgContext)},on:{create:function(e){return t.onNewFolder()}}}),t._v(" "),t.isSelecting?t._e():i("div",{staticClass:"controls columns"},[i("div",{staticClass:"tag-line"},[t._v(t._s(t.$t("Folders are visible to you only.")))]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.filter,expression:"filter"}],staticClass:"filter",attrs:{id:"folder-filter",placeholder:t.$t("Filter"),type:"text",disabled:t.isLoading},domProps:{value:t.filter},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.checkFilter.apply(null,arguments)},input:function(e){e.target.composing||(t.filter=e.target.value)}}}),t._v(" "),i("sort-selector",{attrs:{id:"folder-sort",disabled:t.isLoading,fields:t.sortFields},model:{value:t.sortSelection,callback:function(e){t.sortSelection=e},expression:"sortSelection"}})],1),t._v(" "),t.isSelecting?i("bulk-controls",{staticClass:"row columns",attrs:{id:"folders",dataOwner:t.dataOwner,showAddToCollectionAction:!1,selectedContent:t.selectedContent,selectedContentCount:t.selectedContentCount,selectAllContent:t.selectAllContent,deleteHandler:t.confirmDeleteSelected}}):t._e()],1),t._v(" "),i("div",{staticClass:"presenter-info columns"},[null!=t.entityCount?i("div",{staticClass:"folder-count"},[i("div",{staticClass:"count"},[t._v("\n        "+t._s(this.entityCount)+"\n      ")]),t._v("\n      "+t._s(t.$t("folders"))+"\n    ")]):t._e(),t._v(" "),i("div",{staticClass:"view-controls"},[i("div",{staticClass:"page-size-selector"},[i("item-selector",{attrs:{id:"page-size-list",title:t.$t("Page Size"),items:t.pageSizeFields},model:{value:t.pageSizeSelected,callback:function(e){t.pageSizeSelected=e},expression:"pageSizeSelected"}})],1),t._v(" "),t.enableListView?i("list-view-toggle",{attrs:{hidden:t.isSelecting,viewType:t.viewType},on:{"toggle-grid":t.toggleGrid}}):t._e()],1)]),t._v(" "),i("content-presenter",{ref:"presenter",class:{selecting:t.isSelecting},attrs:{id:"folders-presenter",type:"folders",filter:t.foldersParams,manageMode:!0,manageModeContext:t.manageModeContext,selectableCards:!0,sortBy:t.sortBy,scrollTrigger:"#folders-presenter",largerRows:!0,deleteCallback:t.deleteItemCallback,deleteBulkCallback:t.deleteBulkItemsCallback,dataOwner:t.dataOwner,pageSize:t.pageSize,privateMode:!0,showAuthorNames:!1,page:t.page,view:t.viewType,listViewOpts:t.listViewOpts,useDirectApi:t.useDirectApi}})],1)}),[],!1,null,"614d29e1",null),he=ue.exports,pe=function(t,e,i,s){var a,n=arguments.length,o=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,s);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(o=(n<3?a(o):n>3?a(e,i,o):a(e,i))||o);return n>3&&o&&Object.defineProperty(e,i,o),o},me=function(t,e,i,s){return new(i||(i=Promise))((function(a,n){function o(t){try{l(s.next(t))}catch(t){n(t)}}function r(t){try{l(s.throw(t))}catch(t){n(t)}}function l(t){var e;t.done?a(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,r)}l((s=s.apply(t,e||[])).next())}))};let ge=class UcmLikedContent extends H.a{constructor(){super(...arguments),this.name="ucm-liked-content",this.pageType=y.p.LIKEDCONTENT,this.manageModeContext=y.e.LIKED_CONTENT,this.sortFields=[{value:Ot.SortField.CreateTime,label:this.$t("Date Added")},{value:Ot.SortField.ModifyTime,label:this.$t("Date Modified")},{value:Ot.SortField.Title,label:this.$t("Title")},{value:Ot.SortField.Popularity,label:this.$t("Popularity")},{value:Ot.SortField.ReviewCount,label:this.$t("Likes")},{value:Ot.SortField.CreatorName,label:this.$t("Author")}]}beforeDestroy(){this.$eventBus.$off(M.Events.PAGE_SIZE_CHANGED,this.onPageSizeChanged)}created(){const t=this.$store.getters.lastLiked;t&&(this.collection=A.a.create(t))}mounted(){return me(this,void 0,void 0,(function*(){this.$eventBus.$on(M.Events.PAGE_SIZE_CHANGED,this.onPageSizeChanged)}))}close(){this.baseClose()}onPageSizeChanged(t){this.pageSize=parseInt(t)}setupPageState(){this.setupBasePageState()}get presenter(){if(!this.isMounted)return null;const t=this.getCurrentContent();return t?t.presenter:null}getCurrentContent(){const t=this.$route.query.tab,e=this.$refs[t];return e||null}};ge=pe([Object(o.b)({components:{ContentPresenter:L.a,SortSelector:N.a,Tabs:jt.a,UcmContentCatalogs:Jt,UcmContentCollections:Qt.a,UcmContentModels:ee.a},data:()=>({Headers:D.e,UcmPages:y.p,UcmLikedContentTabs:y.o}),watch:{selected:function(t){this.selectAllContent(t)}}})],ge);var ve=ge,fe=Object(f.a)(ve,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"ucm-liked-content ucm-spa",attrs:{id:"ucm-liked-content"}},[i("div",{staticClass:"header"},[i("div",{staticClass:"title"},[t._v("\n      "+t._s(t.$t(t.Headers.LIKED_CONTENT_TITLE))+"\n    ")])]),t._v(" "),i("tabs",{scopedSlots:t._u([{key:"tab-header-models",fn:function(){return[t._v("\n      "+t._s(t.$t("Models"))+"\n    ")]},proxy:!0},{key:"tab-models",fn:function(){return[i("ucm-content-models",{ref:t.UcmLikedContentTabs.MODELS,attrs:{id:"favModels",collection:t.collection,likedContent:!0,dataOwner:t.dataOwner,parentPageType:t.pageType,pageSizeInitial:t.pageSize}})]},proxy:!0},{key:"tab-header-collections",fn:function(){return[t._v("\n      "+t._s(t.$t("Collections"))+"\n    ")]},proxy:!0},{key:"tab-collections",fn:function(){return[i("ucm-content-collections",{ref:t.UcmLikedContentTabs.COLLECTIONS,attrs:{id:"favCollections",isPrivate:!1,collection:t.collection,likedContent:!0,dataOwner:t.dataOwner,parentPageType:t.pageType,pageSizeInitial:t.pageSize}})]},proxy:!0},{key:"tab-header-catalogs",fn:function(){return[t._v("\n      "+t._s(t.$t("Catalogs"))+"\n    ")]},proxy:!0},{key:"tab-catalogs",fn:function(){return[i("ucm-content-catalogs",{ref:t.UcmLikedContentTabs.CATALOGS,attrs:{id:"favCatalogs",isPrivate:!1,collection:t.collection,likedContent:!0,dataOwner:t.dataOwner,parentPageType:t.pageType,pageSizeInitial:t.pageSize}})]},proxy:!0}])})],1)}),[],!1,null,"6673c859",null).exports,Ce=function(t,e,i,s){var a,n=arguments.length,o=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,s);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(o=(n<3?a(o):n>3?a(e,i,o):a(e,i))||o);return n>3&&o&&Object.defineProperty(e,i,o),o};let be=class UcmMaterials extends H.a{constructor(){super(...arguments),this.name="ucm-materials",this.materialsCollectionId="dd16babd-4473-410b-89a4-088d2c544820",this.listViewOpts={listHeaders:["","",this.$t("Title"),this.$t("Filename"),this.$t("Created"),this.$t("Last Modified"),this.$t("Privacy"),""],itemIndices:["image","title","originalFileName","createdJustDate","lastModifiedJustDate","isPrivate"],linkIndex:"title",imageIndex:"image",hasCheckbox:!0},this.manageModeContext=y.e.MODELS}get presenter(){return this.isMounted?this.$refs.materialsContent:null}get useDirectApi(){return!1}get modelsParams(){const t=this.getCollectionFqArgs(this.materialsCollectionId);return this.buildSearchParams(t)}};be=Ce([Object(o.b)({components:{ContentPresenter:L.a,IconCreateFill:O.a,IconCreateOutline:I.a,ItemSelector:$.a,ListViewToggle:k.a,SortSelector:N.a,UcmHeaderTitle:V},data:()=>({UcmContentPresenterIDs:y.h,BrowseTypes:M.BrowseTypes,CollectionElementViewTypes:M.CollectionElementViewTypes})})],be);var ye=be,we=Object(f.a)(ye,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"ucm-materials ucm-spa",class:{selecting:t.isSelecting},attrs:{id:"ucm-materials"}},[i("div",{staticClass:"header-container"},[i("ucm-header-title",{attrs:{title:t.$t("Materials"),tooltip:t.$t("Add Model"),canCreate:!1},on:{create:function(e){return t.startUpload()}}}),t._v(" "),i("div",{staticClass:"controls row columns"},[i("div",{staticClass:"tag-line"},[t._v(t._s(t.$t("Materials are managed by SketchUp")))]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.filter,expression:"filter"}],staticClass:"filter",attrs:{id:"model-filter",placeholder:t.$t("Filter"),type:"text",disabled:t.isLoading},domProps:{value:t.filter},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.checkFilter.apply(null,arguments)},input:function(e){e.target.composing||(t.filter=e.target.value)}}}),t._v(" "),i("sort-selector",{attrs:{id:"model-sort",fields:t.sortFields},model:{value:t.sortSelection,callback:function(e){t.sortSelection=e},expression:"sortSelection"}})],1)],1),t._v(" "),i("div",{staticClass:"presenter-info columns"},[null!=t.entityCount?i("div",{staticClass:"entity-count"},[i("div",{staticClass:"count"},[t._v("\n        "+t._s(this.entityCount)+"\n      ")]),t._v("\n      "+t._s(t.$t("models"))+"\n    ")]):t._e(),t._v(" "),i("div",{staticClass:"view-controls"},[i("div",{staticClass:"page-size-selector"},[i("item-selector",{attrs:{id:"page-size-list",title:t.$t("Page Size"),items:t.pageSizeFields},model:{value:t.pageSizeSelected,callback:function(e){t.pageSizeSelected=e},expression:"pageSizeSelected"}})],1)])]),t._v(" "),i("content-presenter",{ref:"materialsContent",class:{selecting:t.isSelecting},attrs:{id:t.UcmContentPresenterIDs.MATERIALS_TAB,type:t.BrowseTypes.CuratedMaterials,filter:t.modelsParams,sortBy:t.sortBy,scrollTrigger:"#"+t.UcmContentPresenterIDs.MATERIALS_TAB,manageMode:!1,largerRows:!0,manageModeContext:t.manageModeContext,selectableCards:!1,deleteCallback:t.deleteItemCallback,deleteBulkCallback:t.deleteBulkItemsCallback,togglePrivacyOnBulkCallback:t.togglePrivacyOnBulkItemsCallback,dataOwner:t.dataOwner,pageSize:t.pageSize,showAuthorNames:!0,page:t.page,view:t.CollectionElementViewTypes.GRID,listViewOpts:t.listViewOpts,useDirectApi:t.useDirectApi}})],1)}),[],!1,null,"e7db38a8",null),_e=we.exports,Te=i(732),Se=function(t,e,i,s){var a,n=arguments.length,o=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,s);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(o=(n<3?a(o):n>3?a(e,i,o):a(e,i))||o);return n>3&&o&&Object.defineProperty(e,i,o),o};let Ee=class UcmModels extends H.a{constructor(){super(...arguments),this.name="ucm-models",this.listViewOpts={listHeaders:["","",this.$t("Title"),this.$t("Filename"),this.$t("Created"),this.$t("Last Modified"),this.$t("Privacy"),""],itemIndices:["image","title","originalFileName","createdJustDate","lastModifiedJustDate","isPrivate"],linkIndex:"title",imageIndex:"image",hasCheckbox:!0},this.clientUploadUrl=Te.a.UPLOAD_MODEL,this.manageModeContext=y.e.MODELS}get presenter(){return this.isMounted?this.$refs.modelContent:null}get modelsParams(){return{fq:[`creator.id==${this.dataOwner.id}`,this.formatFilter("title")].filter((t=>t)).join(";"),showBinaryMetadata:!0,recordEvent:!1}}setDeleteContext(t){const e=null!=t||1===this.selectedContent.length,i=this.$t("You're about to delete the selected model(s)."),s=this.$t("The model(s) were deleted.");this.deleteContext={parentId:null,confirmMessage:this.completeConfirmMessage(i),failureMessage:D.c.GENERIC_TRY_AGAIN,successMessage:s,isSingle:e,item:t}}};Ee=Se([Object(o.b)({components:{BulkControls:X.a,ContentPresenter:L.a,IconCreateFill:O.a,IconCreateOutline:I.a,ItemSelector:$.a,ListViewToggle:k.a,SortSelector:N.a,UcmHeaderTitle:V},data:()=>({UcmContentPresenterIDs:y.h})})],Ee);var Oe=Ee,Ie=Object(f.a)(Oe,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"ucm-models ucm-spa",class:{selecting:t.isSelecting},attrs:{id:"ucm-models"}},[i("div",{staticClass:"header-container"},[i("ucm-header-title",{attrs:{title:t.$t("Models"),canCreate:!1}}),t._v(" "),t.isSelecting?t._e():i("div",{staticClass:"controls row columns"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.filter,expression:"filter"}],staticClass:"filter",attrs:{id:"model-filter",placeholder:t.$t("Filter"),type:"text",disabled:t.isLoading},domProps:{value:t.filter},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.checkFilter.apply(null,arguments)},input:function(e){e.target.composing||(t.filter=e.target.value)}}}),t._v(" "),i("sort-selector",{attrs:{id:"model-sort",fields:t.sortFields},model:{value:t.sortSelection,callback:function(e){t.sortSelection=e},expression:"sortSelection"}})],1),t._v(" "),t.isSelecting?i("bulk-controls",{staticClass:"row columns",attrs:{id:"models",dataOwner:t.dataOwner,selectedContent:t.selectedContent,selectedContentCount:t.selectedContentCount,selectAllContent:t.selectAllContent,deleteHandler:t.confirmDeleteSelected,togglePrivacyHandler:t.togglePrivacyOnBulkItems}}):t._e()],1),t._v(" "),i("div",{staticClass:"presenter-info columns"},[null!=t.entityCount?i("div",{staticClass:"entity-count"},[i("div",{staticClass:"count"},[t._v("\n        "+t._s(this.entityCount)+"\n      ")]),t._v("\n      "+t._s(t.$t("models"))+"\n    ")]):t._e(),t._v(" "),i("div",{staticClass:"view-controls"},[i("div",{staticClass:"page-size-selector"},[i("item-selector",{attrs:{id:"page-size-list",title:t.$t("Page Size"),items:t.pageSizeFields},model:{value:t.pageSizeSelected,callback:function(e){t.pageSizeSelected=e},expression:"pageSizeSelected"}})],1),t._v(" "),t.enableListView?i("list-view-toggle",{attrs:{hidden:t.isSelecting,viewType:t.viewType},on:{"toggle-grid":t.toggleGrid}}):t._e()],1)]),t._v(" "),i("content-presenter",{ref:"modelContent",class:{selecting:t.isSelecting},attrs:{id:t.UcmContentPresenterIDs.MODELS_TAB,type:"models",filter:t.modelsParams,sortBy:t.sortBy,scrollTrigger:"#"+t.UcmContentPresenterIDs.MODELS_TAB,manageMode:!0,largerRows:!0,manageModeContext:t.manageModeContext,selectableCards:!0,deleteCallback:t.deleteItemCallback,deleteBulkCallback:t.deleteBulkItemsCallback,togglePrivacyOnBulkCallback:t.togglePrivacyOnBulkItemsCallback,dataOwner:t.dataOwner,pageSize:t.pageSize,showAuthorNames:!1,page:t.page,view:t.viewType,listViewOpts:t.listViewOpts,useDirectApi:!1}})],1)}),[],!1,null,"6517bd70",null),Ae=Ie.exports,De=i(827),Me=i(753),ke=i(822),Le=i(733),$e=i(729),xe=i(823),Pe=i(828),Re=i(829),Ne=i(731),Ue=function(t,e,i,s){var a,n=arguments.length,o=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,s);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(o=(n<3?a(o):n>3?a(e,i,o):a(e,i))||o);return n>3&&o&&Object.defineProperty(e,i,o),o};let Fe=class UcmNavPanel extends(Object(U.c)(St.a)){constructor(){super(...arguments),this.name="ucm-nav-panel",this.tabSelected=""}onSelect(t){if(this.tabSelected=t,!0===this.$store.state.ucmUnsavedChanges){const t="",e=this.$t("Any changes you've made won't be saved. Are you sure?"),i=this.$t("Discard Changes"),s=ht.a.Alert;this.confirmAction(t,e,i,s,!0,this.changePages)}else this.changePages()}changePages(){if(this.value!==this.tabSelected&&this.$emit("input",this.tabSelected),null!=this.$route.query.itemId||null!=this.$route.query.catalogId){let t=Object.assign({},this.$route.query);delete t.itemId,delete t.catalogId,this.$router.push({query:Object.assign(Object.assign({},t),{nav:this.tabSelected})})}this.tabSelected="",this.$store.commit("UCM_UNSAVED_CHANGES",{changes:!1})}};Ue([Object(U.d)()],Fe.prototype,"pagesEnabled",void 0),Ue([Object(U.d)()],Fe.prototype,"dataOwner",void 0),Ue([Object(U.d)({default:"models"})],Fe.prototype,"value",void 0),Fe=Ue([Object(U.a)({components:{IconAnalytics:De.a,IconHeart:Me.a,IconNavCatalogs:ke.a,IconNavCollections:Le.a,IconNavFolders:$e.a,IconNavMaterials:{functional:!0,render:function(t,e){var i=e._c;return i("svg",{class:[e.data.class,e.data.staticClass],style:[e.data.style,e.data.staticStyle],attrs:{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[i("rect",{staticClass:"border",attrs:{width:"18",height:"18",fill:"none",stroke:"#474655"}}),i("rect",{staticClass:"square",attrs:{x:"0",y:"0",width:"6",height:"6",fill:"#474655"}}),i("rect",{staticClass:"square",attrs:{x:"12",y:"0",width:"6",height:"6",fill:"#474655"}}),i("rect",{staticClass:"square",attrs:{x:"6",y:"6",width:"6",height:"6",fill:"#474655"}}),i("rect",{staticClass:"square",attrs:{x:"0",y:"12",width:"6",height:"6",fill:"#474655"}}),i("rect",{staticClass:"square",attrs:{x:"12",y:"12",width:"6",height:"6",fill:"#474655"}})])}},IconNavModels:xe.a,IconOrgMembers:Pe.a,IconSettings:Re.a,IconStar:Ne.a},data:()=>({UcmPages:y.p})})],Fe);var Be=Fe,je=Object(f.a)(Be,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"ucm-nav-panel"},[i("div",{directives:[{name:"tooltip",rawName:"v-tooltip.right",value:t.$t("Models"),expression:"$t('Models')",modifiers:{right:!0}}],staticClass:"nav-icon",class:{selected:t.value===t.UcmPages.MODELS||t.value===t.UcmPages.EDITMODEL},attrs:{id:"ucm-models-nav-icon"},on:{click:function(e){return t.onSelect(t.UcmPages.MODELS)}}},[i("span",{staticClass:"svg-icon"},[i("IconNavModels")],1)]),t._v(" "),t.pagesEnabled.catalogs?i("div",{directives:[{name:"tooltip",rawName:"v-tooltip.right",value:t.$t("Catalogs"),expression:"$t('Catalogs')",modifiers:{right:!0}}],staticClass:"nav-icon",class:{selected:t.value===t.UcmPages.CATALOGS||t.value===t.UcmPages.EDITCATALOG||t.value===t.UcmPages.EDITCATALOGEDITSECTION},attrs:{id:"ucm-catalogs-nav-icon"},on:{click:function(e){return t.onSelect(t.UcmPages.CATALOGS)}}},[i("span",{staticClass:"svg-icon"},[i("IconNavCatalogs")],1)]):t._e(),t._v(" "),i("div",{directives:[{name:"tooltip",rawName:"v-tooltip.right",value:t.$t("Folders"),expression:"$t('Folders')",modifiers:{right:!0}}],staticClass:"nav-icon",class:{selected:t.value===t.UcmPages.FOLDERS||t.value===t.UcmPages.EDITFOLDER},attrs:{id:"ucm-folders-nav-icon"},on:{click:function(e){return t.onSelect(t.UcmPages.FOLDERS)}}},[i("span",{staticClass:"svg-icon"},[i("IconNavFolders")],1)]),t._v(" "),i("div",{directives:[{name:"tooltip",rawName:"v-tooltip.right",value:t.$t("Materials"),expression:"$t('Materials')",modifiers:{right:!0}}],staticClass:"nav-icon",class:{selected:t.value===t.UcmPages.MATERIALS},attrs:{id:"ucm-materials-nav-icon"},on:{click:function(e){return t.onSelect(t.UcmPages.MATERIALS)}}},[i("span",{staticClass:"svg-icon materials-icon"},[i("IconNavMaterials")],1)]),t._v(" "),i("div",{directives:[{name:"tooltip",rawName:"v-tooltip.right",value:t.$t("Collections"),expression:"$t('Collections')",modifiers:{right:!0}}],staticClass:"nav-icon",class:{selected:t.value===t.UcmPages.COLLECTIONS||t.value===t.UcmPages.EDITCOLLECTION},attrs:{id:"ucm-collections-nav-icon"},on:{click:function(e){return t.onSelect(t.UcmPages.COLLECTIONS)}}},[i("span",{staticClass:"svg-icon"},[i("IconNavCollections")],1)]),t._v(" "),t.dataOwner.isManaged||t.$inOrgContext?t._e():i("div",{directives:[{name:"tooltip",rawName:"v-tooltip.right",value:t.$t("Favorites"),expression:"$t('Favorites')",modifiers:{right:!0}}],staticClass:"nav-icon",class:{selected:t.value===t.UcmPages.FAVORITES},attrs:{id:"ucm-favorites-nav-icon"},on:{click:function(e){return t.onSelect(t.UcmPages.FAVORITES)}}},[i("span",{staticClass:"svg-icon"},[i("IconStar")],1)]),t._v(" "),t.dataOwner.isManaged||t.$inOrgContext?t._e():i("div",{directives:[{name:"tooltip",rawName:"v-tooltip.right",value:t.$t("Liked Content"),expression:"$t('Liked Content')",modifiers:{right:!0}}],staticClass:"nav-icon",class:{selected:t.value===t.UcmPages.LIKEDCONTENT},attrs:{id:"ucm-liked-nav-icon"},on:{click:function(e){return t.onSelect(t.UcmPages.LIKEDCONTENT)}}},[i("span",{staticClass:"svg-icon heart-icon"},[i("IconHeart")],1)]),t._v(" "),t.pagesEnabled.analytics?i("div",{directives:[{name:"tooltip",rawName:"v-tooltip.right",value:t.$t("Analytics"),expression:"$t('Analytics')",modifiers:{right:!0}}],staticClass:"nav-icon",class:{selected:t.value===t.UcmPages.ANALYTICS},attrs:{id:"ucm-analytics-nav-icon"},on:{click:function(e){return t.onSelect(t.UcmPages.ANALYTICS)}}},[i("span",{staticClass:"svg-icon"},[i("IconAnalytics")],1)]):t._e(),t._v(" "),t.pagesEnabled.editOrganization?i("div",{directives:[{name:"tooltip",rawName:"v-tooltip.right",value:t.$t("Organization"),expression:"$t('Organization')",modifiers:{right:!0}}],staticClass:"nav-icon",class:{selected:t.value===t.UcmPages.EDITORGANIZATION},attrs:{id:"ucm-organization-management"},on:{click:function(e){return t.onSelect(t.UcmPages.EDITORGANIZATION)}}},[i("span",{staticClass:"svg-icon"},[i("IconOrgMembers")],1)]):t._e(),t._v(" "),t.pagesEnabled.settings?i("div",{directives:[{name:"tooltip",rawName:"v-tooltip.right",value:t.$t("Settings"),expression:"$t('Settings')",modifiers:{right:!0}}],staticClass:"nav-icon",class:{selected:t.value===t.UcmPages.SETTINGS},attrs:{id:"ucm-settings-nav-icon"},on:{click:function(e){return t.onSelect(t.UcmPages.SETTINGS)}}},[i("span",{staticClass:"svg-icon"},[i("IconSettings")],1)]):t._e()])}),[],!1,null,null,null).exports,Ve=i(50),He=i(72),Ge=i.n(He),ze=i(118),We=i.n(ze),Ye=i(789),qe=i(8),Ke=i(16),Xe=i(149),Ze=i(14),Je=i(936),Qe=i(786),ti=i(900),ei=i(901),ii=i(902),si=i(903),ai=i(904),ni=i(872),oi=i(905),ri=function(t,e,i,s){var a,n=arguments.length,o=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,s);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(o=(n<3?a(o):n>3?a(e,i,o):a(e,i))||o);return n>3&&o&&Object.defineProperty(e,i,o),o};let li=class IconSocial extends h.a{constructor(){super(...arguments),this.name="icon-social"}};li=ri([Object(o.b)({components:{InstagramIcon:ei.a,FacebookIcon:ti.a,LinkedinIcon:ii.a,PinterestIcon:si.a,TwitterIcon:ai.a,WebsiteIcon:ni.a,YoutubeIcon:oi.a},data:()=>({SocialDomain:M.SocialDomain}),props:{icon:String}})],li);var ci=li,di=Object(f.a)(ci,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("span",{staticClass:"svg-icon"},[t.icon===t.SocialDomain.INSTAGRAM?i("InstagramIcon",{staticClass:"instagram-icon"}):t.icon===t.SocialDomain.FACEBOOK?i("FacebookIcon",{staticClass:"facebook-icon"}):t.icon===t.SocialDomain.LINKEDIN?i("LinkedinIcon",{staticClass:"linkedin-icon"}):t.icon===t.SocialDomain.PINTEREST?i("PinterestIcon",{staticClass:"pinterest-icon"}):t.icon===t.SocialDomain.TWITTER?i("TwitterIcon",{staticClass:"twitter-icon"}):t.icon===t.SocialDomain.WEBSITE?i("WebsiteIcon",{staticClass:"website-icon"}):t._e(),t._v(" "),t.icon===t.SocialDomain.YOUTUBE?i("YoutubeIcon",{staticClass:"youtube-icon"}):t._e()],1)}),[],!1,null,null,null).exports,ui=function(t,e,i,s){var a,n=arguments.length,o=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,s);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(o=(n<3?a(o):n>3?a(e,i,o):a(e,i))||o);return n>3&&o&&Object.defineProperty(e,i,o),o};let hi=class WebsiteTextInput extends h.a{urlCheck(t){t.url.trim()?(t.valid=ut.I(t.url),t.valid&&(t.site===M.SocialDomain.WEBSITE?(t.url=ut.c(t.url,"http"),t.valid=ut.H(t.url)):(t.url=ut.c(t.url,"https"),t.valid=t.match.test(t.url)))):t.valid=!0}urlError(t){return t.site===M.SocialDomain.WEBSITE?this.$t("Invalid URL"):this.$t("URL is not valid for {domain}",{domain:t.site})}};ui([Object(U.d)()],hi.prototype,"link",void 0),hi=ui([Object(U.a)({components:{IconSocial:di},data:()=>({SOCIAL_MAX_LENGTH:M.Constants.SOCIAL_MAX_LENGTH})})],hi);var pi=hi,mi=Object(f.a)(pi,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("label",{staticClass:"input-wrapper social-link"},[i("icon-social",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.link.tooltip,expression:"link.tooltip"}],attrs:{icon:t.link.site}}),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.link.url,expression:"link.url"},{name:"tooltip",rawName:"v-tooltip",value:t.link.tooltip,expression:"link.tooltip"}],class:{"input-field-error-bar":!t.link.valid},attrs:{type:"text",maxlength:t.SOCIAL_MAX_LENGTH,placeholder:t.$t("URL")},domProps:{value:t.link.url},on:{blur:function(e){return t.urlCheck(t.link)},input:function(e){e.target.composing||t.$set(t.link,"url",e.target.value)}}}),t._v(" "),t.link.valid?t._e():i("div",{staticClass:"url-error"},[t._v("\n    "+t._s(t.urlError(t.link))+"\n  ")])],1)}),[],!1,null,"20b491d9",null).exports,gi=i(741),vi=function(t,e,i,s){var a,n=arguments.length,o=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,s);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(o=(n<3?a(o):n>3?a(e,i,o):a(e,i))||o);return n>3&&o&&Object.defineProperty(e,i,o),o},fi=function(t,e,i,s){return new(i||(i=Promise))((function(a,n){function o(t){try{l(s.next(t))}catch(t){n(t)}}function r(t){try{l(s.throw(t))}catch(t){n(t)}}function l(t){var e;t.done?a(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,r)}l((s=s.apply(t,e||[])).next())}))};const Ci=/^[a-zA-Z0-9]+$/;let bi=class EditProfile extends h.a{constructor(){super(...arguments),this.description="",this.emailPrivacy=!0,this.isVerified=!1,this.originalEmailPrivacy=!0,this.isOrg=!1,this.displayName_="",this.domainLocal="",this.domainInitial="",this.subdomainLocal="",this.subdomainInitial="",this.enableDarkThemeLocal=!1,this.enableDarkThemeInitial=!1,this.customUrl="",this.originalCustomUrl="",this.customUrlAvailable=!0,this.customUrlAlphaNumeric=!0,this.customUrlProperLength=!0,this.socialLinks=[{site:M.SocialDomain.WEBSITE,match:M.SocialMatch.WEBSITE,url:"",default:"",valid:!0,tooltip:D.g.WEBSITE},{site:M.SocialDomain.INSTAGRAM,match:M.SocialMatch.INSTAGRAM,url:"",default:"",valid:!0,tooltip:D.g.INSTAGRAM},{site:M.SocialDomain.FACEBOOK,match:M.SocialMatch.FACEBOOK,url:"",default:"",valid:!0,tooltip:D.g.FACEBOOK},{site:M.SocialDomain.PINTEREST,match:M.SocialMatch.PINTEREST,url:"",default:"",valid:!0,tooltip:D.g.PINTEREST},{site:M.SocialDomain.TWITTER,match:M.SocialMatch.TWITTER,url:"",default:"",valid:!0,tooltip:D.g.TWITTER},{site:M.SocialDomain.LINKEDIN,match:M.SocialMatch.LINKEDIN,url:"",default:"",valid:!0,tooltip:D.g.LINKEDIN},{site:M.SocialDomain.YOUTUBE,match:M.SocialMatch.YOUTUBE,url:"",default:"",valid:!0,tooltip:D.g.YOUTUBE}],this.originalSocialLinks=null,this.websites=[],this.unsubscribeToggle=!1,this.notifications={ownedItemReviewed:{label:this.$t("When a user likes one of my models or collections"),value:!1,originalValue:!1},ownedItemCommentedOn:{label:this.$t("When a user comments on one of my models"),value:!1,originalValue:!1},siteUpdates:{label:this.$t("About site updates to 3D Warehouse"),value:!1,originalValue:!1},featuredContentUpdates:{label:this.$t("About featured content"),value:!1,originalValue:!1}}}beforeDestroy(){null!=this.statusModal&&(this.statusModal.$destroy(),this.statusModal=null)}created(){this.description=this.dataOwner.description||"",this.displayName=this.dataOwner.displayName||"",this.isVerified=this.dataOwner.isVerified||!1,this.customUrl=this.dataOwner.customWarehouseUrl||"",this.isVerified&&(this.domainInitial=this.domainLocal=qe.a.getAttributeValue(this.dataOwner.attributes,"categories","domain")||"",this.subdomainInitial=this.subdomainLocal=qe.a.getAttributeValue(this.dataOwner.attributes,"categories","subdomain")||"");const t=qe.a.getAttributeValue(this.dataOwner.attributes,"3dw","theme")||"";this.enableDarkThemeInitial=this.enableDarkThemeLocal=""!==t&&t===M.Themes.DARK,this.emailPrivacy=qe.a.getAttributeValue(this.dataOwner.attributes,"info","allowContactMe")||!1,this.originalEmailPrivacy=this.emailPrivacy;for(let t of this.dataOwner.notifications)void 0!==this.notifications[t.trigger]&&t.notify.indexOf(Ke.e.EMAIL)>-1&&(this.notifications[t.trigger].value=!0,this.notifications[t.trigger].originalValue=!0,this.unsubscribeToggle=!0);for(let t in this.socialLinks)this.socialLinks[t].url=qe.a.getAttributeValue(this.dataOwner.attributes,"social",this.socialLinks[t].site)||this.socialLinks[t].default;this.originalCustomUrl=this.customUrl,this.originalSocialLinks=Ge()(this.socialLinks),this.websites[0]=JSON.parse(qe.a.getAttributeValue(this.dataOwner.attributes,"info","web0")),this.websites[1]=JSON.parse(qe.a.getAttributeValue(this.dataOwner.attributes,"info","web1")),this.websites[2]=JSON.parse(qe.a.getAttributeValue(this.dataOwner.attributes,"info","web2"))}close(){this.statusModal&&(this.statusModal.$destroy(),this.statusModal=null)}get displayName(){return M.removeProhibitedCharacters(this.displayName_)}set displayName(t){this.displayName_=M.removeProhibitedCharacters(t)}get displayNameSet(){return this.displayName.trim().length>2}linksGroup(t){const e=(this.socialLinks.length+1)/2;return"left"===t?this.socialLinks.slice(0,e):this.socialLinks.slice(e)}categorySelectionChanged(t,e){this.domainLocal=t,this.subdomainLocal=e}mounted(){this.debounceCustomUrl=Tt()(this.onCustomUrlInput.bind(this),M.Constants.DEBOUNCE_SHORT),this.isOrg=void 0!==this.$route.params.orgId}get showThemeSetting(){return!1===this.$inOrgContext}get bannerUrl(){return this.dataOwner.profileBannerUrl}get bannerBinaryName(){return s.BinaryType.Profile_Banner}bannerAcceptCallback(t){this.$eventBus.$emit(y.m.UPDATING_PAGE,!1),this.dataOwner.profileBannerUrl=t}get displayNameMaxLength(){return M.Constants.USER_DISPLAY_NAME_MAX_LENGTH}get descriptionLength(){return this.description.length}get descriptionMaxLength(){return M.Constants.USER_DESCRIPTION_MAX_LENGTH}get descriptionCharsRemaining(){return this.descriptionMaxLength-this.descriptionLength}get isEdited(){return!(this.description.trim()===this.dataOwner.description.trim()&&this.displayName.trim()===this.dataOwner.displayName.trim()&&this.isVerified===this.dataOwner.isVerified&&this.originalEmailPrivacy===this.emailPrivacy&&this.domainInitial===this.domainLocal&&this.subdomainInitial===this.subdomainLocal&&this.enableDarkThemeInitial===this.enableDarkThemeLocal&&!this.isNotificationEdited&&this.customUrl.trim()===this.originalCustomUrl.trim()&&We()(this.socialLinks,this.originalSocialLinks)||!this.validCustomUrl||!this.displayNameSet||!this.hasValidLinks)}get hasValidLinks(){return this.socialLinks.every((t=>t.valid))}get isNotificationEdited(){for(let t in this.notifications)if(this.notifications[t].value!==this.notifications[t].originalValue)return!0;return!1}onCustomUrlInputDebounce(){this.debounceCustomUrl()}onCustomUrlInput(){return fi(this,void 0,void 0,(function*(){const t=this.customUrl.trim();if(t!==this.dataOwner.customWarehouseUrl.trim()&&0!==t.length&&this.customUrlAlphaNumeric&&this.customUrlProperLength)try{yield this.$api.getUserOrOrgByCustomWarehouseUrl(t),this.customUrlAvailable=!1}catch(t){this.customUrlAvailable=!0}else this.customUrlAvailable=!0}))}get validCustomUrl(){return this.customUrlAvailable&&this.customUrlAlphaNumeric&&this.customUrlProperLength}get customUrlError(){return this.customUrlAlphaNumeric?this.customUrlProperLength?this.customUrlAvailable?this.$t("Custom URL is not valid."):this.$t("Custom URL is not available."):this.$t("Custom URL must be at least {MIN_CUSTOM_URL_LENGTH} characters long.",{MIN_CUSTOM_URL_LENGTH:String(this.customUrlMinLength)}):this.$t("Custom URL must be alphanumeric")}get customUrlMinLength(){return M.Constants.CUSTOM_URL_MIN_LENGTH}subscribeAllNotifications(t){for(let e in this.notifications)this.notifications[e].value=t;this.unsubscribeToggle=t}get allowContactLabel(){return this.isOrg?this.$t("Allow 3D Warehouse users to contact this organization by email"):this.$t("Allow 3D Warehouse users to contact me by email")}get allowContactHelpText(){return this.isOrg?this.$t("Controls whether or not the Contact button shows up on your organization's card, allowing users to send an email message to the notification receivers in your organization."):this.$t("Controls whether or not the Contact button shows up on your user card, allowing users to send an email message at the address listed above. Users will only see your email address if you reply to the message.")}save(){return fi(this,void 0,void 0,(function*(){this.openSaveStatusModal();let t={};t={customWarehouseUrl:this.customUrl.trim(),description:this.description.trim(),displayName:this.displayName.trim(),isVerified:this.isVerified},t.notificationPreferences=this.setupUserNotifications();let e=this.setupAttributes();try{if(this.isOrg){let i=!1;null==this.$api.performAs&&(this.$api.performAs=this.dataOwner.id,i=!0),yield this.$api.updateOrganization(this.dataOwner.id,t),yield this.$api.updateOrganizationAttributes(this.dataOwner.id,e),!0===i&&(this.$api.performAs=null)}else yield this.$api.updateUser(this.dataOwner.id,t),yield this.$api.updateUserAttributes(this.dataOwner.id,e);this.dataOwner.description=this.description.trim(),this.dataOwner.displayName=this.displayName.trim(),this.dataOwner.isVerified=this.isVerified,Object(Ve.merge)(this.dataOwner.attributes,e),this.dataOwner.id===this.$user.id&&this.updateUserDisplayName(),this.originalEmailPrivacy=this.emailPrivacy,this.originalCustomUrl=this.customUrl.trim(),this.originalSocialLinks=Ge()(this.socialLinks),this.domainInitial=this.domainLocal,this.subdomainInitial=this.subdomainLocal,this.enableDarkThemeInitial=this.enableDarkThemeLocal,!1===this.$inOrgContext&&this.updateThemeOnSite();for(let t of this.dataOwner.notifications)null!=this.notifications[t.trigger]&&(this.notifications[t.trigger].originalValue=this.notifications[t.trigger].value);this.statusModal.loadPercent=100,this.statusModal.successMessage=this.$t("Your settings were successfully updated! It may take a few minutes for the changes to show up everywhere."),this.statusModal.currentState=M.StatusModalState.Success,this.statusModal.acceptCallback=()=>{this.$route.name!==M.Pages.UCM_USER&&this.$route.name!==M.Pages.UCM_ORG&&this.navigateToDetailsPage()}}catch(t){this.statusModal.failureMessage=this.$t("Something went wrong while saving changes to your settings. Please try again."),this.statusModal.failureTitle=this.$t("Something went wrong"),this.statusModal.currentState=M.StatusModalState.Failure;let e={text:D.c.FAILED_TO_SAVE_USER},i=new dt.d(e,dt.c.ERROR);this.$store.commit("ADD_STATUS_NOTIFICATION",i);const s=this.isOrg?"editOrg":"editUser";Xe.l(s,["saveChanges","failure"])}}))}updateThemeOnSite(){const t=document.getElementsByTagName("body")[0];this.enableDarkThemeLocal?t.className="theme-"+M.Themes.DARK:t.className="theme-"+M.Themes.LIGHT}setupAttributes(){let t={},e={};t.social=e,t.info={allowContactMe:{dataType:"boolean",value:this.emailPrivacy}},this.isVerified&&(t.categories={domain:{dataType:"string",value:this.domainLocal},subdomain:{dataType:"string",value:this.subdomainLocal}}),t["3dw"]={},t["3dw"].theme={dataType:"string",value:this.enableDarkThemeLocal?M.Themes.DARK:M.Themes.LIGHT},this.enableDarkThemeLocal&&(t["3dw"].darkThemeEnabled={dataType:"boolean",value:!0});for(let t in this.socialLinks){let i=this.socialLinks[t].site,s=this.socialLinks[t].url;s===this.socialLinks[t].default&&(s=""),e[i]=s?{dataType:"string",value:s}:null}return t}setupUserNotifications(){let t=[];for(let e in this.notifications){let i=[];this.notifications[e].value&&(i=[Ke.e.EMAIL]),t.push({trigger:e,notify:i})}return{"3dw":t}}openSaveStatusModal(){let t={currentState:M.StatusModalState.LoadingDeterminate,loadDetTitle:this.$t("Saving"),loadDetMessage:this.$t("Saving your changes."),animationIn:R.a.SlideInUp};this.statusModal?(this.statusModal.resetModal(t),this.statusModal.openModal()):(this.statusModal=new gi.a({store:this.$store,propsData:t}),this.statusModal.mountOnPage())}cancel(){this.navigateToDetailsPage()}navigateToDetailsPage(){if(this.isOrg){const t=ut.C(this.dataOwner.id,s.ExternalResourceType.Org);ut.J(t)}else{const t=ut.C(this.dataOwner.id,s.ExternalResourceType.User);ut.J(t)}}updateUserDisplayName(){let t=Ge()(this.$user);t.displayName=this.dataOwner.displayName,this.$store.commit("SET_CURRENT_USER",{data:t})}};vi([Object(U.d)()],bi.prototype,"dataOwner",void 0),bi=vi([Object(U.a)({components:{BannerImageField:Je.a,CharactersRemaining:Qe.a,CorrectIcon:{functional:!0,render:function(t,e){var i=e._c;return i("svg",{class:[e.data.class,e.data.staticClass],style:[e.data.style,e.data.staticStyle],attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"}},[i("path",{attrs:{fill:"#5E9331","fill-rule":"evenodd",d:"M7.775 12.112a1.022 1.022 0 0 0-1.47 0 1.086 1.086 0 0 0 0 1.509l2.6 2.667a1.021 1.021 0 0 0 1.445.025l7.8-7.467c.42-.401.442-1.076.05-1.507a1.022 1.022 0 0 0-1.47-.052L9.665 14.05l-1.89-1.938z"}})])}},HelpIcon:{functional:!0,render:function(t,e){var i=e._c;return i("svg",{class:[e.data.class,e.data.staticClass],style:[e.data.style,e.data.staticStyle],attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"}},[i("path",{attrs:{fill:"#363545","fill-rule":"evenodd",d:"M9.75 9a.75.75 0 0 1-1.5 0 3.75 3.75 0 1 1 5 3.536.75.75 0 0 0-.5.708v1.006a.75.75 0 1 1-1.5 0v-1.006c0-.954.6-1.804 1.5-2.122A2.25 2.25 0 1 0 9.75 9zM12 16.5a1.125 1.125 0 1 1 0 2.25 1.125 1.125 0 0 1 0-2.25zm0 7.5C5.373 24 0 18.627 0 12S5.373 0 12 0s12 5.373 12 12-5.373 12-12 12zm0-1.5c5.799 0 10.5-4.701 10.5-10.5S17.799 1.5 12 1.5 1.5 6.201 1.5 12 6.201 22.5 12 22.5z"}})])}},IncorrectIcon:{functional:!0,render:function(t,e){var i=e._c;return i("svg",{class:[e.data.class,e.data.staticClass],style:[e.data.style,e.data.staticStyle],attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"}},[i("path",{staticClass:"pathFill",attrs:{fill:"#C81922","fill-rule":"evenodd",d:"M10.83 12L6.242 7.413a.828.828 0 1 1 1.17-1.17L12 10.83l4.587-4.588a.828.828 0 1 1 1.17 1.17L13.17 12l4.588 4.587a.828.828 0 0 1-1.17 1.17L12 13.17l-4.587 4.588a.828.828 0 0 1-1.17-1.17L10.83 12z"}})])}},CategorizationAssignment:Ye.a,WebsiteTextInput:mi},watch:{notifications:{handler:function(t){for(let e in t)if(!0===t[e].value)return void(this.unsubscribeToggle=!0)},deep:!0},customUrl:function(t){t=t.trim(),this.customUrlProperLength=0===t.length||t.length>=this.customUrlMinLength,this.customUrlAlphaNumeric=0===t.length||Ci.test(t)}},data:()=>({AcceptLevels:Ze.b,CategorizationLabels:Ze.a,USER_DISPLAY_NAME_MAX_LENGTH:M.Constants.USER_DISPLAY_NAME_MAX_LENGTH})})],bi);var yi=bi,wi=Object(f.a)(yi,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"edit-profile"},[i("h2",{staticClass:"columns"},[t._v(t._s(t.$t("Settings")))]),t._v(" "),i("label",{staticClass:"input-wrapper custom-url-wrapper columns client-5"},[t.validCustomUrl?i("div",{staticClass:"input-label"},[i("span",{staticClass:"input-field-label"},[t._v(t._s(t.$t("Custom URL")))])]):i("div",{staticClass:"input-label error"},[i("span",{staticClass:"input-field-label"},[t._v(t._s(t.customUrlError))])]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.customUrl,expression:"customUrl"}],ref:"customUrl",class:{"input-field-error-bar":!t.validCustomUrl},attrs:{type:"text",maxlength:t.USER_DISPLAY_NAME_MAX_LENGTH},domProps:{value:t.customUrl},on:{input:[function(e){e.target.composing||(t.customUrl=e.target.value)},function(e){return t.onCustomUrlInputDebounce()}]}}),t._v(" "),t.customUrl&&t.validCustomUrl?i("span",{staticClass:"svg-icon correct-icon"},[i("CorrectIcon")],1):t._e(),t._v(" "),t.customUrl&&!t.validCustomUrl?i("span",{staticClass:"svg-icon incorrect-icon"},[i("IncorrectIcon")],1):t._e()]),t._v(" "),i("div",{staticClass:"display-name-wrapper columns client-5 client-offset-2"},[i("div",{staticClass:"input-label"},[t.displayNameSet?i("span",{staticClass:"input-field-label"},[t._v(t._s(t.$t("Display Name")+"*"))]):i("span",{staticClass:"input-field-label"},[t._v(t._s(t.$t("Display name is a required field.")))])]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.displayName,expression:"displayName"}],class:{"input-field-error-bar":!t.displayNameSet},attrs:{type:"text",maxlength:t.displayNameMaxLength},domProps:{value:t.displayName},on:{input:function(e){e.target.composing||(t.displayName=e.target.value)}}})]),t._v(" "),i("div",{staticClass:"description-wrapper columns medium-12"},[i("div",{staticClass:"input-label"},[i("span",{staticClass:"input-field-label columns medium-9"},[t._v(t._s(t.$t("About Me")))]),t._v(" "),i("characters-remaining",{attrs:{maxAllowed:t.descriptionMaxLength,characterCount:t.descriptionLength}})],1),t._v(" "),i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.description,expression:"description"}],staticClass:"description-input",attrs:{maxlength:t.descriptionMaxLength,placeholder:t.$t("Tell us about yourself")},domProps:{value:t.description},on:{input:function(e){e.target.composing||(t.description=e.target.value)}}})]),t._v(" "),t.$inOrgContext?i("div",{staticClass:"banner-wrapper columns medium-12"},[i("div",{staticClass:"input-label"},[t._v("\n      "+t._s(t.$t("Profile Banner"))+"\n    ")]),t._v(" "),i("banner-image-field",{attrs:{bannerUrl:t.bannerUrl,binaryName:t.bannerBinaryName,dataOwner:t.dataOwner,acceptCallback:t.bannerAcceptCallback}})],1):t._e(),t._v(" "),i("div",{staticClass:"social-wrapper large-12"},[i("h2",{staticClass:"columns"},[t._v(t._s(t.$t("Website & Social")))]),t._v(" "),i("div",{staticClass:"columns large-5 float-left"},t._l(t.linksGroup("left"),(function(t){return i("WebsiteTextInput",{key:t.site,attrs:{link:t}})})),1),t._v(" "),i("div",{staticClass:"columns large-offset-2 large-5"},t._l(t.linksGroup("right"),(function(t){return i("WebsiteTextInput",{key:t.site,attrs:{link:t}})})),1)]),t._v(" "),i("div",{staticClass:"preferences-wrapper columns client-12"},[i("h2",[t._v(t._s(t.$t("Preferences")))]),t._v(" "),i("div",{staticClass:"notifications-wrapper columns large-5 client-12"},[i("div",{staticClass:"notifications-header"},[i("div",{staticClass:"input-label"},[t._v("\n          "+t._s(t.$t("Email Notifications"))+"\n        ")]),t._v(" "),t.unsubscribeToggle?i("a",{staticClass:"unsubscribe",on:{click:function(e){return t.subscribeAllNotifications(!1)}}},[t._v("\n          "+t._s(t.$t("Unsubscribe from All"))+"\n        ")]):i("a",{staticClass:"unsubscribe",on:{click:function(e){return t.subscribeAllNotifications(!0)}}},[t._v("\n          "+t._s(t.$t("Subscribe to All"))+"\n        ")])]),t._v(" "),i("div",{staticClass:"notifications"},[t._l(t.notifications,(function(e,s){return[i("div",{key:s,staticClass:"switch"},[i("div",{staticClass:"unit-label"},[t._v("\n              "+t._s(e.label)+"\n            ")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.notifications[s].value,expression:"notifications[index].value"}],staticClass:"switch-input",attrs:{id:s,type:"checkbox"},domProps:{checked:Array.isArray(t.notifications[s].value)?t._i(t.notifications[s].value,null)>-1:t.notifications[s].value},on:{change:function(e){var i=t.notifications[s].value,a=e.target,n=!!a.checked;if(Array.isArray(i)){var o=t._i(i,null);a.checked?o<0&&t.$set(t.notifications[s],"value",i.concat([null])):o>-1&&t.$set(t.notifications[s],"value",i.slice(0,o).concat(i.slice(o+1)))}else t.$set(t.notifications[s],"value",n)}}}),t._v(" "),i("label",{staticClass:"switch-paddle",attrs:{for:s}})])]}))],2)]),t._v(" "),i("div",{staticClass:"security-privacy-wrapper columns large-5 large-offset-2 client-12"},[i("div",{staticClass:"input-label security-privacy"},[t._v("\n        "+t._s(t.$t("Security & Privacy"))+"\n      ")]),t._v(" "),i("div",{staticClass:"privacy-setting"},[i("label",{staticClass:"checkbox-container",attrs:{for:"emailPrivacy"}},[t._v("\n          "+t._s(t.allowContactLabel)+"\n          "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.emailPrivacy,expression:"emailPrivacy"}],attrs:{id:"emailPrivacy",type:"checkbox"},domProps:{checked:Array.isArray(t.emailPrivacy)?t._i(t.emailPrivacy,null)>-1:t.emailPrivacy},on:{change:function(e){var i=t.emailPrivacy,s=e.target,a=!!s.checked;if(Array.isArray(i)){var n=t._i(i,null);s.checked?n<0&&(t.emailPrivacy=i.concat([null])):n>-1&&(t.emailPrivacy=i.slice(0,n).concat(i.slice(n+1)))}else t.emailPrivacy=a}}}),t._v(" "),i("span",{staticClass:"checkmark"})]),t._v(" "),i("span",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.allowContactHelpText,expression:"allowContactHelpText"}],staticClass:"svg-icon"},[i("HelpIcon")],1)]),t._v(" "),t.isVerified?i("div",[i("div",{staticClass:"input-label security-privacy"},[t._v("\n          "+t._s(t.$t("Categorization"))+"\n        ")]),t._v(" "),i("categorization-assignment",{attrs:{id:"filter-categorization",domain:t.domainLocal,subdomain:t.subdomainLocal,acceptLevel:t.AcceptLevels.SUBDOMAIN_LEVEL,includeDomainAll:!0},on:{categorySelectionChanged:t.categorySelectionChanged}})],1):t._e(),t._v(" "),t.showThemeSetting?i("div",{staticClass:"theme-setting"},[i("div",{staticClass:"input-label"},[t._v("\n          "+t._s(t.$t("Theming"))+"\n        ")]),t._v(" "),i("label",{staticClass:"checkbox-container",attrs:{for:"enableDarkTheme"}},[t._v("\n          "+t._s(t.$t("Enable Dark Theme"))+"\n          "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.enableDarkThemeLocal,expression:"enableDarkThemeLocal"}],attrs:{id:"enableDarkTheme",type:"checkbox"},domProps:{checked:Array.isArray(t.enableDarkThemeLocal)?t._i(t.enableDarkThemeLocal,null)>-1:t.enableDarkThemeLocal},on:{change:function(e){var i=t.enableDarkThemeLocal,s=e.target,a=!!s.checked;if(Array.isArray(i)){var n=t._i(i,null);s.checked?n<0&&(t.enableDarkThemeLocal=i.concat([null])):n>-1&&(t.enableDarkThemeLocal=i.slice(0,n).concat(i.slice(n+1)))}else t.enableDarkThemeLocal=a}}}),t._v(" "),i("span",{staticClass:"checkmark"})])]):t._e()])]),t._v(" "),t.$isAdmin?i("div",{staticClass:"admin-wrapper columns client-12"},[i("h2",[t._v("Admin Settings")]),t._v(" "),i("div",[i("label",{staticClass:"checkbox-container",attrs:{for:"isVerified"}},[t._v("\n        Is user verified?\n        "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.isVerified,expression:"isVerified"}],attrs:{id:"isVerified",type:"checkbox"},domProps:{checked:Array.isArray(t.isVerified)?t._i(t.isVerified,null)>-1:t.isVerified},on:{change:function(e){var i=t.isVerified,s=e.target,a=!!s.checked;if(Array.isArray(i)){var n=t._i(i,null);s.checked?n<0&&(t.isVerified=i.concat([null])):n>-1&&(t.isVerified=i.slice(0,n).concat(i.slice(n+1)))}else t.isVerified=a}}}),t._v(" "),i("span",{staticClass:"checkmark"})])])]):t._e(),t._v(" "),i("div",{staticClass:"line-separator columns"}),t._v(" "),i("div",{staticClass:"bottom-row columns"},[i("a",{staticClass:"delete-account",attrs:{href:"https://privacy.sketchup.com/",target:"_blank",rel:"noopener"}},[t._v("\n      "+t._s(t.$t("Manage My Privacy Settings"))+"\n    ")]),t._v(" "),i("div",{staticClass:"action-buttons"},[i("button",{staticClass:"button save-button",attrs:{id:"save-profile-button",disabled:!t.isEdited},on:{click:t.save}},[t._v("\n        "+t._s(t.$t("Save"))+"\n      ")]),t._v(" "),i("button",{staticClass:"button cancel-button",attrs:{id:"cancel-profile-button"},on:{click:t.cancel}},[t._v("\n        "+t._s(t.$t("Cancel"))+"\n      ")])])])])}),[],!1,null,null,null).exports,_i=function(t,e,i,s){var a,n=arguments.length,o=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,s);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(o=(n<3?a(o):n>3?a(e,i,o):a(e,i))||o);return n>3&&o&&Object.defineProperty(e,i,o),o};let Ti=class UcmSettings extends h.a{constructor(){super(...arguments),this.pageType=y.p.SETTINGS,this.name="ucm-settings"}open(){}close(){this.$refs.profile.close()}};_i([Object(U.d)()],Ti.prototype,"dataOwner",void 0),Ti=_i([Object(U.a)({components:{EditProfileHeader:It.a,EditProfile:wi}})],Ti);var Si,Ei=Ti,Oi=Object(f.a)(Ei,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"ucm-settings ucm-spa"},[i("edit-profile-header",{ref:"header",attrs:{dataOwner:t.dataOwner,linkToProfile:!0}}),t._v(" "),i("edit-profile",{ref:"profile",staticClass:"row",attrs:{dataOwner:t.dataOwner}})],1)}),[],!1,null,"47e2397b",null).exports,Ii=i(53),Ai=i(35),Di=i(54),Mi=i(817),ki=function(t,e,i,s){var a,n=arguments.length,o=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,s);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(o=(n<3?a(o):n>3?a(e,i,o):a(e,i))||o);return n>3&&o&&Object.defineProperty(e,i,o),o};!function(t){t[t.NotLoggedIn=0]="NotLoggedIn",t[t.NotOwner=1]="NotOwner",t[t.Mobile=2]="Mobile",t[t.UnknownPage=3]="UnknownPage",t[t.IllegalPage=4]="IllegalPage"}(Si||(Si={}));let Li=class UcmPage extends Mi.a{constructor(){super(...arguments),this.currentPage=y.p.MODELS,this.display={analytics:!1,catalogs:!1,collections:!1,editcatalog:!1,editcatalogeditsection:!1,editcollection:!1,editfolder:!1,editmodel:!1,editorganization:!1,favorites:!1,likedcontent:!1,folders:!1,materials:!1,models:!1,settings:!1},this.currentWidth=1024,this.isUser=!1,this.isOrg=!1,this.isUpdating=!1,this.requiredRoles=[],this.isDenied=!1,this.ucmDeniedMap=new Map,this.pageSizeParam=M.PAGE_SIZES.SMALL}beforeDestroy(){this.$eventBus.$off(y.m.UPDATING_PAGE,this.onUpdatingPageChanged),this.$eventBus.$off(M.Events.PAGE_SIZE_CHANGED,this.onPageSizeChanged)}created(){if(!this.isSignedIn){const t={cause:Si.NotLoggedIn,buttonText:this.$t("3D Warehouse"),message:this.$t("You must be signed in to manage content."),priority:1,route:"/"};return this.ucmDeniedMap.set(Si.NotLoggedIn,t),void this.setIsDenied()}let t=null!=this.$route.params.orgId?"organization":"user";if(null==this.owner){const e={cause:Si.UnknownPage,buttonText:this.$t("3D Warehouse"),message:this.$t(`This ${t} does not exist.`),priority:1,route:"/"};return this.ucmDeniedMap.set(Si.UnknownPage,e),void this.setIsDenied()}this.isUser=this.owner.externalResourceType===s.ExternalResourceType.User,this.isOrg=this.owner.externalResourceType===s.ExternalResourceType.Org,this.$isAdmin&&this.$user.id!==this.owner.id&&(this.owner.isManaged=!0);const e=!this.$inOrgContext&&this.$user.id===this.owner.id,i=this.$inOrgContext&&this.isInOrganization&&this.$context.id===this.owner.id;if(!this.$isAdmin&&!e&&!i){const e={cause:Si.NotOwner,buttonText:this.$t("My Content"),message:this.$t(`You cannot view this ${t}'s content.`),priority:2,route:ut.A(this.$context.id,this.$inOrgContext?s.ExternalResourceType.Org:s.ExternalResourceType.User)};return this.ucmDeniedMap.set(Si.NotOwner,e),void this.setIsDenied()}this.setupPage()}beforeMount(){this.pageSizeParam=parseInt(this.$route.query.pageSize)||M.PAGE_SIZES.SMALL,this.windowResized()}mounted(){"true"===n.a.get(Ii.a.UPLOAD_TRIGGER)&&(n.a.remove(Ii.a.UPLOAD_TRIGGER,{path:"/",domain:".sketchup.com"}),this.$eventBus.$emit(M.Events.UPLOAD_TRIGGER)),window.addEventListener("resize",this.windowResized),this.$eventBus.$on(y.m.UPDATING_PAGE,this.onUpdatingPageChanged),this.$eventBus.$on(M.Events.PAGE_SIZE_CHANGED,this.onPageSizeChanged),this.$watch("$route",(function(){this.ucmDeniedMap=new Map,this.setupPage()}))}setIsDenied(){this.isDenied=this.ucmDeniedMap.size>0}setupPage(){let t=y.p.MODELS;if(this.$route.query.nav){t=this.$route.query.nav.toLowerCase();if(!Object(y.s)(t)){const t={cause:Si.IllegalPage,buttonText:this.$t("My Content"),message:this.$t("The page does not exist."),priority:3,route:ut.A(this.$context.id,this.$inOrgContext?s.ExternalResourceType.Org:s.ExternalResourceType.User)};return this.ucmDeniedMap.set(Si.IllegalPage,t),void this.setIsDenied()}}this.togglePage(t)}get owner(){return this.$store.getters.currentSubjectOwner}onPageSizeChanged(t){this.pageSizeParam=parseInt(t),this.$router.push({query:Object.assign(Object.assign({},this.$route.query),{pageSize:t,pg:"1"})})}onUpdatingPageChanged(t){this.isUpdating=t}get pageRoute(){return this.currentPage}set pageRoute(t){const e=Object.assign({},this.$route.query);delete e.pg,delete e.tab,this.$router.push({query:Object.assign(Object.assign({},e),{nav:t})})}get showFavorites(){return(!this.owner||!this.owner.isManaged)&&this.display.favorites}get showLikes(){return(!this.owner||!this.owner.isManaged)&&this.display.likedcontent}get isInOrganization(){return this.$store.getters.isUserPartOfOrg}get pagesEnabled(){return{settings:this.showSettings(),editOrganization:this.showEditOrganization(),analytics:this.showAnalytics(),catalogs:this.showCatalogs()}}showSettings(){if(this.$inOrgContext){const t=this.$store.getters.permissions;return Object(Di.i)(t,Di.b.UCM_SETTINGS)}return null!=this.owner}showEditOrganization(){if(this.$inOrgContext){const t=this.$store.getters.permissions;return Object(Di.i)(t,Di.b.UCM_ORG_MANAGEMENT)}return!!this.isOrg&&this.$isAdmin}showAnalytics(){if(this.$inOrgContext){const t=this.$store.getters.permissions;return Object(Di.i)(t,Di.b.UCM_ANALYTICS)}return!0}showCatalogs(){return this.$isAdmin||this.$inOrgContext}get ucmDeniedButtonText(){return this.getHighestPriorityUcmDenied().buttonText}get ucmDeniedMessage(){return this.getHighestPriorityUcmDenied().message}get ucmDeniedRoute(){return this.getHighestPriorityUcmDenied().route}togglePage(t){const e=`${t}Page`,i=this.$refs[e];let a;if(this.currentPage){const t=`${this.currentPage}Page`;a=this.$refs[t]}if(!(a&&i&&a===i||this.checkMobilePageDenied(t))){if(this.isUnauthorizedPage(t)){const t={cause:Si.IllegalPage,buttonText:this.$t("My Content"),message:this.$t("This page is not available."),priority:3,route:ut.A(this.$context.id,this.$inOrgContext?s.ExternalResourceType.Org:s.ExternalResourceType.User)};return this.ucmDeniedMap.set(Si.IllegalPage,t),void this.setIsDenied()}a&&a!==i&&a.close(),this.display[this.currentPage]=!1,this.display[t]=!0,this.currentPage=t}}isUnauthorizedPage(t){return!this.$isAdmin&&(t===y.p.EDITORGANIZATION&&this.pagesEnabled.editOrganization?this.isOrgManagementAccessDenied():t===y.p.CATALOGS&&!1===this.pagesEnabled.catalogs||t===y.p.SETTINGS&&!1===this.pagesEnabled.settings||t===y.p.ANALYTICS&&!1===this.pagesEnabled.analytics||t===y.p.EDITORGANIZATION&&!1===this.pagesEnabled.editOrganization)}isOrgManagementAccessDenied(){var t;if((null===(t=this.$route.params)||void 0===t?void 0:t.orgId)!==this.$store.getters.currentContext.id)return!0;const e=this.$store.getters.permissions;return!this.$inOrgContext||!Object(Di.i)(e,Di.b.UCM_ORG_MANAGEMENT)}getHighestPriorityUcmDenied(){let t=null;return this.ucmDeniedMap.forEach(((e,i,s)=>{(null===t||e.priority<t.priority)&&(t=e)})),t}checkMobilePageDenied(t){if(this.isBelowMinimumWidth&&!this.isMobilePage(t)&&this.$user){const t={cause:Si.Mobile,buttonText:this.$t("My Models"),message:this.$t("This page cannot be viewed on mobile screens."),priority:4,route:ut.C(this.$user.id,s.ExternalResourceType.User)};return this.ucmDeniedMap.set(Si.Mobile,t),this.setIsDenied(),!0}return this.ucmDeniedMap.size>0&&this.ucmDeniedMap.has(Si.Mobile)&&(this.ucmDeniedMap.delete(Si.Mobile),this.setIsDenied()),!1}isMobilePage(t){return t===y.p.ANALYTICS||t===y.p.SETTINGS}isCatalogPage(t){return t===y.p.CATALOGS||t===y.p.EDITCATALOG}asyncData({store:t,route:e,isServer:i,context:a}){if(!i)return Promise.resolve();let n=e.params.userId||"",o=s.ExternalResourceType.User;if(e.name===M.Pages.UCM_ORG&&(n=e.params.orgId,o=s.ExternalResourceType.Org),"login"===n)return Promise.resolve();let r=Promise.resolve();e.name===M.Pages.UCM_ORG?r=t.dispatch("GET_IS_USER_PART_OF_ORG",{ownerId:n}):t.commit("SET_IS_USER_PART_OF_ORG",!1);const l=t.dispatch("GET_CURRENT_SUBJECT_OWNER",{id:n,type:o,params:{recordEvent:!1,showPersonalInfo:!0}}),c=Ai.e(t,a,!0);return Promise.all([l,c,r]).then((()=>{const e=t.getters.currentSubjectOwner||t.getters.currentUser,i=Ai.d(t,e),s=Ai.c(t,e);return Promise.all([s,i]).then((()=>Promise.resolve()),(()=>Promise.resolve()))}),(t=>Promise.reject(t)))}windowResized(){this.currentWidth=window.innerWidth,this.checkMobilePageDenied(this.currentPage)}get isBelowMinimumWidth(){return this.currentWidth<564}get boundDataOwner(){return this.owner.id}set boundDataOwner(t){this.$eventBus.$emit(M.Events.NEW_DATA_OWNER,t)}};Li=ki([Object(o.b)({components:{ContentBrowser:r.a,FooterPanel:l.a,HeaderPanel:c.a,PermissionDenied:C,SnackbarNotification:b.a,UcmAnalytics:E,UcmCatalogs:K,UcmCollections:it,UcmEditCatalogEditSection:at,UcmEditCatalog:ot,UcmEditCollection:lt,UcmEditModel:yt,UcmEditOrganization:Bt,UcmFavorites:oe,UcmFolders:he,UcmLikedContent:fe,UcmMaterials:_e,UcmModels:Ae,UcmNavPanel:je,UcmSettings:Oi},metaInfo:()=>({title:"User Content Manager"})})],Li);var $i=Li,xi=Object(f.a)($i,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"ucm-page"},[i("div",{staticClass:"ucm-header-container"},[i("header-panel",{staticClass:"no-left-panel"})],1),t._v(" "),t.isDenied?i("permission-denied",{attrs:{requiresLogin:!1,buttonText:t.ucmDeniedButtonText,messageText:t.ucmDeniedMessage,redirectUrl:t.ucmDeniedRoute}}):i("div",{staticClass:"ucm-main-container"},[i("div",{staticClass:"ucm-nav-container"},[i("ucm-nav-panel",{attrs:{dataOwner:t.owner,pagesEnabled:t.pagesEnabled},model:{value:t.pageRoute,callback:function(e){t.pageRoute=e},expression:"pageRoute"}})],1),t._v(" "),i("div",{staticClass:"ucm-tab-container"},[t.display.models?i("ucm-models",{ref:"modelsPage",attrs:{dataOwner:t.owner,pageSizeInitial:t.pageSizeParam}}):t._e(),t._v(" "),t.display.catalogs?i("ucm-catalogs",{ref:"catalogsPage",attrs:{dataOwner:t.owner,pageSizeInitial:t.pageSizeParam}}):t._e(),t._v(" "),t.display.folders?i("ucm-folders",{ref:"foldersPage",attrs:{dataOwner:t.owner,pageSizeInitial:t.pageSizeParam}}):t._e(),t._v(" "),t.display.materials?i("ucm-materials",{ref:"materialsPage",attrs:{dataOwner:t.owner,pageSizeInitial:t.pageSizeParam}}):t._e(),t._v(" "),t.display.collections?i("ucm-collections",{ref:"collectionsPage",attrs:{dataOwner:t.owner,pageSizeInitial:t.pageSizeParam}}):t._e(),t._v(" "),t.display.settings?i("ucm-settings",{ref:"settingsPage",attrs:{dataOwner:t.owner}}):t._e(),t._v(" "),t.showFavorites?i("ucm-favorites",{ref:"favoritesPage",attrs:{dataOwner:t.owner,pageSizeInitial:t.pageSizeParam}}):t._e(),t._v(" "),t.showLikes?i("ucm-liked-content",{ref:"likedContentPage",attrs:{dataOwner:t.owner,pageSizeInitial:t.pageSizeParam}}):t._e(),t._v(" "),t.display.analytics?i("ucm-analytics",{ref:"analyticsPage",attrs:{dataOwner:t.owner}}):t._e(),t._v(" "),t.display.editmodel?i("ucm-edit-model",{ref:"editmodelPage",attrs:{dataOwner:t.owner}}):t._e(),t._v(" "),t.display.editcollection?i("ucm-edit-collection",{ref:"editcollectionPage",attrs:{dataOwner:t.owner,pageSizeInitial:t.pageSizeParam}}):t._e(),t._v(" "),t.display.editfolder?i("ucm-edit-collection",{ref:"editfolderPage",attrs:{dataOwner:t.owner,pageSizeInitial:t.pageSizeParam}}):t._e(),t._v(" "),t.display.editcatalog?i("ucm-edit-catalog",{ref:"editcatalogPage",attrs:{dataOwner:t.owner,pageSizeInitial:t.pageSizeParam}}):t._e(),t._v(" "),t.display.editcatalogeditsection?i("ucm-edit-catalog-edit-section",{ref:"editcatalogeditsectionPage",attrs:{pageSizeInitial:t.pageSizeParam}}):t._e(),t._v(" "),t.display.editorganization?i("ucm-edit-organization",{ref:"editorganizationPage",attrs:{dataOwner:t.owner}}):t._e()],1),t._v(" "),i("footer-panel")],1),t._v(" "),i("content-browser",{ref:"browser"}),t._v(" "),i("snackbar-notification",{attrs:{enabled:t.isSnack,message:t.snackMessage,type:t.snackSuccess,icon:t.snackIcon,length:t.snackLength},on:{snackbarClosed:function(e){t.isSnack=!1}}}),t._v(" "),t.isUpdating?i("div",{staticClass:"loading-page-overlay"},[i("div",{staticClass:"loading"})]):t._e()],1)}),[],!1,null,null,null);e.default=xi.exports},725:function(t,e,i){"use strict";var s=i(742).a,a=i(28),n=Object(a.a)(s,(function(){var t=this.$createElement;return(this._self._c||t)("div",{ref:"modal",staticClass:"modal-dialog"})}),[],!1,null,null,null);e.a=n.exports},726:function(t,e,i){"use strict";i.d(e,"a",(function(){return s.a}));var s=i(746),a=s.b,n=i(28),o=Object(n.a)(a,(function(){var t=this.$createElement;return(this._self._c||t)("div")}),[],!1,null,null,null);e.b=o.exports},727:function(t,e,i){"use strict";var s=i(736).a,a=i(28),n=Object(a.a)(s,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.exit,expression:"exit"}],ref:"itemSelector",staticClass:"item-selector",class:{disabled:t.disabled,"has-icon":t.icon,"is-active":t.isActive},attrs:{tabindex:"-1",id:t.id},on:{click:[function(e){return t.clicked()},function(e){return e.preventDefault(),t.anchorClicked()}],keydown:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"down",40,e.key,["Down","ArrowDown"])?null:(e.preventDefault(),t.next())},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"up",38,e.key,["Up","ArrowUp"])?null:(e.preventDefault(),t.prev())},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"tab",9,e.key,"Tab")?null:t.exit()},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.preventDefault(),t.selectCurrent())}],keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:(e.preventDefault(),t.exit())}}},[i("div",{ref:"dropdownAnchor",staticClass:"control-wrapper"},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.title&&!1===t.onlyShowTitle,expression:"title && onlyShowTitle === false"}],staticClass:"title",on:{click:function(e){return e.preventDefault(),t.exit()}}},[t._v(t._s(t.title))]),t._v(" "),i("div",{ref:"wrapperEl",staticClass:"selection-wrapper title",attrs:{id:t.id+"-selection-wrapper",title:t.selectionLabel}},[i("div",{staticClass:"selected",class:{holder:0===t.selections.length,emphasis:t.selections.length>0&&t.emphasizeSelection}},[t._v("\n        "+t._s(t.selectionLabel)+"\n      ")]),t._v(" "),t.enableMultiSelect&&t.boundSelections.length>0?i("div",{staticClass:"total-selected"},[t._v("\n        "+t._s(t.boundSelections.length)+"\n      ")]):t._e(),t._v(" "),i("div",{staticClass:"select-icon"})]),t._v(" "),t.icon?i("div",{staticClass:"alternate-icon"},[i("img",{attrs:{src:t.icon}})]):t._e()]),t._v(" "),t.hasEverOpened?i("div",{directives:[{name:"show",rawName:"v-show",value:t.isActive,expression:"isActive"}],ref:"dropdown",staticClass:"dropdown select-item-list-wrapper",class:{dropdownClass:""!==t.dropdownClass,"context-selector":t.isContextClass,default:!t.isContextClass,"fill-dropdown-width":t.dropdownWidthShouldMatchSelectorWidth},attrs:{id:t.id+"-si-dropdown"},on:{mouseover:function(e){return t.preventScroll()},mouseleave:function(e){return t.enableScroll()}}},[i("ul",{ref:"dropdownContent",staticClass:"dropdown-content wrapping-selection-list"},t._l(t.boundItems,(function(e,s){return i("li",{key:s,staticClass:"select-item selection-list-item",class:{highlight:s===t.currentRow,selected:t.selections.some((function(t){return t.value===e.value})),"context-selector":t.isContextClass},attrs:{id:t.id+"-item-"+s,title:t.getItemHelpText(e),value:e.value},on:{click:function(i){return i.preventDefault(),t.select(e,s)},mouseover:function(e){return t.setCurrent(s)}}},[i("div",{staticClass:"select-item-value"},[t._v(t._s(t.getItemLabel(e.label)))]),t._v(" "),i("div",{staticClass:"selected-mark"})])})),0)]):t._e()])}),[],!1,null,null,null);e.a=n.exports},728:function(t,e,i){"use strict";var s=i(787),a=i(6),n=i.n(a),o=i(12),r=function(t,e,i,s){var a,n=arguments.length,o=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,s);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(o=(n<3?a(o):n>3?a(e,i,o):a(e,i))||o);return n>3&&o&&Object.defineProperty(e,i,o),o};let l=class IconChevron extends n.a{constructor(){super(...arguments),this.name="icon-chevron"}get directionClass(){switch(this.direction){case"right":return"face-right";case"up":return"face-up";case"left":return"face-left";default:return""}}};l=r([Object(o.b)({components:{ChevronDownIcon:{functional:!0,render:function(t,e){var i=e._c;return i("svg",{class:[e.data.class,e.data.staticClass],style:[e.data.style,e.data.staticStyle],attrs:{xmlns:"http://www.w3.org/2000/svg",width:"11",height:"7",viewBox:"0 0 11 7"}},[i("path",{attrs:{fill:"none","fill-rule":"evenodd",stroke:"#B7B7B6","stroke-linecap":"round","stroke-width":"2",d:"M1.441 1.138l4 4 4-4"}})])}},ChevronThinIcon:s.a},props:{id:String,direction:{type:String,default:""},thin:{type:Boolean,default:!1}}})],l);var c=l,d=i(28),u=Object(d.a)(c,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("span",{staticClass:"svg-icon icon-chevron",class:t.directionClass,attrs:{id:t.id}},[t.thin?i("ChevronThinIcon"):i("ChevronDownIcon")],1)}),[],!1,null,null,null);e.a=u.exports},729:function(t,e,i){"use strict";e.a={functional:!0,render:function(t,e){var i=e._c;return i("svg",{class:[e.data.class,e.data.staticClass],style:[e.data.style,e.data.staticStyle],attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"}},[i("path",{staticClass:"pathFill",attrs:{fill:"#363545","fill-rule":"evenodd",d:"M21.75 8.5a2.25 2.25 0 0 1 2.179 2.814l-2.204 9.015A2.25 2.25 0 0 1 19.55 22H2.447a.75.75 0 0 1-.224-.034A2.453 2.453 0 0 1 0 19.55V3.25A2.25 2.25 0 0 1 2.25 1h4.5A2.25 2.25 0 0 1 9 3.25V4h9.75A2.25 2.25 0 0 1 21 6.25V8.5h.75zm-2.2 12c.34 0 .638-.228.721-.542l2.204-9.015A.75.75 0 0 0 21.75 10H7.878c-.334 0-.628.22-.712.508l-2.358 9.684c-.03.106-.067.209-.11.308H19.55zM19.5 6.25a.75.75 0 0 0-.75-.75H8.25a.75.75 0 0 1-.75-.75v-1.5a.75.75 0 0 0-.75-.75h-4.5a.75.75 0 0 0-.75.75v16.29a.95.95 0 0 0 .826.928.945.945 0 0 0 1.031-.657l2.36-9.69A2.25 2.25 0 0 1 7.879 8.5H19.5V6.25z"}})])}}},730:function(t,e,i){},731:function(t,e,i){"use strict";e.a={functional:!0,render:function(t,e){var i=e._c;return i("svg",{staticClass:"inline-icon",class:[e.data.class,e.data.staticClass],style:[e.data.style,e.data.staticStyle],attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"}},[i("path",{staticClass:"inner-path",attrs:{fill:"inherit","fill-rule":"evenodd",d:"M24.077 8.757c-.151-.405-2.743-.742-7.774-1.012a.519.519 0 0 1-.49-.345C13.763 2.467 12.52 0 12.088 0c-.433 0-1.674 2.467-3.725 7.4-.179.23-.342.345-.488.345-5.039.272-7.633.611-7.782 1.02-.15.408 1.799 2.46 5.843 6.157a.515.515 0 0 1 .161.56c-1.498 5.391-2.065 8.22-1.7 8.484.365.265 2.826-1.085 7.384-4.05a.52.52 0 0 1 .613 0c4.557 2.966 7.018 4.316 7.383 4.051.366-.264-.2-3.094-1.7-8.489a.515.515 0 0 1 .162-.56c4.043-3.702 5.989-5.755 5.838-6.161z"}}),i("path",{staticClass:"outer-path",attrs:{fill:"inherit","fill-rule":"evenodd",d:"M11.998 1.5a.068.068 0 0 0-.059.033L8.598 8.158a.75.75 0 0 1-.596.41l-6.452.638a.055.055 0 0 0-.034.094l5.304 5.253a.75.75 0 0 1 .195.732l-1.963 7.131a.063.063 0 0 0 .021.065c.02.016.046.019.073.006l6.52-3.23a.75.75 0 0 1 .665 0l6.533 3.236a.063.063 0 0 0 .068-.008c.02-.015.028-.04.023-.058l-1.965-7.138a.75.75 0 0 1 .195-.732l5.3-5.253a.055.055 0 0 0 .013-.058c-.007-.02-.025-.034-.059-.037L16 8.571a.75.75 0 0 1-.595-.408l-3.345-6.626A.069.069 0 0 0 12 1.5zM10.602.854a1.569 1.569 0 0 1 2.793 0l.002.004 3.16 6.261 6.018.596a1.555 1.555 0 0 1 .966 2.654l-4.988 4.945 1.85 6.721a1.563 1.563 0 0 1-2.208 1.8l-6.197-3.068-6.183 3.062a1.563 1.563 0 0 1-2.21-1.804l1.848-6.715L.46 10.365a1.555 1.555 0 0 1 .954-2.653l6.03-.597L10.602.854z"}})])}}},732:function(t,e,i){"use strict";i.d(e,"e",(function(){return v})),i.d(e,"d",(function(){return f})),i.d(e,"b",(function(){return C})),i.d(e,"c",(function(){return b})),i.d(e,"a",(function(){return y}));var s=i(56),a=i(38),n=i(15),o=i(18),r=i(391),l=i(0),c=i(1),d=i.n(c),u=i(17),h=i.n(u),p=i(10),m=i(7),g=i(9);function v(t,e){const i=e.href();t.location.href=i}function f(t){return new h.a(t)}function C(t,e,i,s){i=o.getUrlOrigin(i);let r="";const c=g.F();(n.isSketchupMobileClient(c)||n.isSketchupClient(c)&&a.parseSUVersion().major>=p.b)&&(r=y.DOWNLOAD_MATERIAL+i);let u=r+g.q(t,m.Constants.BackendClass.MATERIAL,l.BinaryType.Skm,e,!0,!0);const v=d.a.utc(s,m.Constants.RESPONSE_TIME_FORMAT,!0);let f=0;return f=v.isValid()?v.valueOf():d.a.utc().valueOf(),u+="&entityCache="+f,new h.a(u)}function b(t,e,i,a,c){const u=g.F();i=o.getUrlOrigin(i);const p=(c=c||{}).fileName,v=c.preferredFormats||null,f=s.getBestBinaryName(t,u,v);if(null==f)return null;let C="";if(n.isSketchupClient(u)||r.isEmbeddedThirdParty(u)||n.isSketchupMobileClient(u))switch(f){case l.BinaryType.Sketchup_Gen_Kmz:case l.BinaryType.Server_Gen_Kmz:C=y.DOWNLOAD_KMZ+i;break;case l.BinaryType.Collada:C=y.DOWNLOAD_COLLADA+i;break;case l.BinaryType.Small_Thumbnail:case l.BinaryType.Large_Thumbnail:case l.BinaryType.Small_Thumbnail_Bot:case l.BinaryType.Large_Thumbnail_Bot:case l.BinaryType.Small_Thumbnail_Custom:C=y.DOWNLOAD_IMAGE+i;break;default:C=y.DOWNLOAD_MODEL+i}let b=C+g.q(e,m.Constants.BackendClass.ENTITY,f,p||null,!0,!0),w=0;const _=d.a.utc(a,m.Constants.RESPONSE_TIME_FORMAT,!0);return w=_.isValid()?_.valueOf():d.a.utc().valueOf(),b+="&entityCache="+w,new h.a(b)}h.a.escapeQuerySpace=!1;const y={CLOSE_WINDOW:"skp:close",DOWNLOAD_MODEL:"skp:getSkp@",DOWNLOAD_KMZ:"skp:getKmz@",DOWNLOAD_COLLADA:"skp:getCollada@",DOWNLOAD_IMAGE:"skp:getImage@",UPLOAD_MODEL:"skp:uploadSkp",DOWNLOAD_MATERIAL:"skp:getSkm@"}},733:function(t,e,i){"use strict";e.a={functional:!0,render:function(t,e){var i=e._c;return i("svg",{class:[e.data.class,e.data.staticClass],style:[e.data.style,e.data.staticStyle],attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"}},[i("path",{staticClass:"pathFill",attrs:{fill:"#363545","fill-rule":"evenodd",d:"M2.833 8.5c-.253 0-.458.224-.458.5v12c0 .276.205.5.458.5h18.334c.253 0 .458-.224.458-.5V9c0-.276-.205-.5-.458-.5H2.833zm0-1.5h18.334C22.179 7 23 7.895 23 9v12c0 1.105-.82 2-1.833 2H2.833C1.821 23 1 22.105 1 21V9c0-1.105.82-2 1.833-2zm.917-1.5h16.5-16.5zm0-1.5h16.5a.75.75 0 1 1 0 1.5H3.75a.75.75 0 0 1 0-1.5zm2-1.5h12.5-12.5zm0-1.5h12.5a.75.75 0 1 1 0 1.5H5.75a.75.75 0 0 1 0-1.5z"}})])}}},734:function(t,e,i){"use strict";e.a={functional:!0,render:function(t,e){var i=e._c;return i("svg",{class:[e.data.class,e.data.staticClass],style:[e.data.style,e.data.staticStyle],attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"}},[i("path",{staticClass:"pathFill",attrs:{fill:"#005f9e","fill-rule":"evenodd",d:"M3.414 12.225a1.913 1.913 0 0 0-2.828 0c-.781.833-.781 2.184 0 3.017l5 5.333a1.911 1.911 0 0 0 2.779.051l15-14.933c.807-.804.85-2.154.097-3.015-.754-.862-2.02-.908-2.827-.104L7.048 16.1l-3.634-3.876z"}})])}}},735:function(t,e,i){"use strict";var s=i(6),a=i.n(s),n=i(12),o=function(t,e,i,s){var a,n=arguments.length,o=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,s);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(o=(n<3?a(o):n>3?a(e,i,o):a(e,i))||o);return n>3&&o&&Object.defineProperty(e,i,o),o};let r=class ErrorInContext extends a.a{constructor(){super(...arguments),this.name="error-in-context"}get text(){return this.errorState?this.errorText:this.contextHeader}get hasPlaceholder(){return this.isPlaceholder&&this.contextHeader.length>0}};r=o([Object(n.b)({props:{errorState:{type:Boolean,default:!1},errorText:{type:String,default:""},contextHeader:{type:String,default:""},showIcon:{type:Boolean,default:!1},isPlaceholder:{type:Boolean,default:!0},isRequired:{type:Boolean,default:!1},maxCharacters:{type:Number,default:null},characterCount:{type:Number,default:null}}})],r);var l=r,c=i(28),d=Object(c.a)(l,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.errorState||t.isPlaceholder?i("div",{staticClass:"error-container"},[t.errorState||t.hasPlaceholder?i("div",{staticClass:"error-message left",class:{error:t.errorState}},[t.errorState&&t.showIcon?i("img",{staticClass:"error-icon",attrs:{src:"/static/images/alert-icon.png"}}):t._e(),t._v("\n    "+t._s(t.text)+"\n    "),t.isRequired?i("span",[t._v(" *")]):t._e()]):t._e(),t._v(" "),t.maxCharacters?i("div",{staticClass:"chars-remaining right",class:{"chars-full":t.characterCount>=t.maxCharacters}},[t._v("\n    "+t._s(t.characterCount)+" / "+t._s(t.maxCharacters)+"\n  ")]):t._e()]):t._e()}),[],!1,null,null,null);e.a=d.exports},736:function(t,e,i){"use strict";(function(t){var s=i(12),a=(i(792),i(3)),n=i(758),o=function(t,e,i,s){var a,n=arguments.length,o=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,s);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(o=(n<3?a(o):n>3?a(e,i,o):a(e,i))||o);return n>3&&o&&Object.defineProperty(e,i,o),o};let r=class ItemSelector extends n.a{constructor(){super(...arguments),this.row=-1,this.selections=[],this.hasEverOpened=!1}beforeDestroy(){this.$eventBus.$off(a.Events.CLOSE_CONTEXT_SELECTOR,this.exit)}created(){this.updateState()}mounted(){this.$eventBus.$on(a.Events.CLOSE_CONTEXT_SELECTOR,this.exit)}updateState(){var t,e;if(this.currentRow=-1,this.selections=[],this.items)for(const i of this.items)if(this.enableMultiSelect){(null!==(e=null===(t=this.value)||void 0===t?void 0:t.split(","))&&void 0!==e?e:[]).includes(i.value)&&this.selections.push(i)}else if(i.value===this.value)return void this.selections.push(i)}get currentRow(){return this.row}set currentRow(t){this.row=t}get boundSelections(){return this.selections}get selectionLabel(){return this.onlyShowTitle?this.title:this.boundSelections.length>0?this.getItemLabel(this.boundSelections[0].label):this.placeholder}preventScroll(){this.listMouseOver(!0)}enableScroll(){this.listMouseOver(!1)}clicked(){this.disabled||(this.isActive?window.removeEventListener("scroll",this.exit):window.addEventListener("scroll",this.exit))}get boundItems(){return this.items||[]}set boundItems(t){this.items=t}get columnFull(){return this.maxColumnItems&&this.boundItems.length>this.maxColumnItems}canActivate(){return this.items.length>0}select(t,e){this.isActive&&!this.disabled&&(this.exit(),this.selections.some((e=>e.value===t.value))?this.enableMultiSelect?(this.selections=this.selections.filter((e=>e.value!==t.value)),this.$emit("input",this.selections.map((t=>t.value)).join(","))):this.$emit("reselected"):(this.selections.push(t),this.currentRow=e,this.enableMultiSelect?this.$emit("input",this.selections.map((t=>t.value)).join(",")):this.$emit("input",t.value)))}exit(){this.enableScroll(),this.deactivate()}selectCurrent(){this.currentRow>=0&&!this.disabled&&this.select(this.items[this.currentRow],this.currentRow)}setCurrent(t){this.isActive&&!this.disabled&&t!==this.currentRow&&(t<0?t=this.items.length-1:t>=this.items.length&&(t=0),this.currentRow=t)}next(){this.disabled||this.setCurrent(this.currentRow+1)}prev(){this.disabled||this.setCurrent(this.currentRow-1)}listMouseOver(t){this.$props.isContextClass&&this.$props.emitEvents&&this.$eventBus.$emit(a.Events.ITEM_SELECTOR_DROPDOWN_MOUSEOVER,t)}getItemLabel(t){return this.translateText?this.$t(t):t}getItemHelpText(t){const e=null!=t.helpText?t.helpText:t.label;return this.translateText?this.$t(e):e}sizeDropdownContent(){let e=this.$refs.dropdownContent;if(this.dropdownWidthShouldMatchSelectorWidth){let i=this.$refs.itemSelector,s=t(i).width();s<this.minDropdownWidth?t(e).css("width",this.minDropdownWidth):null!=this.maxDropdownWidth&&s>this.maxDropdownWidth?t(e).css("width",this.maxDropdownWidth):t(e).css("width",s)}else if(this.columnFull){let i=e.firstElementChild;if(i){let s=i.scrollWidth*Math.ceil(this.boundItems.length/this.maxColumnItems);t(e).css("width",s)}}else t(e).css("width","")}};r=o([Object(s.b)({props:{items:Array,value:String,title:{type:String,default:""},icon:String,id:String,disabled:{type:Boolean,default:!1},dropdownClass:{type:String,default:""},maxColumnItems:{type:Number,default:10},translateText:{type:Boolean,default:!1},isContextClass:{type:Boolean,default:!1},emitEvents:{type:Boolean,default:!0},minDropdownWidth:{type:Number,default:0},maxDropdownWidth:Number,dropdownWidthShouldMatchSelectorWidth:{type:Boolean,default:!1},enableMultiSelect:{type:Boolean,default:!1},onlyShowTitle:{type:Boolean,default:!1},placeholder:{type:String,default:""},emphasizeSelection:{type:Boolean,default:!1}},watch:{items(){this.updateState()},value(){this.updateState()}},inheritAttrs:!1})],r),e.a=r}).call(this,i(31))},737:function(t,e,i){"use strict";(function(t){var s=i(6),a=i.n(s),n=i(12),o=i(3),r=function(t,e,i,s){var a,n=arguments.length,o=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,s);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(o=(n<3?a(o):n>3?a(e,i,o):a(e,i))||o);return n>3&&o&&Object.defineProperty(e,i,o),o};let l=class DropdownBase extends a.a{constructor(){super(...arguments),this.active=!1,this.isMounted=!1,this.anchorRef=null,this.hasEverOpened=!1,this.calculateDropdownHeight=!0}mounted(){this.isMounted=!0}get isActive(){return this.isMounted&&!this.disabled&&this.active}set isActive(t){this.active=t}get isOpen(){return this.isActive}anchorClicked(){this.disabled||(this.isActive?this.deactivate():this.activate())}canActivate(){return!0}activate(){!this.canActivate()||this.isActive||this.disabled||(this.isActive=!0)}deactivate(){this.isActive&&(this.isActive=!1)}onActiveChanged(t){t?(this.hasEverOpened=!0,this.$nextTick((()=>{this.openDropdown()}))):this.closeDropdown()}openDropdown(){document.addEventListener("resize",this.resizeAndPositionDropdown),document.addEventListener("scroll",this.resizeAndPositionDropdown),this.onOpenDropdown(),this.resizeAndPositionDropdown()}resizeAndPositionDropdown(){this.sizeDropdownContent(),this.positionDropdown(),this.sizeDropdown()}sizeDropdownContent(){}positionDropdown(){const e=this.$refs.dropdown,i=document.body;let s=t(e);s.appendTo(i);const a=this.anchorRef||this.$refs.dropdownAnchor;let n=t(a);const r=o.anchorDropdown(n,this.align);r.position="fixed",s.css(r),this.aligned="unset"===r.right?"left":"right"}sizeDropdown(){const e=this.anchorRef||this.$refs.dropdownAnchor,i=this.$refs.dropdown,s=this.$refs.dropdownContent;let a=s.scrollHeight,n="auto",o=s.getBoundingClientRect();this.calculateDropdownHeight&&o.top+a+20>window.innerHeight&&(n=window.innerHeight-o.top+"px"),t(i).css("height",n);let r=s.scrollWidth,l="auto",c=e.getBoundingClientRect();"right"===this.aligned?c.right-r-20<0&&(l=c.right-20+"px"):c.left+r+20>window.innerWidth&&(l=window.innerWidth-c.left-20+"px"),t(i).css("width",l)}onOpenDropdown(){}onCloseDropdown(){}closeDropdown(){if(!this.isMounted)return;this.onCloseDropdown(),document.removeEventListener("scroll",this.resizeAndPositionDropdown),document.removeEventListener("resize",this.resizeAndPositionDropdown);const e=this.$refs.dropdown,i=this.$el;t(e).appendTo(i),t(e).css("height","auto"),t(e).css("width","auto")}beforeDestroy(){this.closeDropdown()}};l=r([Object(n.b)({props:{disabled:{type:Boolean,default:!1},align:{type:String,default:o.DropdownAlignments.LEFT}},watch:{isActive(t,e){t!==e&&this.onActiveChanged(t)}}})],l),e.a=l}).call(this,i(31))},738:function(t,e,i){"use strict";i.d(e,"a",(function(){return FeatureToggles}));var s=i(17);i.n(s).a.escapeQuerySpace=!1;class FeatureToggles{static getCertifiedContentEnabled(t){return null!=t&&!!t.getters.currentFeatureToggles.ENABLE_CERTIFIED_CONTENT}static getOldEmbedGracePeriodEnabled(t){return!0}static getClientAccessToLabsEnabled(t){return null!=t&&!!t.getters.currentFeatureToggles.LABS_ENABLE_CLIENT_ACCESS}static getFeatureToggleEnabled(t,e){return null!=t&&!!t.getters.currentFeatureToggles[e]}}},739:function(t,e,i){"use strict";var s=i(11),a=i(150),n=i.n(a),o=i(6),r=i.n(o),l=i(12),c=(i(730),i(53)),d=function(t,e,i,s){var a,n=arguments.length,o=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,s);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(o=(n<3?a(o):n>3?a(e,i,o):a(e,i))||o);return n>3&&o&&Object.defineProperty(e,i,o),o};let u=class NewsItem extends r.a{constructor(){super(...arguments),this.name="",this.isDismissed=!1,this.whiteList=[],this.blackList=[]}getCookieName(){return"newsitem_"+this.name}isActive(){return s.dateUtil.isBetween(new Date,this.getStartTime(),this.getEndTime())}getStartTime(){return new Date(0)}getEndTime(){return new Date(0)}get dismissed(){return this.isDismissed}closeNewsItem(t,e){this.setCookie()}setCookie(){n.a.set(this.getCookieName(),"true",{expires:c.a.NEWSBAR_COOKIE_DURATION}),this.isDismissed=!0,this.$emit("newsItemDismissed",this),this.onNewsItemClosed()}onNewsItemClosed(){}get shouldShow(){return!!this.shouldShowOnCurrentPage()&&(!!this.isUrlOverridePresent()||this.isActive()&&!n.a.get(this.getCookieName()))}isUrlOverridePresent(){return!1}shouldShowOnCurrentPage(){if(this.whiteList.length){let t=this.$route.name;return!!(t&&this.whiteList.indexOf(t)>-1)}if(this.blackList.length){let t=this.$route.name;if(t&&this.whiteList.indexOf(t)>-1)return!1}return!0}};u=d([l.b],u);var h=u,p=i(28),m=Object(p.a)(h,(function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"default-news-item-container"})}),[],!1,null,null,null);e.a=m.exports},740:function(t,e,i){},741:function(t,e,i){"use strict";var s=i(780),a=i(754),n=i(796),o=i(783),r=i(12),l=i(3),c=i(726),d=function(t,e,i,s){var a,n=arguments.length,o=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,s);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(o=(n<3?a(o):n>3?a(e,i,o):a(e,i))||o);return n>3&&o&&Object.defineProperty(e,i,o),o};let u=class StatusModal extends c.b{constructor(){super(...arguments),this.name="status-modal",this.openOnMounted=!0,this.loadPercent=0}mounted(){this.startState=this.currentState}beforeDestroy(){this.$el.remove()}get stateMessage(){switch(this.currentState){case l.StatusModalState.Success:return""===this.successMessage?this.$t("Success! It worked!"):this.successMessage;case l.StatusModalState.Failure:return""===this.failureMessage?this.$t("Failed."):this.failureMessage;case l.StatusModalState.LoadingIndeterminate:return""===this.loadIndetMessage?this.$t("Loading."):this.loadIndetMessage;case l.StatusModalState.LoadingDeterminate:return""===this.loadDetMessage?this.$t("Getting there!"):this.loadDetMessage;default:return this.$t("Oops! An error has occurred.")}}get stateTitle(){switch(this.currentState){case l.StatusModalState.Success:return""===this.successTitle?this.$t("Success!"):this.successTitle;case l.StatusModalState.Failure:return""===this.failureTitle?this.$t("Failed."):this.failureTitle;case l.StatusModalState.LoadingIndeterminate:return""===this.loadIndetTitle?this.$t("Loading."):this.loadIndetTitle;case l.StatusModalState.LoadingDeterminate:return""===this.loadDetTitle?this.$t("Loading."):this.loadDetTitle;default:return this.$t("Oops!")}}get isSuccessState(){return this.currentState===l.StatusModalState.Success}get isFailureState(){return this.currentState===l.StatusModalState.Failure}get isLoadingDeterminateState(){return this.currentState===l.StatusModalState.LoadingDeterminate}get isErrorState(){switch(this.currentState){case l.StatusModalState.Success:case l.StatusModalState.Failure:case l.StatusModalState.LoadingIndeterminate:case l.StatusModalState.LoadingDeterminate:return!1;default:return!0}}get translatedButtonText(){return""===this.buttonText?this.$t("Done"):this.buttonText}updateState(t,e){switch(t){case l.StatusModalState.Success:this.success();break;case l.StatusModalState.Failure:this.failure();break;case l.StatusModalState.LoadingIndeterminate:this.loadingIndeterminate();break;case l.StatusModalState.LoadingDeterminate:this.loadingDeterminate(e)}}resetState(){this.updateState(this.startState)}closeStatusModal(){this.resetState(),this.closeModal()}success(){this.currentState=l.StatusModalState.Success}failure(){this.currentState=l.StatusModalState.Failure}loadingIndeterminate(){this.currentState=l.StatusModalState.LoadingIndeterminate}loadingDeterminate(t){this.currentState=l.StatusModalState.LoadingDeterminate,this.loadPercent=t}onAccept(){this.acceptCallback&&this.acceptCallback(),this.closeStatusModal()}resetModal(t){this.acceptCallback=t.acceptCallback?t.acceptCallback:null,this.buttonText=t.buttonText?t.buttonText:"",this.currentState=t.currentState?t.currentState:l.StatusModalState.Success,this.successMessage=t.successMessage?t.successMessage:"",this.failureMessage=t.failureMessage?t.failureMessage:"",this.loadIndetMessage=t.loadIndetMessage?t.loadIndetMessage:"",this.loadDetMessage=t.loadDetMessage?t.loadDetMessage:"",this.successTitle=t.successTitle?t.successTitle:"",this.failureTitle=t.failureTitle?t.failureTitle:"",this.loadIndetTitle=t.loadIndetTitle?t.loadIndetTitle:"",this.loadDetTitle=t.loadDetTitle?t.loadDetTitle:"",this.loadPercent=t.loadPercent?t.loadPercent:0}};u=d([Object(r.b)({components:{IconAlert:s.a,IconFailure:n.a,IconLoading:a.a,IconSuccess:o.a},props:{acceptCallback:Function,buttonText:{type:String,default:""},currentState:{type:Number,default:l.StatusModalState.Success},successMessage:{type:String,default:""},failureMessage:{type:String,default:""},loadIndetMessage:{type:String,default:""},loadDetMessage:{type:String,default:""},successTitle:{type:String,default:""},failureTitle:{type:String,default:""},loadIndetTitle:{type:String,default:""},loadDetTitle:{type:String,default:""},StatusModalState:{type:Object,default:()=>l.StatusModalState},isOverModal:{type:Boolean,default:!1}}})],u);var h=u,p=i(28),m=Object(p.a)(h,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"status-modal modal-dialog reveal",attrs:{id:"status-modal","data-multiple-opened":t.isOverModal,"data-reveal":"","data-close-on-click":"false","data-close-on-esc":"false"}},[i("div",{staticClass:"modal-dialog-header"},[i("transition",{attrs:{name:"fade",mode:"out-in"}},[i("span",{key:t.currentState,staticClass:"modal-dialog-title-text title status-title"},[t._v("\n        "+t._s(t.stateTitle)+"\n      ")])])],1),t._v(" "),t.isLoadingDeterminateState?t._e():i("div",{staticClass:"modal-dialog-icon"},[t.isSuccessState?i("IconSuccess",{staticClass:"awesome_sauce"}):t.isFailureState?i("IconFailure",{staticClass:"awesome_sauce"}):t.isErrorState?i("IconAlert",{staticClass:"awesome_sauce"}):i("IconLoading",{staticClass:"awesome_sauce"})],1),t._v(" "),t.isLoadingDeterminateState?i("div",{staticClass:"progress",attrs:{role:"progressbar",tabindex:"0","aria-valuenow":t.loadPercent,"aria-valuemin":"0","aria-valuetext":t.loadPercent+" percent","aria-valuemax":"100"}},[i("div",{staticClass:"progress-meter",style:"width: "+t.loadPercent+"%"})]):t._e(),t._v(" "),i("div",{staticClass:"modal-dialog-content"},[i("transition",{attrs:{name:"fade",mode:"out-in"}},[i("span",{key:t.currentState},[t._v("\n        "+t._s(t.stateMessage)+"\n      ")])])],1),t._v(" "),i("div",{staticClass:"modal-dialog-footer"},[i("transition",{attrs:{name:"fade",mode:"out-in"}},[t.isSuccessState||t.isFailureState?i("button",{staticClass:"modal-dialog-button-ok button",on:{click:this.onAccept}},[t._v("\n        "+t._s(t.translatedButtonText)+"\n      ")]):t._e()]),t._v(" "),i("br")],1)])}),[],!1,null,null,null);e.a=m.exports},742:function(t,e,i){"use strict";(function(t){var s=i(6),a=i.n(s),n=i(674),o=(i(764),function(t,e,i,s){var a,n=arguments.length,o=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,s);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(o=(n<3?a(o):n>3?a(e,i,o):a(e,i))||o);return n>3&&o&&Object.defineProperty(e,i,o),o});let r=class ModalDialog extends a.a{constructor(){super(...arguments),this.name="modal",this.openOnMounted=!1,this.currentFocusElement=0,this.focusableElements=[]}mountOnPage(t="app-modal-container"){let e=document.getElementById(t),i=document.createElement("div");e.appendChild(i),this.$mount(i)}mounted(){t(this.$el).foundation(),this.openOnMounted&&this.openModal();for(let t of this.$el.querySelectorAll("[tabindex]"))t.tabIndex>=0&&this.focusableElements.push(t)}openModal(){t(this.$el).foundation("open"),this.setupKeyEventListeners()}closeModal(){return new Promise(((e,i)=>{t(this.$el).foundation("close"),this.destroyKeyEventListeners(),e()}))}get isOpen(){return!!this.$el&&"none"!==this.$el.style.display}get isClosed(){return!this.$el||"none"===this.$el.style.display}destroy(){t(this.$el).foundation("destroy")}handleKeyDown(t){9===t.keyCode&&(t.preventDefault(),t.shiftKey?this.handleBackwardTab(t):this.handleForwardTab(t))}handleForwardTab(t){this.focusableElements.length>0&&(this.currentFocusElement++,this.currentFocusElement===this.focusableElements.length&&(this.currentFocusElement=0),this.$nextTick((function(){this.focusableElements[this.currentFocusElement].focus()})))}handleBackwardTab(t){this.focusableElements.length>0&&(this.currentFocusElement--,this.currentFocusElement<0&&(this.currentFocusElement=this.focusableElements.length-1),this.$nextTick((function(){this.focusableElements[this.currentFocusElement].focus()})))}setupKeyEventListeners(){document.addEventListener("keydown",this.handleKeyDown)}destroyKeyEventListeners(){document.removeEventListener("keydown",this.handleKeyDown)}};o([Object(n.d)()],r.prototype,"acceptCallback",void 0),r=o([Object(n.a)({})],r),e.a=r}).call(this,i(31))},743:function(t,e,i){"use strict";i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n})),i.d(e,"b",(function(){return u})),i.d(e,"d",(function(){return h})),i.d(e,"f",(function(){return b})),i.d(e,"e",(function(){return y}));var s,a,n,o,r=i(11),l=i(8);!function(t){t.DAILY_LIMIT=100,t.MONTHLY_LIMIT=1e3,t.APPROACHING_DAILY_LIMIT=75,t.APPROACHING_MONTHLY_LIMIT=750,t.NEARING_DAILY_LIMIT=95,t.NEARING_MONTHLY_LIMIT=950}(s||(s={})),function(t){t.DAILY=1,t.MONTHLY=30}(a||(a={})),function(t){t.DAILY_COUNT="dailyDownloadCount",t.DAILY_START_DATE="startDateForDailyCount",t.MONTHLY_COUNT="monthlyDownloadCount",t.MONTHLY_START_DATE="startDateForMonthlyCount",t.VERIFIED_COUNT="verifiedDownloadCount",t.DOWNLOAD_COUNT="downloadCount"}(n||(n={})),function(t){t.DOWNLOAD="download",t.WEB_VIEWER="web_viewer",t.EMBEDDED_TOKEN="embedded_token"}(o||(o={}));const c="SKETCHUP";var d,u;function h(t,e){const i=function(t){return t.find((t=>t.limitType===o.DOWNLOAD&&t.timeframe===d.DAILY&&t.contentType===c))}(e),r=function(t){return t.find((t=>t.limitType===o.DOWNLOAD&&t.timeframe===d.MONTHLY&&t.contentType===c))}(e);return p(t,i)?u.DAILY_LIMIT_EXCEEDED:m(t,r)?u.MONTHLY_LIMIT_EXCEEDED:function(t,e){return g(t,e,.95,n.DAILY_COUNT,n.DAILY_START_DATE,s.NEARING_DAILY_LIMIT,a.DAILY)&&!p(t,e)}(t,i)?u.NEARING_DAILY_LIMIT:function(t,e){return g(t,e,.95,n.MONTHLY_COUNT,n.MONTHLY_START_DATE,s.NEARING_MONTHLY_LIMIT,a.MONTHLY)&&!m(t,e)}(t,r)?u.NEARING_MONTHLY_LIMIT:function(t,e){return v(t,e,.75,n.DAILY_COUNT,n.DAILY_START_DATE,s.APPROACHING_DAILY_LIMIT,a.DAILY)}(t,i)?u.APPROACHING_DAILY_LIMIT:function(t,e){return v(t,e,.75,n.MONTHLY_COUNT,n.MONTHLY_START_DATE,s.APPROACHING_MONTHLY_LIMIT,a.MONTHLY)}(t,r)?u.APPROACHING_MONTHLY_LIMIT:u.NONE}function p(t,e){return g(t,e,1,n.DAILY_COUNT,n.DAILY_START_DATE,s.DAILY_LIMIT,a.DAILY)}function m(t,e){return g(t,e,1,n.MONTHLY_COUNT,n.MONTHLY_START_DATE,s.MONTHLY_LIMIT,a.MONTHLY)}function g(t,e,i,s,a,n,o){if(e){const t=C(e);return e.count>=Math.floor(e.limit*i)&&!0!==t}{const e=l.a.getAttributeValue(t.attributes,"flags",s),i=f(t,a,o);return e>=n&&!0!==i}}function v(t,e,i,s,a,n,o){if(e){const t=C(e),s=0!==e.count&&e.count-1===Math.floor(e.limit*i);return e.count===Math.floor(e.limit*i)&&!1===s&&!0!==t}{const e=l.a.getAttributeValue(t.attributes,"flags",s),i=f(t,a,o);return e===n&&!0!==i}}function f(t,e,i){const s=l.a.getAttributeValue(t.attributes,"flags",e),a=new Date(Date.now()),n=r.dateUtil.convertStringToYMDObj(s);return r.dateUtil.daysBetween(r.dateUtil.convertToDate(n),a)>=i}function C(t){const e=new Date(Date.now()),i=r.dateUtil.convertStringToYMDObj(t.expireTime);return r.dateUtil.daysBetween(e,r.dateUtil.convertToDate(i))<0}function b(t,e,i){const s=r.dateUtil.convertYMDObjToYMDString(i);return t.flags[e]={dataType:"string",value:s},t}function y(t,e){const i={flags:{}},s=l.a.getAttributeValue(t.attributes,"flags",e),a=s?s+1:1;return i.flags[e]={dataType:"int",value:a},i}!function(t){t.DAILY="daily",t.MONTHLY="monthly"}(d||(d={})),function(t){t[t.DAILY_LIMIT_EXCEEDED=0]="DAILY_LIMIT_EXCEEDED",t[t.MONTHLY_LIMIT_EXCEEDED=1]="MONTHLY_LIMIT_EXCEEDED",t[t.APPROACHING_DAILY_LIMIT=2]="APPROACHING_DAILY_LIMIT",t[t.APPROACHING_MONTHLY_LIMIT=3]="APPROACHING_MONTHLY_LIMIT",t[t.NEARING_DAILY_LIMIT=4]="NEARING_DAILY_LIMIT",t[t.NEARING_MONTHLY_LIMIT=5]="NEARING_MONTHLY_LIMIT",t[t.NONE=6]="NONE"}(u||(u={}))},744:function(t,e,i){"use strict";(function(t){var s=i(674),a=(i(810),i(803)),n=i(804),o=i(725),r=function(t,e,i,s){var a,n=arguments.length,o=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,s);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(o=(n<3?a(o):n>3?a(e,i,o):a(e,i))||o);return n>3&&o&&Object.defineProperty(e,i,o),o};let l=class TOSModal extends o.a{constructor(){super(...arguments),this.name="tos-modal",this.openOnMounted=!0}mounted(){t(this.$el).closest(".reveal-overlay").addClass("priority-overlay")}beforeDestroy(){this.$el.remove()}onAccept(){this.closeModal(),this.acceptCallback&&this.acceptCallback()}};l=r([Object(s.a)({components:{GeneralModelLicense:a.a,TermsOfService:n.a},inheritAttrs:!1})],l),e.a=l}).call(this,i(31))},745:function(t,e,i){"use strict";(function(t){var s=i(55),a=i(0),n=i(811),o=i(674),r=i(8),l=i(769),c=(i(812),i(149)),d=i(151),u=i(154),h=i(73),p=i(743),m=i(10),g=i(3),v=i(777),f=i(819),C=function(t,e,i,s){var a,n=arguments.length,o=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,s);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(o=(n<3?a(o):n>3?a(e,i,o):a(e,i))||o);return n>3&&o&&Object.defineProperty(e,i,o),o},b=function(t,e,i,s){return new(i||(i=Promise))((function(a,n){function o(t){try{l(s.next(t))}catch(t){n(t)}}function r(t){try{l(s.throw(t))}catch(t){n(t)}}function l(t){var e;t.done?a(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,r)}l((s=s.apply(t,e||[])).next())}))};let y=class DownloadButton extends(Object(o.c)(l.a)){constructor(){super(...arguments),this.isClientSketchupWeb=!1,this.nonSkpClient=!1,this.downloadDisabledForClient=!1,this.isMissingBinaries=!1,this.isOpen=!1,this.disabledBinaryOptions=[]}get buttonDisabled(){return this.isDisabled||this.downloadDisabledForClient}get buttonText(){return this.showDownloadAndConfigurationText?this.$t("Download & Configure"):this.$t("Download")}beforeDestroy(){null!=this.downloadMeteringModal&&(this.downloadMeteringModal.$destroy(),this.downloadMeteringModal=null)}created(){this.downloadDisabledForClient=!m.n(this.$client)&&m.m(this.$client),this.isMissingBinaries=0===this.entity.binaryNames.length,this.isClientSketchupWeb=m.h(this.$store.getters.embeddedString),this.disabledBinaryOptions=this.getBinariesToDisable()}mounted(){this.nonSkpClient=!this.isClientSketchupWeb&&!m.l(this.$client)&&!m.m(this.$client),document.addEventListener("click",this.onDocumentClicked),document.addEventListener("touchstart",this.onDocumentClicked)}destroyed(){document.removeEventListener("click",this.onDocumentClicked),document.removeEventListener("touchstart",this.onDocumentClicked)}get downloadableBinaries(){const t=[a.BinaryType.Sketchup_2022,a.BinaryType.Sketchup_2023];let e=u.a.sortBinaryTypeArray(this.entity.binaryNames);e=e.filter((e=>!t.includes(e)));let i=this.getBinariesToExclude(),s=d.f(this.entity,this.$isServer),n=s?s.name:null;this.isCurrentUserContentOwner&&(i=i.filter((t=>t!==n)));let o=[];for(let t of e)if(u.a.isBinaryTypeDownloadableOn3dw(this.isCurrentUserContentOwner,t,n)&&-1===i.indexOf(t)){const e=this.entity.binaries[t];e.nameForVffDownload=e.name,o.push(e)}if(o.map((t=>t.name)).includes(a.BinaryType.Sketchup_2021)){if(!i.includes(a.BinaryType.Sketchup_2022)){const t=Object.assign({},this.entity.binaries[a.BinaryType.Sketchup_2021]);t.name=a.BinaryType.Sketchup_2022,t.nameForVffDownload=a.BinaryType.Sketchup_2021,o.unshift(t)}if(!i.includes(a.BinaryType.Sketchup_2023)){const t=Object.assign({},this.entity.binaries[a.BinaryType.Sketchup_2021]);t.name=a.BinaryType.Sketchup_2023,t.nameForVffDownload=a.BinaryType.Sketchup_2021,o.unshift(t)}}return o}get isSignedIn(){return null!=this.$user}getBinariesToExclude(){const t=[];return t.push(a.BinaryType.Sketchup_2019),t}getBinariesToDisable(){let t=[];return this.$isAdmin||!1!==this.userHasEntitlement()?this.gltfBinaryValid||t.push({binaryType:a.BinaryType.Gltf_Binary,enableTooltip:!0,tooltipText:u.a.getBinaryTooltip(a.BinaryType.Gltf_Binary)}):t.push({binaryType:a.BinaryType.Gltf_Binary,enableTooltip:!0,tooltipText:this.$t("This format requires a paid subscription.")}),this.$isAdmin||!1!==this.userHasEntitlement()||t.push({binaryType:a.BinaryType.Usdz,enableTooltip:!0,tooltipText:this.$t("This format requires a paid subscription.")}),t}getBinaryString(t){return u.a.binaryTypeToString(t)}getBinaryTooltip(t){return this.isDisabledBinary(t)&&this.isEnabledTooltip(t)?this.disabledBinaryOptions.find((e=>e.binaryType===t)).tooltipText:""}isDisabledBinary(t){return this.disabledBinaryOptions.some((e=>e.binaryType===t))}isEnabledTooltip(t){return this.disabledBinaryOptions.some((e=>e.binaryType===t&&e.enableTooltip))}onDownloadButtonClicked(){return b(this,void 0,void 0,(function*(){if(this.isSignedIn)if(this.nonSkpClient&&this.showAvailableBinaries&&!this.iframeIdForEmbedLc)this.toggleMenu();else{(yield this.canDownload())&&(this.iframeIdForEmbedLc?this.downloadConfiguredLiveComponent(this.iframeIdForEmbedLc,this.entity):this.downloadModel(this.entity))}else this.onSignInToDownloadButtonClicked()}))}onSignInToDownloadButtonClicked(){const t={feature:"SignInToDownload",message:this.$t("Oops! You need to be signed in to download models.")};this.$eventBus.$emit(g.Events.SIGN_IN_GUARD,t)}toggleMenu(){this.isOpen=!this.isOpen,this.isOpen?(this.$nextTick(this.positionMenu),document.addEventListener("scroll",this.onScroll)):document.removeEventListener("scroll",this.onScroll)}onScroll(){this.isOpen&&this.toggleMenu()}positionMenu(){const e=t(this.$refs.downloadButton),i=t(this.$refs.selections),s=g.DropdownAlignments,a=g.anchorDropdown(e,s.RIGHT);a.position="fixed",i.css(a)}canDownload(){return b(this,void 0,void 0,(function*(){return yield this.checkDownloadLimits()}))}onDownloadLinkClicked(t){return b(this,void 0,void 0,(function*(){if(this.isDisabledBinary(t))return;this.binaryName=t;!0===(yield this.canDownload())&&this.startDownload()}))}get gltfBinaryValid(){const t=r.a.getAttributeValue(this.entity.attributes,"3dw","gltfError");return Object(h.j)(t)}checkDownloadLimits(){return b(this,void 0,void 0,(function*(){let t=[];t=yield this.$api.getUserLimits(this.$user.id);const e=p.d(this.$user,t);let i=!1;switch(e){case p.b.DAILY_LIMIT_EXCEEDED:case p.b.MONTHLY_LIMIT_EXCEEDED:this.showDownloadMeteringModal(e),i=!1;break;case p.b.APPROACHING_DAILY_LIMIT:case p.b.APPROACHING_MONTHLY_LIMIT:case p.b.NEARING_DAILY_LIMIT:case p.b.NEARING_MONTHLY_LIMIT:this.showDownloadMeteringModal(e),i=!0;break;case p.b.NONE:i=!0}return i}))}startDownload(){this.isClientSketchupWeb||c.l(c.c.DOWNLOAD_FROM,[this.source]),this.downloadModel(this.entity,this.binaryName),this.isOpen=!1}onDocumentClicked(t){let e=this.$refs.downloadButton,i=t.target;i===e||e.contains(i)||(this.isOpen=!1)}showDownloadMeteringModal(t){null!=this.downloadMeteringModal?(this.downloadMeteringModal.limitTier=t,this.downloadMeteringModal.openModal()):(this.downloadMeteringModal=new f.a({store:this.$store,propsData:{limitTier:t,onEntitlementRefreshed:()=>{this.onUpdateEntitlement()}}}),this.downloadMeteringModal.mountOnPage())}onUpdateEntitlement(){this.downloadMeteringModal=null,this.$emit("update:Entitlement")}userHasEntitlement(){var t;const e=null!==(t=this.$store.getters.entitlements)&&void 0!==t?t:[];return s.EntitlementsHandler.permitWithMinimumOrHigherEntitlement(e,s.Entitlements.SILVER)}get isCurrentUserContentOwner(){return null!=this.$user&&this.$user.id===this.entity.creator.id}};C([Object(o.d)()],y.prototype,"entity",void 0),C([Object(o.d)({default:null})],y.prototype,"iframeIdForEmbedLc",void 0),C([Object(o.d)({default:!0})],y.prototype,"showAvailableBinaries",void 0),C([Object(o.d)({default:!1})],y.prototype,"iconMode",void 0),C([Object(o.d)({default:!1})],y.prototype,"medtext",void 0),C([Object(o.d)({default:"detailPage"})],y.prototype,"source",void 0),C([Object(o.d)({default:!1})],y.prototype,"isDisabled",void 0),C([Object(o.d)({default:!1})],y.prototype,"showDownloadAndConfigurationText",void 0),y=C([Object(o.a)({components:{chevron:v.a,DownloadMeteringModal:f.a,IconDownloadLight:n.a},inheritAttrs:!1})],y),e.a=y}).call(this,i(31))},746:function(t,e,i){"use strict";(function(t){i.d(e,"a",(function(){return s}));var s,a,n=i(12),o=(i(764),i(725)),r=function(t,e,i,s){var a,n=arguments.length,o=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,s);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(o=(n<3?a(o):n>3?a(e,i,o):a(e,i))||o);return n>3&&o&&Object.defineProperty(e,i,o),o};!function(t){t.SlideInRight="slide-in-right",t.SlideInUp="slide-in-up",t.SlideOutLeft="slide-out-left",t.SlideOutDown="slide-out-down",t.FadeIn="fade-in",t.FadeOut="fade-out"}(s||(s={})),function(t){t.Fast="fast",t.Medium="",t.Slow="slow"}(a||(a={}));let l=class MotionDialog extends o.a{beforeDestroy(){this.$el.remove()}openModal(e=null,i=null){const a=t(this.$el),n=this.animationRule(this.animationIn,e,i),o=a.closest(".reveal-overlay");this.scrollable&&o.css("overflow-y","scroll");const r=this.animationRule(null,s.FadeIn,i);this.setupKeyEventListeners(),o.show(),this.motion.animateIn(o[0],r,null),a.foundation("open"),this.motion.animateIn(a[0],n,(()=>{this.afterOpen()}))}afterOpen(){}closeModal(e=null,i=null){return document.body.classList.remove("is-reveal-open"),document.documentElement.classList.remove("is-reveal-open"),new Promise(((a,n)=>{const o=t(this.$el);let r=this.animationRule(this.animationOut,e,i);const l=o.closest(".reveal-overlay");let c=this.animationRule(null,s.FadeOut,i);this.destroyKeyEventListeners(),this.motion.animateOut(o[0],r,(()=>{o.foundation("close")})),this.motion.animateOut(l[0],c,(()=>{l.hide(),a()}))}))}animationRule(t,e,i){return((e=e||t)+" "+(i=i||this.animationSpeed)).trim()}get motion(){return window.Foundation.Motion}};l=r([Object(n.b)({props:{animationIn:{type:String,default:s.SlideInRight},animationOut:{type:String,default:s.SlideOutLeft},animationSpeed:{type:String,default:a.Fast},scrollable:{type:Boolean,default:!1}}})],l),e.b=l}).call(this,i(31))},747:function(t,e,i){"use strict";(function(t){var s=i(0),a=i(785),n=i(784),o=i(754),r=i(759),l=i(72),c=i.n(l),d=i(6),u=i.n(d),h=i(12),p=i(24),m=i(2),g=(i(813),i(149)),v=i(151),f=i(157),C=i(13),b=i(54),y=i(770),w=i(7),_=i(3),T=i(820),S=i(728),E=i(807),O=i(767),I=i(757),A=function(t,e,i,s){var a,n=arguments.length,o=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,s);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(o=(n<3?a(o):n>3?a(e,i,o):a(e,i))||o);return n>3&&o&&Object.defineProperty(e,i,o),o},D=function(t,e,i,s){return new(i||(i=Promise))((function(a,n){function o(t){try{l(s.next(t))}catch(t){n(t)}}function r(t){try{l(s.throw(t))}catch(t){n(t)}}function l(t){var e;t.done?a(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,r)}l((s=s.apply(t,e||[])).next())}))};let M=class AddToCollection extends u.a{constructor(){super(...arguments),this.name="add-to-collection",this.isOpen=!1,this.initialized=!1,this.isReady=!1,this.loading=!0,this.errorState=!1,this.newCollectionTitle="",this.maxTitleLength=_.Constants.ITEM_TITLE_MAX_LENGTH,this.minTitleLength=2,this.canAddToNewCollection=!0,this.createIconHover=!1,this.errorText="",this.genericErrorText=this.$t("Oops! Something bad happened.  Please try again."),this.addedText=this.$t("Added"),this.removedText=this.$t("Removed"),this.collections=[],this.containedInIds={},this.hoverId="",this.selectedItem=null,this.openItem=null,this.path=[null],this.inCreateMode=!1,this.isOverModal=!1,this.content={},this.offset=0,this.isComplete=!1,this.isScrolling=!1,this.scrollBuffer=200,this.filter="",this.sortBy_=w.SortBy.TitleAsc,this.sortFields=[{value:w.SortField.ModifyTime,label:this.$t("Date Modified")},{value:w.SortField.Title,label:this.$t("Title")}],this.lastHeight=0,this.lastWidth=0,this.minRows=3,this.maxRows=9,this.extraRows=3,this.padding=8,this.border=1,this.MIN_WIDTH=300,this.MAX_WIDTH=500}beforeDestroy(){this.$eventBus.$off(_.Events.SCROLL,this.onEventScroll),this.$eventBus.$off(_.Events.CLOSE_ADD_TO_PROMPT,this.onCloseAddToPrompt)}initialize(){if(this.$eventBus.$emit(_.Events.CLOSE_ADD_TO_PROMPT,this.id),this.lastHeight=0,this.lastWidth=0,this.isSignedIn){if(this.hasNoSelection){const t=this.$t("There is no selection.");return this.$pushSnackbar(t,_.SnackbarMessageTypes.failure,_.SnackbarIcons.ALERT),void this.close()}this.isOpen=!this.isOpen,this.isOpen&&(document.addEventListener("click",this.onDocumentClicked),document.addEventListener("scroll",this.onScroll),this.$eventBus.$on(_.Events.SCROLL,this.onEventScroll),this.setPosition(),this.canAddToNewCollection=this.canAddToNew(),this.loading=!0,this.loadData("root").then((()=>{this.$nextTick((()=>{this.onReady()}))})),this.successIcon=this.useFolders?_.SnackbarIcons.FOLDER:_.SnackbarIcons.COLLECTION)}else{let t,e;this.useFolders?(t="AddToFolders",e=this.$t("Oops! You need to be signed in to add to a folder.")):(t="AddToCollection",e=this.$t("Oops! You need to be signed in to add to a collection."));const i={feature:t,message:e};this.$eventBus.$emit(_.Events.SIGN_IN_GUARD,i)}this.$eventBus.$on(_.Events.CLOSE_ADD_TO_PROMPT,this.onCloseAddToPrompt)}onCloseAddToPrompt(t){t!==this.id&&this.close()}onReady(){this.setPosition(),this.scrollTrigger=this.$refs.scrollTrigger,this.scrollTarget=this.$refs.scrollTarget,this.scrollHelper=new y.a(this.scrollTarget,this.scrollBuffer),this.scrollTrigger.addEventListener("scroll",this.onScroll);t(this.$refs.modal).focus(),this.isReady=!0,this.$nextTick((()=>{this.performScroll()}))}close(){this.filter="",this.sortBy=w.SortBy.TitleAsc;for(let t in this.content)this.content.hasOwnProperty(t)&&(this.content[t].filter="",this.content[t].filterComplete=!1,this.content[t].filterEntries=[],this.content[t].sortBy=w.SortBy.TitleAsc);this.isOpen=!1,this.isOverModal=!1,this.openItem=null,this.selectedItem=null,this.loading=!1,this.exitCreateMode(),this.setError(null),this.path=[null];const e=t(this.$refs.modal);e.blur(),e.css({"min-width":`${this.MIN_WIDTH}px`,"max-width":`${this.MAX_WIDTH}px`,width:"unset"}),this.lastHeight=this.lastWidth=0,document.removeEventListener("click",this.onDocumentClicked),document.removeEventListener("scroll",this.onScroll),this.scrollTrigger&&this.scrollTrigger.removeEventListener("scroll",this.onScroll),this.$eventBus.$off(_.Events.SCROLL,this.onEventScroll),this.$eventBus.$off(_.Events.CLOSE_ADD_TO_PROMPT,this.onCloseAddToPrompt)}onEventScroll(t){this.id!=t&&this.close()}onScroll(t){t.target===this.scrollTrigger?this.performScroll():this.isOverModal||this.close()}performScroll(){if(this.isScrolling||this.isComplete||this.loading||!this.isReady)return;this.scrollHelper.getScrollRemainder(this.scrollTrigger)<this.scrollBuffer&&(this.isScrolling=!0,this.loadData(this.currentContentId))}canAddToNew(){if(!this.$context)return!1;if(this.useFolders)return!0;const t={creatorId:this.$context.id,subtype:""};return this.isSingle?b.f(this.singleItem,t,this.$user,this.$context):!this.items.some((e=>!b.f(e,t,this.$user,this.$context)))}checkFilter(){this.initialized&&!this.loading&&this.currentContent.filter!==this.filter&&(this.currentContent.filter=this.filter,this.resetContent())}applyFilter(t,e){const i=t.trim().toLowerCase();return i?e.filter((t=>t.title.toLowerCase().indexOf(i)>-1)):e}get sortBy(){return this.sortBy_}set sortBy(t){this.initialized&&this.sortBy_!==t&&(this.sortBy_=t,this.currentContent.sortBy=t,this.resetContent())}resetContent(){this.loading||(this.loading=!0,this.collections=[],this.currentContent.entries=[],this.currentContent.total=0,this.currentContent.added=0,this.currentContent.filterComplete=!1,this.currentContent.filterEntries=[],this.loadData(this.currentContentId))}get useFolders(){return"folder"===this.target}get headerText(){return this.openItem?this.openItem.title:this.useFolders?this.$t("Folders"):this.$t("Collections")}get headerTip(){return(this.isOpen?null:this.headerText)||""}get createTip(){return this.useFolders?this.newTitleLength>=this.minTitleLength?this.$t("Create Folder"):this.$t("Enter a folder title"):this.newTitleLength>=this.minTitleLength?this.$t("Create Collection"):this.$t("Enter a collection title")}get newContainerText(){return this.useFolders?this.$t("New folder title"):this.$t("New collection title")}get titleRequiredText(){return this.useFolders?this.$t("You must specify a title for your new folder."):this.$t("You must specify a title for your new collection.")}get typeName(){return this.useFolders?this.$t("folder"):this.$t("collection")}get emptyText(){return this.useFolders?this.openItem?this.$t("This folder is empty."):this.$t("Get started by creating a folder."):this.openItem?this.$t("This collection is empty."):this.$t("Get started by creating a collection.")}get addCommandText(){const t=Object(f.a)(this.selectedItem.title);return this.isContained(this.selectedItem)?this.$t("Remove from <b>{TITLE}</b> {OF_TYPE}",{TITLE:t,OF_TYPE:this.typeName}):this.$t("Add to <b>{TITLE}</b> {OF_TYPE}",{TITLE:t,OF_TYPE:this.typeName})}get createNewText(){return this.useFolders?this.$t("Create New Folder"):this.$t("Create New Collection")}get canEnterCreateMode(){return!this.inCreateMode&&(this.useFolders||this.canAddToNewCollection)}get newTitleLength(){return this.newCollectionTitle.trim().length}get isSignedIn(){return null!=this.$user}get hasSelection(){return null!=this.selectedItem}get isSingle(){return 1===this.items.length}get hasNoSelection(){return!this.items||0===this.items.length}get singleItem(){return this.isSingle?this.items[0]:null}get isMultiple(){return this.items.length>1}get privacyLevel(){return this.useFolders?s.PrivacyLevel.Private:s.PrivacyLevel.Public}isContained(t){return this.isSingle&&!0===this.containedInIds[t.id]}isSelected(t){return!!this.selectedItem&&this.selectedItem.id===t.id}onSelected(t){this.loading||(this.exitCreateMode(),this.isSelected(t)?this.selectedItem=null:this.selectedItem=t)}enterCreateMode(){this.loading||(this.inCreateMode=!0,this.$nextTick((()=>{this.$refs.newInput.focus()})))}exitCreateMode(){this.inCreateMode=!1,this.newCollectionTitle=""}performRemove(){return D(this,void 0,void 0,(function*(){try{const t=this.selectedItem.id,e=[this.singleItem.id];yield this.$api.removeCollectionChildren(t,e);let i=c()(this.containedInIds);i[this.selectedItem.id]=!1,this.containedInIds=c()(i),this.pushAddedMessage(this.selectedItem,!0),null!=this.selectAllContent&&this.selectAllContent(!1),void 0!==this.selectionType&&void 0!==this.selectionIsPrivate&&this.$eventBus.$emit(_.Events.REMOVE_COLLECTIONELEMENT,this.selectedItem,this.items,this.selectionType,this.selectionIsPrivate)}catch(t){this.$pushSnackbar(m.c.GENERIC_TRY_AGAIN,_.SnackbarMessageTypes.failure,_.SnackbarIcons.ALERT)}return this.loading=!1,Promise.resolve()}))}performAdd(){return D(this,void 0,void 0,(function*(){if(this.loading||!this.selectedItem)return Promise.resolve();if(this.loading=!0,this.isContained(this.selectedItem))return this.performRemove();try{yield this.addItems(this.selectedItem),this.loading&&(yield this.updateCollectionThumbnail(this.selectedItem),this.pushAddedMessage(this.selectedItem),this.$eventBus.$emit(_.Events.ADDED_TO_COLLECTION,this.selectedItem))}catch(t){this.$pushSnackbar(m.c.GENERIC_TRY_AGAIN,_.SnackbarMessageTypes.failure,_.SnackbarIcons.ALERT)}return this.loading=!1,this.$nextTick((()=>{this.selectedItem=null})),Promise.resolve()}))}pushAddedMessage(t,e=!1){let i,s=this.successIcon;e?i=this.$t("Removed from {ITEM}.",{ITEM:t.title}):(i=this.$t("Added to {ITEM}.",{ITEM:t.title}),this.emitAddEvent()),this.$pushSnackbar(i,_.SnackbarMessageTypes.success,s)}emitAddEvent(){const t=this.selectedItem;if(!t.binaryNames||0===t.binaryNames.length){const e=this.getThumbnailSource();e&&this.$eventBus.$emit(_.Events.UPDATE_THUMBNAIL,t,e)}}getThumbnailSource(){if(this.isSingle)return this.singleItem.isPrivate?null:this.singleItem;for(let t=this.items.length-1;t>=0;t--)if(!this.items[t].isPrivate)return this.items[t];return null}onEntered(t){this.hoverId=t}onExited(t){this.hoverId=""}hoveredOverModal(t){this.isOverModal=!!t}isHovered(t){return this.hoverId===t}newContent(){return{entries:[],total:0,added:0,filter:"",filterEntries:[],sortBy:w.SortBy.TitleAsc}}loadData(t){return D(this,void 0,void 0,(function*(){null==this.content[t]&&(this.content[t]=this.newContent());try{this.offset=this.content[t].entries.length;const e=this.getOwnedCollectionsSearchParams(),i=yield this.$api.getCollections(e);return this.initialized||(yield this.getContainedIn()),this.updateCollections(t,i),this.loading=!1,this.isScrolling=!1,this.initialized=!0,this.setError(null),Promise.resolve()}catch(t){return this.loading=!1,this.setError(this.genericErrorText),Promise.resolve()}}))}getContainedIn(){return D(this,void 0,void 0,(function*(){if(!this.isSingle||this.initialized)return this.containedInIds;{const t=this.getContainingCollectionsSearchParams();try{const e=yield this.$api.getCollections(t);let i=c()(this.containedInIds);e.entries.forEach((t=>{i[t.id]=!0})),this.containedInIds=c()(i)}catch(t){return t}this.$eventBus.$emit(_.Events.COLLECTION_CONTAINED_CHANGE,this.containedInIds)}}))}filterOutSelfAdds(t){return this.isSingle&&this.isCollection(this.singleItem)?t.filter((t=>t.id!==this.singleItem.id)):this.isMultiple?t.filter((t=>!this.items.some((e=>this.isCollection(e)&&e.id===t.id)))):t.filter((t=>!0))}isCollection(t){return t.subjectClass===s.DataStoreSubjectClass.Collection}getOwnedCollectionsSearchParams(){const t=`creator.id==${this.$context.id}`,e=this.useFolders?"isPrivate==true":"",i="root"===this.currentContentId?"":`ownedParentIds==${this.currentContentId}`,a=this.currentContent.filter?`title=like=${this.currentContent.filter}`:"";let n=!0;for(let t of this.items)if(!t.creator.isVerified&&t.creatorId!==this.$context.id){n=!1;break}let o=[t,e,'(subtype=="",subtype=exists=false)',i,a];n||o.push("isCatalog==false");const r=o.filter((t=>t)).join(";"),l=this.useFolders?s.PrivacyLevel.Private:s.PrivacyLevel.Public,c=this.currentContent.entries.length||this.currentContent.filterEntries.length;return{sortBy:this.currentContent.sortBy,count:_.Constants.ADD_TO_COLLECTION_MAX_RECORDS,offset:c,contentType:s.ContentType.Warehouse3D,fq:r,showBinaryMetadata:!0,show:l,recordEvent:!1}}getContainingCollectionsSearchParams(){const t=[`creator.id==${this.$context.id}`,this.useFolders?"isPrivate==true":"",'(subtype=="",subtype=exists=false)',`childIds==${this.singleItem.id}`].filter((t=>t)).join(";");return{count:_.Constants.ADD_TO_COLLECTION_MAX_RECORDS,offset:0,contentType:s.ContentType.Warehouse3D,fq:t,showBinaryMetadata:!1,show:this.useFolders?s.PrivacyLevel.Private:s.PrivacyLevel.Public,recordEvent:!1}}isDuplicateTitle(){return!(!this.useFolders||this.newCollectionTitle!==m.e.LIKED_CONTENT_TITLE)||this.currentContent.entries.some((t=>t.title===this.newCollectionTitle))}onNewCollectionClicked(){return D(this,void 0,void 0,(function*(){if(this.loading)return Promise.resolve();if(this.newTitleLength<this.minTitleLength)return Promise.resolve();if(this.newCollectionTitle=this.newCollectionTitle.trim(),this.isDuplicateTitle()){const t=m.c.NAME_ALREADY_USED,e=_.SnackbarIcons.ALERT;return this.$pushSnackbar(t,_.SnackbarMessageTypes.failure,e),Promise.resolve()}this.loading=!0;let e={title:this.newCollectionTitle,description:" ",isPrivate:this.useFolders};const i=this.useFolders?"folder":"collection";try{const s=yield this.$store.dispatch("CREATE_UCM_ITEM",{item:e,type:i});if(this.openItem&&(yield this.$api.addCollectionChildren(this.openItem.id,[s.id],"collections",!this.useFolders)),void 0!==this.selectionType&&void 0!==this.selectionIsPrivate){const t="collections";this.$eventBus.$emit(_.Events.ADD_COLLECTIONELEMENT,{id:void 0},[s],t,s.isPrivate)}g.i("addToCollection",!0,"public"),this.newCollectionTitle="";const a=this.openItem?this.openItem.id:"root";return this.updateContent(a,s),this.updateCollections(a),this.loading=!1,this.inCreateMode=!1,this.$nextTick((()=>{const e=this.getItemId(s),i=t("#"+e)[0];if(i){const t={behavior:"smooth",block:"center"};i.scrollIntoView(t),this.onSelected(s)}this.$nextTick((()=>this.setPosition()))})),Promise.resolve()}catch(t){return this.loading=!1,this.$pushSnackbar(m.c.GENERIC_TRY_AGAIN,_.SnackbarMessageTypes.failure,_.SnackbarIcons.ALERT),Promise.resolve()}}))}updateContent(t,e){this.content[t].entries.unshift(e),this.content[t].added++,"root"!==t&&this.updateContent("root",e)}getItemId(t){return`atc-${this.id}-item-${t.id}`}get currentContentId(){return this.openItem?this.openItem.id:"root"}get currentContent(){return this.content[this.currentContentId]}updateCollections(t,e=null){const i=this.content[t];let s=i.entries;if(e){const t=[];e.entries.forEach((e=>{t.push(p.a.create(e))})),i.filter?(i.filterEntries.push(...t),i.filterComplete=e.total<=i.filterEntries.length,s=i.filterEntries):(i.entries.push(...t),i.total=e.total),this.isComplete=e.total<=s.length}this.collections=this.filterOutSelfAdds(s),this.collections=this.applyFilter(i.filter,this.collections),this.filter=i.filter,this.sortBy=i.sortBy,this.$nextTick((()=>this.setPosition()))}addItems(t){return D(this,void 0,void 0,(function*(){let e;if(this.isSingle){if(e=[this.singleItem.id],!b.f(this.singleItem,t,this.$user,this.$context))return this.$pushSnackbar(this.$t("Selection may not be added."),_.SnackbarMessageTypes.failure,_.SnackbarIcons.ALERT),this.loading=!1,void this.$nextTick((()=>this.setPosition()))}else if(e=this.getItemIds(t),e.length!==this.items.length)return void(this.loading=!1);const i=!this.useFolders,s=this.useFolders?"private":"public";let a=yield this.addChildren(t.id,e,"children",i);if(this.isSingle){let e=c()(this.containedInIds);e[t.id]=!0,this.containedInIds=c()(e)}if(void 0!==this.selectionType&&void 0!==this.selectionIsPrivate){const e=this.items.filter((t=>-1!==a.indexOf(t.id)));this.$eventBus.$emit(_.Events.ADD_COLLECTIONELEMENT,t,e,this.selectionType,this.selectionIsPrivate)}if(g.i("addToCollection",!0,s),void 0!==this.selectionType&&void 0!==this.selectionIsPrivate){const e=this.items.filter((t=>-1!==a.indexOf(t.id)));this.$eventBus.$emit(_.Events.ADD_COLLECTIONELEMENT,t,e,this.selectionType,this.selectionIsPrivate)}if(g.i("addToCollection",!0,s),this.pushAddedMessage(t),null!=this.selectAllContent&&this.selectAllContent(!1),!this.isMultiple){let e=c()(this.containedInIds);e[t.id]=!0,this.containedInIds=c()(e)}}))}get selectionType(){const t=this.items[0];let e="invalid";return"entity"===t.subjectClass?e="models":"collection"===t.subjectClass&&(e="collections"),e}get selectionIsPrivate(){const t=this.items[0];let e=null;return"collection"===t.subjectClass&&(e=t.isPrivate),e}addChildren(t,e,i,s){return D(this,void 0,void 0,(function*(){try{const i=yield this.$api.bulkUpdateChildren(t,e,[],s);if(i.status<300||i.addIds.length>0)return i.addIds}catch(t){}throw new Error("Could not add selected items.")}))}getItemIds(t){let e=[];if(this.items.forEach((i=>{b.f(i,t,this.$user,this.$context)&&e.push(i.id)})),this.items.length!==e.length){let t;t=0===e.length?this.$t("None of the selected items may be added."):this.$t("Not all selected items may be added."),this.$pushSnackbar(t,_.SnackbarMessageTypes.failure,_.SnackbarIcons.ALERT)}return e}updateCollectionThumbnail(t){return D(this,void 0,void 0,(function*(){if(null!=Object(v.b)(t))return Promise.resolve();const e=this.items[0],i=Object(v.b)(e);return i?yield this.$api.copyBinary(s.BinaryEndpoint.Collections,t.id,s.BinaryType.Small_Thumbnail_Bot,i):Promise.resolve()}))}setPosition(){let e=this.useFolders?t(this.$refs.folderIcon.$el):t(this.$refs.collectionIcon.$el);const i=t(this.$refs.modal),s=_.getElementRect(e),a=_.getElementRect(i),n=t(window).scrollTop();let o=this.collections.length;o<this.minRows?o=this.minRows:o>this.maxRows&&(o=this.maxRows),o+=this.extraRows;let r=o*_.Constants.FIELD_HEIGHT+2*this.padding+1*this.border;r<this.lastHeight&&(r=this.lastHeight);let l=a.width;l<this.lastWidth&&(l=this.lastWidth);let c=s.bottom-n+this.padding;c+r+50>window.innerHeight&&(c=window.innerHeight-r-50),c<0&&(c=0,r>window.innerHeight&&(r=window.innerHeight));let d=s.left-(l-s.width)/2;d+l>window.innerWidth&&(d=window.innerWidth-l),d<0&&(d=20);let u=this.MAX_WIDTH;l>=window.innerWidth-18?(d=0,l=u=window.innerWidth-18):l<this.MIN_WIDTH&&(l=this.MIN_WIDTH),this.lastHeight=r,this.lastWidth=l,i.css({position:"fixed",top:`${c}px`,left:`${d}px`,height:`${r}px`,"min-width":`${l}px`,"max-width":`${u}px`})}onDocumentClicked(t){if(!this.isOpen)return;const e=this.useFolders?this.$refs.folderIcon:this.$refs.collectionIcon;if(!e)return;const i=e.$el,s=t.target;if(s===i||i.contains(s))return;const a=this.$refs.modal;s===a||a.contains(s)||(t.stopImmediatePropagation(),t.preventDefault(),this.close())}setError(t){if(null==t)return this.errorState=!1,void(this.errorText="");this.errorState=!0,this.errorText=t,setTimeout((()=>{this.errorState=!1,this.errorText=""}),C.a.DEFAULT_DELAY)}};M=A([Object(h.b)({components:{AddToCollectionItem:T.a,IconChevron:S.a,IconCollection:E.a,IconCreateFill:a.a,IconCreateOutline:n.a,IconEmptyFolder:o.a,IconFolder:O.a,IconX:r.a,SortSelector:I.a},props:{items:{type:Array,default:null},target:{type:String,default:"collection"},id:{type:String,default:""},selectAllContent:Function},watch:{items:{handler:function(t){this.initialized&&(this.getContainedIn(),this.canAddToNewCollection=this.canAddToNew())},deep:!0},containedInIds:{handler:function(t){this.$eventBus.$emit(_.Events.COLLECTION_CONTAINED_CHANGE,t)}},isOpen:function(t){this.$emit("isopenchanged",t)}}})],M),e.a=M}).call(this,i(31))},748:function(t,e,i){"use strict";(function(t){var s=i(150),a=i.n(s),n=i(674),o=(i(814),i(149)),r=i(738),l=i(725),c=function(t,e,i,s){var a,n=arguments.length,o=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,s);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(o=(n<3?a(o):n>3?a(e,i,o):a(e,i))||o);return n>3&&o&&Object.defineProperty(e,i,o),o};let d=class PromoModal extends l.a{constructor(){super(...arguments),this.name="promo-modal",this.promo=null,this.openOnMounted=!0}mounted(){t(this.$el).on("closed.zf.reveal",(()=>{this.setCookie(this.promo),o.l(this.abKey(this.promo),["modal-closed"])}))}beforeDestroy(){this.$el.remove()}setCookie(t){a.a.set(t.cookieKey,"VIEWED",{expires:240})}getCookie(t){return a.a.get(t.cookieKey)}abKey(t){return t.abKey||t.cookieKey}tryToMount(){for(let t of this.promoContent)if(null!=t.featureToggle&&r.a.getFeatureToggleEnabled(this.$store,t.featureToggle)&&null==this.getCookie(t))return this.promo=t,void this.mountOnPage()}};c([Object(n.d)()],d.prototype,"override",void 0),c([Object(n.d)()],d.prototype,"promoContent",void 0),c([Object(n.d)()],d.prototype,"startDate",void 0),c([Object(n.d)()],d.prototype,"endDate",void 0),d=c([Object(n.a)({})],d),e.a=d}).call(this,i(31))},749:function(t,e,i){"use strict";(function(t){var s=i(391),a=i(150),n=i.n(a),o=i(12),r=i(149),l=i(53),c=(i(815),i(9)),d=i(725),u=function(t,e,i,s){var a,n=arguments.length,o=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,s);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(o=(n<3?a(o):n>3?a(e,i,o):a(e,i))||o);return n>3&&o&&Object.defineProperty(e,i,o),o};let h=class SignInGuardModal extends d.a{constructor(){super(...arguments),this.name="sign-in-guard-action",this.accepted=!1,this.openOnMounted=!0}mounted(){t(this.$el).on("closed.zf.reveal",this.onModalClose)}destroyed(){t(this.$el).off("closed.zf.reveal",this.onModalClose)}beforeDestroy(){this.$el.remove()}onModalClose(){this.accepted||this.sendSignedInForFeature(!1),this.accepted=!1}onAccept(){this.accepted=!0,this.sendSignedInForFeature(!0);const t=c.F();let e=s.generateWhpSignInUrl(this.returnUrl,this.returnUrl,t);"true"===n.a.get(l.a.AUTOMATED_TEST_COOKIE)&&(e+=`&${l.a.AUTOMATED_TEST_COOKIE}=true`),c.J(e)}onCancel(){this.sendSignedInForFeature(!1),this.closeModal()}sendSignedInForFeature(t){const e=r.c.SIGNED_IN_FOR_FEATURE;r.l(e,[this.feature,t.toString()])}};h=u([Object(o.b)({props:{feature:String,actionText:String,returnUrl:String}})],h),e.a=h}).call(this,i(31))},750:function(t,e,i){"use strict";(function(t){var s=i(12),a=(i(740),i(9)),n=i(725),o=function(t,e,i,s){var a,n=arguments.length,o=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,s);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(o=(n<3?a(o):n>3?a(e,i,o):a(e,i))||o);return n>3&&o&&Object.defineProperty(e,i,o),o};let r=class UpgradeClientModal extends n.a{constructor(){super(...arguments),this.openOnMounted=!0,this.goodChoice=this.$t("(Hint: this is the best choice)"),this.greatChoice=this.$t("(Great Choice! You will be glad you upgraded)"),this.textOld=this.$t("(Hint: your version is quite old, you should upgrade)"),this.reallyOld=this.$t("(Aw, c'mon! You're missing out on so many new features)"),this.paragraphs=[this.$t("Hello."),this.$t("We have good news and bad news and good news."),this.$t("The good news is that we've launched an all-new 3D Warehouse and it's awesome."),this.$t("Bad news: the version of SketchUp you're using works with the old 3D Warehouse (which is now gone)."),this.$t("More good news: There are still two options for making contributions to the new 3D Warehouse:")],this.links=[{id:"upgrade-button",text:this.$t("Upgrade to the latest version at Sketchup.com/download"),href:a.n(),hint:this.goodChoice},{id:"upload-form-button",text:this.$t("Use the new 3D Warehouse Web Uploader"),href:a.B("model"),hint:this.textOld}]}beforeDestroy(){this.$el.remove()}mounted(){const e=t("#upgrade-button-hint");t("#upgrade-button").hover((()=>{e.addClass("emphasize"),this.links[0].hint=this.greatChoice}),(()=>{e.removeClass("emphasize"),this.links[0].hint=this.goodChoice}));const i=t("#upload-form-button-hint");t("#upload-form-button").hover((()=>{i.addClass("emphasize"),this.links[1].hint=this.reallyOld}),(()=>{i.removeClass("emphasize"),this.links[1].hint=this.textOld}))}dismiss(){this.closeModal(),this.cancelCallback&&this.cancelCallback()}follow(t){window.location.href=t}};r=o([Object(s.b)({props:{cancelCallback:Function}})],r),e.a=r}).call(this,i(31))},751:function(t,e,i){"use strict";(function(t){var s=i(763),a=i(6),n=i.n(a),o=i(12),r=i(70),l=i(2),c=(i(816),i(156)),d=i(152),u=i(103),h=i(3),p=i(726),m=i(741),g=function(t,e,i,s){var a,n=arguments.length,o=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,s);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(o=(n<3?a(o):n>3?a(e,i,o):a(e,i))||o);return n>3&&o&&Object.defineProperty(e,i,o),o};let v=class FileUpload extends n.a{constructor(){super(...arguments),this.fileHandlersPromise=null,this.loading=!0,this.isMounted=!1,this.inPlaceErrorMsg=null,this.filesToUpload=[],this.files=[],this.fileImageData=[],this.dragRect={top:0,left:0,bottom:0,right:0},this.image=null}beforeDestroy(){null!=this.statusModal&&(this.statusModal.$destroy(),this.statusModal=null)}created(){var t;this.uploadMaxFileSize=null!==(t=this.maxFileSize)&&void 0!==t?t:1024*d.e(this.$context.isVerified,this.$store.getters.entitlements)}mounted(){this.image=new Image(16,9),this.loading=!1,this.isMounted=!0}get locked(){return this.loading||this.disabled}get fileToUploadBinaryName(){if(!this.loading){let t=this.filesToUpload,e="";return t[0]&&(e=t[0].binaryName),e}return null}get fileToUpload(){if(this.isSkpUpload){if(this.fileToUploadBinaryName)return this.filesToUpload[0].file}else if(this.files.length>0)return this.files[0];return null}get imageToUpload(){return!this.isSkpUpload&&this.fileImageData.length>0?this.fileImageData[0]:null}get fileToUploadName(){return this.fileToUpload&&this.fileToUpload.name?this.fileToUpload.name:this.$t("Unknown")}get isReplacingFile(){return!!this.fileTitle}get dragAndDropText(){return this.dropText.length>0?this.dropText:this.isReplacingFile?this.$t("Drag - n - Drop to replace"):this.allowMultipleFiles?this.$t("Drag - n - Drop your files"):this.$t("Drag - n - Drop your file")}get imageIcon(){let t="icon-file-image";return this.isSkpUpload&&(t=this.allowMultipleFiles?"icon-file-multiple":"icon-file"),"/static/images/"+t+".svg"}get isSkpUpload(){return 1===this.supportedFileTypes.length&&c.a(this.supportedFileTypes,"skp")}showDrag(t){this.locked||(this.$el.classList.add("dragging"),this.isDragOver(t)?this.$el.classList.add("dragover"):this.$el.classList.remove("dragover"),t.preventDefault())}hideDrag(){this.$el.classList.remove("dragging"),this.$el.classList.remove("dragover"),this.dragRect={top:0,left:0,right:0,bottom:0}}outOfZone(){this.$el.classList.remove("dragover")}drop(t){if(!this.locked){if(t.preventDefault(),this.allowDropEvent(this.isDragOver(t),t)){let e=t.dataTransfer;this.onFilesSelected(e.files)}this.hideDrag()}}resetFileUpload(t=!0){this.clearFiles(),this.resetInput(),this.loading=!1,this.inPlaceErrorMsg=null,this.fileHandlersPromise&&(this.fileHandlersPromise.cancelled=!0),t&&this.emitChangeToParent()}resetInput(){let t=this.$refs.fileInput;t&&(t.value="")}clearFiles(){this.filesToUpload=[],this.files=[],this.fileImageData=[]}onFileInputChange(t){let e=this.$refs.fileInput;e&&e.files&&this.onFilesSelected(e.files)}emitChangeToParent(){this.$parent.$emit(h.Events.UPLOAD_FILES_CHANGED)}onFilesSelected(t){this.inPlaceErrorMsg=null,this.clearFiles(),this.emitChangeToParent(),this.loading=!0;let e=[];if(this.allowMultipleFiles&&t.length>1){if(t.length>this.maxFileCount)return this.loading=!1,this.resetFileUpload(),void this.handleError({message:this.$t("Exceeded the maximum file count. Try uploading {count} files or fewer.",{count:this.maxFileCount.toString()}),type:h.FileUploadFailureType.TOO_MANY_FILES});for(let i=0;i<t.length;i++){let s=this.handleSelectedFile(t[i],!0);e.push(s)}}else{if(!this.allowMultipleFiles&&t.length>1)return this.loading=!1,this.resetFileUpload(),void this.handleError({message:this.$t("Please select one model for upload at a time."),type:h.FileUploadFailureType.TOO_MANY_FILES});{let i=this.handleSelectedFile(t[0]);e.push(i)}}let i=Promise.all(e);this.fileHandlersPromise=i,this.fileHandlersPromise.then((()=>{i.cancelled||(this.loading=!1,this.emitChangeToParent())}),(t=>{i.cancelled||(this.loading=!1,this.resetFileUpload(),this.handleError(t))}))}handleSelectedFile(t,e=!1){return this.validateSelectedFile(t,e).then((()=>this.fileHandler(t)))}validateSelectedFile(t,e){return new Promise(((i,s)=>{if(!t)return r.a.error("Selected file cannot be null."),s({type:h.FileUploadFailureType.GENERIC});if(!e&&!this.maxCroppedSize&&t.size>this.uploadMaxFileSize)return s({type:h.FileUploadFailureType.FILE_TOO_LARGE});if(!d.f(t.name,this.supportedFileTypes))return s({type:h.FileUploadFailureType.UNSUPPORTED_FILETYPE});let a=new FileReader,n="skp"===d.d(t.name);a.onload=e=>{let a=e.target.result;if(n){let e=a.substr(0,100),n=d.c(e);if(null===n)return s({type:h.FileUploadFailureType.UNSUPPORTED_FILETYPE});const o={binaryName:n,file:t};return this.filesToUpload.push(o),this.files.push(t),i()}this.image.src=a,this.image.onload=()=>this.enforceDimensions&&!this.checkDimensions()?s({type:h.FileUploadFailureType.FILE_TOO_SMALL}):(this.files.push(t),this.fileImageData.push(a),i())},a.onerror=()=>s({type:h.FileUploadFailureType.ERROR_READING_FILE}),n?a.readAsText(t):a.readAsDataURL(t)}))}get supportedFileTypesLabel(){let t=this.supportedFileTypes;if(!t)return"";let e="";for(let i of t)e.length>0&&(e+=" "),e+=`.${i}`;return this.displayFileTypes?1===t.length?this.$t("File Format: {fileFormat}",{fileFormat:e}):this.$t("File Formats: {fileFormat}",{fileFormat:e}):""}get hasDimensions(){return(this.recommendedWidth||0)>0&&(this.recommendedHeight||0)>0}get recommendedDimensions(){const t=this.recommendedWidth||0,e=this.recommendedHeight||0;if(t<=0||e<=0)return"";const i=this.$tLabel({text:l.h.PIXELS}),s=this.$tLabel({text:l.h.WIDTH_HEIGHT,replacements:{width:t.toString(),height:e.toString()}});return this.$t("Recommended Dimensions: {dimensions} {unit}",{dimensions:s,unit:i})}checkDimensions(){if(this.hasDimensions&&this.image){const t=this.recommendedWidth,e=this.recommendedHeight;return this.image.naturalHeight>=e&&this.image.naturalWidth>=t}return!0}get maxSizeLabel(){let t=u.a(this.uploadMaxFileSize);return this.$tLabel(t).replace(" ","")}get maxCroppedSizeLabel(){let t=u.a(this.maxCroppedSize);return this.$tLabel(t).replace(" ","")}openFileBrowser(){let t=this.$refs.fileInput;t&&t.click()}get fileTooLargeMsg(){return this.$t("That file was too large. Please select a file under: {size}",{size:this.maxSizeLabel})}get fileTooSmallMsg(){return this.$t("That image is too small to use.")}get unsupportedFileMsg(){const t=this.supportedFileTypes;let e="";for(let i of t)e.length>0&&(e+=" "),e+=`.${i.toUpperCase()}`;return 1===t.length?this.$t("That file type is not supported. Please select a {fileList} file for upload.",{fileList:e}):this.$t("That file type is not supported.  Please select from types of: {fileList}.",{fileList:e})}getFailureMessage(t){let e=this.$t("Oops! An error has occurred.");if(!t||!t.type)return e;if(t.message)return t.message;switch(t.type){case h.FileUploadFailureType.ERROR_READING_FILE:return this.$t("Unable to read file.");case h.FileUploadFailureType.FILE_TOO_LARGE:return this.fileTooLargeMsg;case h.FileUploadFailureType.FILE_TOO_SMALL:return this.fileTooSmallMsg;case h.FileUploadFailureType.UNSUPPORTED_FILETYPE:return this.unsupportedFileMsg}return e}get errorState(){return null!=this.inPlaceErrorMsg}handleError(t){let e=this.getFailureMessage(t);this.handleOwnErrors?this.inPlaceErrors?this.inPlaceErrorMsg=e:this.statusModal?(this.statusModal.failureMessage=e,this.statusModal.openModal()):(this.statusModal=new m.a({store:this.$store,propsData:{animationIn:p.a.SlideInUp,buttonText:this.$t("Dismiss"),currentState:h.StatusModalState.Failure,failureMessage:e,failureTitle:this.$t("Whoa there cowboy")}}),this.statusModal.mountOnPage()):this.$eventBus.$emit(h.Events.UPLOAD_ERROR,e)}getDragRect(){if(0===this.dragRect.bottom){const e=t(this.$refs.dropZone);if(e){const t=e.offset();this.dragRect.top=t.top,this.dragRect.left=t.left,this.dragRect.right=t.left+e.width(),this.dragRect.bottom=t.top+e.height()}}}isDragOver(t){return this.getDragRect(),!(t.pageY<this.dragRect.top||t.pageY>this.dragRect.bottom||t.pageX<this.dragRect.left||t.pageX>this.dragRect.right)}};v=g([Object(o.b)({components:{UploadIcon:s.a},props:{acceptableFileFormats:{type:String,default:""},allowMultipleFiles:{type:Boolean,default:!1},disabled:Boolean,dropText:{type:String,default:""},enforceDimensions:{type:Boolean,default:!1},fileDetails:{type:String,default:""},fileTitle:{type:String,default:""},handleOwnErrors:{type:Boolean,default:!0},inPlaceErrors:{type:Boolean,default:!1},maxFileCount:{type:Number,default:50},maxFileSize:Number,maxCroppedSize:Number,recommendedHeight:{type:Number,default:0},recommendedWidth:{type:Number,default:0},supportedFileTypes:{type:Array,default:()=>["skp"]},displayFileTypes:{type:Boolean,default:!0},allowDropEvent:{type:Function,default:()=>!0},fileHandler:{type:Function,default:()=>Promise.resolve()},clickUpload:{type:Boolean,default:!1},clickUploadText:{type:String,default:""},iconToolTip:{type:String,default:"Replace file"}}})],v),e.a=v}).call(this,i(31))},752:function(t,e,i){"use strict";i.d(e,"a",(function(){return s})),i.d(e,"b",(function(){return DataBrowser}));var s,a=i(0),n=i(24),o=i(58),r=i(155),l=i(7),c=function(t,e,i,s){return new(i||(i=Promise))((function(a,n){function o(t){try{l(s.next(t))}catch(t){n(t)}}function r(t){try{l(s.throw(t))}catch(t){n(t)}}function l(t){var e;t.done?a(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,r)}l((s=s.apply(t,e||[])).next())}))};!function(t){t.CONTENT_SCROLL_INCREMENT=20}(s||(s={}));class DataBrowser{constructor(t,e=null){this.isScrolledToEnd=!1,this.items=[],this.total=0,this.synchCount=0,this.domain="",this.offset=0,this.isLoading=!1,this.storeOptions=null,this.implementsDelete=!1,this.deletions=[],this.store=t,this.storeOptions=e,this.handler=t.getters.apiHandler,this.source=t.getters.currentItem,this.sortBy_=l.SortBy.TitleAsc}clear(){this.total=0,this.offset=0,this.isScrolledToEnd=!1,this.items=[],this.useStore&&this.store.dispatch(this.storeOptions.clearDispatchTag)}isValidLoadRequest(){return!(this.isLoading||this.isScrolledToEnd)}get filter(){return this.filter_}set filter(t){this.filter_=t}get sortBy(){return this.sortBy_}set sortBy(t){this.sortBy_=t}get isBusy(){return this.isLoading}get useStore(){return null!=this.storeOptions}loadNext(){return this.loadMore(1)}bulkDelete(t){return c(this,void 0,void 0,(function*(){const e=this.total;if(!this.implementsDelete)return Promise.reject("delete not implemented.");let i=0,s=[];const a=this.items.filter((e=>{const a=t.includes(e.id);return!0===a&&(i+=1,s.push(e.id)),!a}));return this.items=a,this.items.concat(yield this.loadMore(i)),e===this.total&&(this.total-=i),Promise.resolve(this.items)}))}add(t){return this.items.unshift(t),this.total++,Promise.resolve(this.items)}itemIndex(t){for(let e=0;e<this.items.length;e++)if(this.items[e].id===t)return e;return-1}processResponse(t,e,i=!1){this.total=t.total,this.isScrolledToEnd=t.endRow>=t.total,this.synchCount===t.total&&(this.deletions=[],this.synchCount=0);let s=0;return t.entries.forEach((t=>{if(s<e&&this.shouldAdd(t,i)){const e=this.getItem(t);e&&(this.items.push(e),s+=1)}})),e>1&&(this.offset+=e),this.isLoading=!1,Promise.resolve(this.items)}shouldAdd(t,e=!1){if(this.synchCount||e){if(this.deletions.findIndex((e=>e===t.id))>=0)return!1;let e=this.items.findIndex((e=>e.id===t.id));e>=0&&this.items.splice(e,1)}return!0}getItem(t){return t.externalResourceType==a.ExternalResourceType.User?new r.a(t):t.externalResourceType==a.ExternalResourceType.Org?new o.a(t):n.a.create(t)}openFromStore(){return this.items=this.store.getters[this.storeOptions.resultsGetterTag],this.total=this.store.getters[this.storeOptions.totalGetterTag],this.offset=this.items.length,this.isScrolledToEnd=this.offset>=this.total,Promise.resolve(this.items)}setOffset(t){this.offset=t}loadFromStore(t){const e=this.storeOptions.searchDispatchTag,i=this.storeOptions.resultsGetterTag,s=this.storeOptions.totalGetterTag,a={offset:this.offset,count:t,sortBy:this.sortBy,recordEvent:!1,showAttributes:!0};return this.store.dispatch(e,{searchOptions:a}).then((t=>(this.items=this.store.getters[i],this.total=this.store.getters[s],this.offset=this.items.length,this.isScrolledToEnd=this.offset>=this.total,this.isLoading=!1,Promise.resolve(this.items))),(t=>(this.isLoading=!1,Promise.reject(t))))}}},753:function(t,e,i){"use strict";e.a={functional:!0,render:function(t,e){var i=e._c;return i("svg",{class:[e.data.class,e.data.staticClass],style:[e.data.style,e.data.staticStyle],attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"}},[i("path",{staticClass:"pathFill",attrs:{stroke:"#363545","stroke-width":"1.5",fill:"none","fill-rule":"nonzero",d:"M21.058 11.283\n           c1.498-1.555 1.87-3.932.922-5.9-.708-1.47-2.053-2.496-3.615-2.76-1.561-.262-3.15.27-4.269 1.432-.718.745-1.18 2.027-1.35 3.865-.086.94-1.406.94-1.492 0-.17-1.838-.632-3.12-1.35-3.865\n           C8.785 2.893 7.197 2.36 5.635 2.624\n           c-1.562.263-2.907 1.29-3.614 2.76-.95 1.968-.578 4.346.933 5.914\n           L12 21.096\n           l9.058-9.813z"}})])}}},754:function(t,e,i){"use strict";e.a={functional:!0,render:function(t,e){var i=e._c;return i("svg",{class:[e.data.class,e.data.staticClass],style:[e.data.style,e.data.staticStyle],attrs:{xmlns:"http://www.w3.org/2000/svg",width:"140",height:"100",viewBox:"0 0 140 100"}},[i("path",{staticClass:"pathFill",attrs:{fill:"#005f9e","fill-rule":"evenodd",d:"M110.634 70.88v27.652c0 .81-.662 1.468-1.48 1.468-.817 0-1.48-.657-1.48-1.468V61.174H89.577c-6.223 0-11.268-5.003-11.268-11.174v-4.853c0-.81.662-1.468 1.48-1.468.817 0 1.48.657 1.48 1.468V50c0 4.55 3.72 8.239 8.308 8.239h18.097V32.055h-8.308c-6.224 0-11.269-5.003-11.269-11.174V6.32c0-.81.663-1.468 1.48-1.468.818 0 1.48.657 1.48 1.468v14.56c0 4.55 3.72 8.238 8.309 8.238h8.308V1.468c0-.81.663-1.468 1.48-1.468.818 0 1.48.657 1.48 1.468v37.358h8.309c4.589 0 8.308-3.689 8.308-8.239v-14.56c0-.81.663-1.467 1.48-1.467.818 0 1.48.657 1.48 1.467v14.56c0 6.171-5.045 11.174-11.268 11.174h-8.309v26.184h18.097c4.59 0 8.309-3.688 8.309-8.239v-4.853c0-.81.663-1.467 1.48-1.467s1.48.657 1.48 1.467v4.853c0 6.172-5.045 11.175-11.269 11.175h-18.097zM21.057 41.762C9.427 41.761 0 32.413 0 20.881 0 9.349 9.428 0 21.057 0c11.63 0 21.057 9.349 21.057 20.88 0 11.533-9.427 20.881-21.057 20.881zm0-2.935c9.995 0 18.097-8.034 18.097-17.945S31.052 2.935 21.057 2.935c-9.995 0-18.097 8.035-18.097 17.946 0 9.91 8.102 17.945 18.097 17.945z"}})])}}},755:function(t,e,i){"use strict";e.a={functional:!0,render:function(t,e){var i=e._c;return i("svg",{class:[e.data.class,e.data.staticClass],style:[e.data.style,e.data.staticStyle],attrs:{width:"24px",height:"24px",viewBox:"0 0 24 24",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}},[i("title",[e._v("3dw_certified")]),i("g",{attrs:{id:"3dw_certified",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"}},[i("g",{attrs:{id:"Group-9-Copy",transform:"translate(3.000000, 1.000000)"}},[i("path",{attrs:{d:"M8.99351766,0 L0.0899174537,4.28196125 C-0.235496171,9.12294392 0.32235054,13.0119058 1.76345758,15.9488468 C3.20456463,18.8857879 5.61458466,20.902839 8.99351766,22 C12.1478785,21.143737 14.5207643,19.126686 16.1121751,15.9488468 C17.7035859,12.7710077 18.2888434,8.88204586 17.8679476,4.28196125 L8.99351766,0 Z",id:"Path",stroke:"#363645",fill:"#FFA500"}}),i("polygon",{attrs:{id:"Path-2",fill:"#363645",points:"4.30816295 10.8202525 6.85040701 13.2689582 13.6275515 7 15 8.29206558 6.96569576 16 3 12.1919022"}})])])])}}},756:function(t,e,i){"use strict";e.a={functional:!0,render:function(t,e){var i=e._c;return i("svg",{class:[e.data.class,e.data.staticClass],style:[e.data.style,e.data.staticStyle],attrs:{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"24"}},[i("g",{attrs:{fill:"none","fill-rule":"evenodd"}},[i("circle",{attrs:{cx:"11.187891",cy:"10.9901222",r:"10.9090909",fill:"#00437b",transform:"translate(1.377588 1.352046)"}}),i("g",{attrs:{stroke:"#FFF"}},[i("path",{attrs:{"stroke-linejoin":"round",d:"M13.10486064 13.0922431c0 .3-.24436364.54545455-.54545455.54545455s-.54545454-.24545455-.54545454-.54545455c0-.30218182.24436363-.54545455.54545454-.54545455.30109091 0 .54545455.24327273.54545455.54545455z"}}),i("path",{attrs:{"stroke-linecap":"round",d:"M12.55940609 13.63769765v1.09090909"}}),i("path",{attrs:{"stroke-linejoin":"round",d:"M16.42304245 10.67022782H8.69576973v6.36363638h7.72727272z"}}),i("path",{attrs:{"stroke-linejoin":"round",d:"M10.05940609 9.07931873c0-1.38090909 1.11909091-2.5 2.5-2.5s2.5 1.11909091 2.5 2.5v1.59090909h-5V9.07931873z"}})])])])}}},757:function(t,e,i){"use strict";var s=i(6),a=i.n(s),n=i(12),o=i(7),r=i(3),l=i(760),c=i(727),d=function(t,e,i,s){var a,n=arguments.length,o=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,s);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(o=(n<3?a(o):n>3?a(e,i,o):a(e,i))||o);return n>3&&o&&Object.defineProperty(e,i,o),o};let u=class SortSelector extends a.a{constructor(){super(...arguments),this.descending=!0,this.selectedField=""}get arrowDirection(){return this.selectedField===o.SortField.Title?this.descending?r.Constants.UP:r.Constants.DOWN:this.descending?r.Constants.DOWN:r.Constants.UP}get dropdownClass(){let t="sort-selection-dropdown";return this.descending?t+" descending":t}get sortFields(){if(this.fields)return this.fields;return[{value:o.SortField.Relevance,label:this.$t("Relevance")},{value:o.SortField.Popularity,label:this.$t("Popularity")},{value:o.SortField.ReviewCount,label:this.$t("Likes")},{value:o.SortField.CreatorName,label:this.$t("Author")},{value:o.SortField.Title,label:this.$t("Title")},{value:o.SortField.ModifyTime,label:this.$t("Date Modified")},{value:o.SortField.CreateTime,label:this.$t("Date Added")}]}created(){this.onValueUpdated(this.value)}setDefaultValues(){this.enableSortDirection?(this.selectedField=this.sortFields[0].value,this.descending=this.getDefaultSortDescending(this.selectedField)):(this.selectedField=this.sortFields[0].value,this.descending=null)}onValueUpdated(t){if(!t)return void this.setDefaultValues();let e,i=t.split(" ");if(2===i.length&&i[0]&&i[1]){for(let s of this.sortFields)if(this.enableSortDirection){if(s.value===i[0]){e=s.value;break}}else if(s.value===t){e=s.value;break}if(e)return i[1]===o.SortDirection.Ascending||i[1]===o.SortDirection.Descending?(this.selectedField=e,void(this.descending=i[1]===o.SortDirection.Descending)):void this.setDefaultValues();this.setDefaultValues()}else this.setDefaultValues()}onSelectField(t){if(this.enableSortDirection){let e=this.getDefaultSortDescending(t),i=this.getDirection(e);this.$emit("input",`${t} ${i}`)}else this.$emit("input",t)}reselectedRow(){this.enableSortDirection&&this.onDirectionClicked()}onDirectionClicked(){if(this.disabled)return;let t=this.getDirection(!this.descending);this.$emit("input",`${this.selectedField} ${t}`)}getDirection(t){return t?o.SortDirection.Descending:o.SortDirection.Ascending}getDefaultSortDescending(t){switch(t){case o.SortField.CreatorName:case o.SortField.Title:return!1;default:return!0}}};u=d([Object(n.b)({components:{IconArrow:l.a,ItemSelector:c.a},props:{id:String,fields:Array,value:String,title:{type:String,default:""},disabled:{type:Boolean,default:!1},rightAlignList:{type:Boolean,default:!0},enableSortDirection:{type:Boolean,default:!0}},watch:{value:function(t){this.onValueUpdated(t)}}})],u);var h=u,p=i(28),m=Object(p.a)(h,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"sort-selector",attrs:{id:t.id,disabled:t.disabled}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.title,expression:"title"}],staticClass:"title"},[t._v(t._s(t.title))]),t._v(" "),i("item-selector",{attrs:{id:t.id+"-selector",value:t.selectedField,disabled:t.disabled,items:t.sortFields,align:"right",dropdownClass:t.dropdownClass,icon:"/static/images/icon-sort.svg"},on:{input:t.onSelectField,reselected:t.reselectedRow}}),t._v(" "),t.enableSortDirection?i("div",{staticClass:"sort-direction",attrs:{title:t.$t("Reverse sort direction")},on:{click:t.onDirectionClicked}},[i("icon-arrow",{attrs:{altSvg:t.descending,direction:t.arrowDirection}})],1):t._e()],1)}),[],!1,null,null,null);e.a=m.exports},758:function(t,e,i){"use strict";var s=i(737).a,a=i(28),n=Object(a.a)(s,(function(){var t=this.$createElement;return(this._self._c||t)("div")}),[],!1,null,null,null);e.a=n.exports},759:function(t,e,i){"use strict";e.a={functional:!0,render:function(t,e){var i=e._c;return i("svg",{class:[e.data.class,e.data.staticClass],style:[e.data.style,e.data.staticStyle],attrs:{xmlns:"http://www.w3.org/2000/svg",width:"23",height:"23",viewBox:"0 0 23 23"}},[i("g",{attrs:{fill:"none","fill-rule":"evenodd",stroke:"#B7B7B6","stroke-linecap":"round","stroke-linejoin":"round"}},[i("path",{staticClass:"pathFill",attrs:{d:"M21.083 1.904L1.917 21.071M21.083 21.071L1.917 1.904"}})])])}}},760:function(t,e,i){"use strict";var s=i(6),a=i.n(s),n=i(12),o=function(t,e,i,s){var a,n=arguments.length,o=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,s);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(o=(n<3?a(o):n>3?a(e,i,o):a(e,i))||o);return n>3&&o&&Object.defineProperty(e,i,o),o};let r=class IconArrow extends a.a{constructor(){super(...arguments),this.name="icon-arrow"}get directionClass(){switch(this.direction){case"right":return"right-arrow";case"down":return"down-arrow";case"left":return"left-arrow";default:return""}}};r=o([Object(n.b)({components:{ArrowUpIcon:{functional:!0,render:function(t,e){var i=e._c;return i("svg",{class:[e.data.class,e.data.staticClass],style:[e.data.style,e.data.staticStyle],attrs:{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20"}},[i("path",{attrs:{fill:"#8C8B96","fill-rule":"evenodd",d:"M10.625 4.218l6.021 5.645a.524.524 0 0 0 .708 0 .448.448 0 0 0 0-.663l-7-6.563a.524.524 0 0 0-.708 0l-7 6.563a.448.448 0 0 0 0 .663.524.524 0 0 0 .708 0l6.021-5.645v15.261c0 .288.28.521.625.521s.625-.233.625-.52V4.217z"}})])}}},props:{id:String,direction:{type:String,default:""}}})],r);var l=r,c=i(28),d=Object(c.a)(l,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("span",{staticClass:"svg-icon icon-arrow",class:t.directionClass,attrs:{id:t.id}},[i("ArrowUpIcon")],1)}),[],!1,null,null,null);e.a=d.exports},761:function(t,e,i){"use strict";i.d(e,"c",(function(){return n})),i.d(e,"d",(function(){return o})),i.d(e,"b",(function(){return l})),i.d(e,"a",(function(){return c}));var s=i(70),a=function(t,e,i,s){return new(i||(i=Promise))((function(a,n){function o(t){try{l(s.next(t))}catch(t){n(t)}}function r(t){try{l(s.throw(t))}catch(t){n(t)}}function l(t){var e;t.done?a(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,r)}l((s=s.apply(t,e||[])).next())}))};function n(t,e){return a(this,void 0,void 0,(function*(){try{const i=yield e.createEntity(l(t));return r(t,30),yield o(i,t,e),i}catch(t){throw s.a.error(t),new Error("Failed to upload model")}}))}function o(t,e,i){return a(this,void 0,void 0,(function*(){try{yield i.postEntityBinary(t,e.skpFile.sourceBinaryName,e.file),r(e,60),yield i.renderBinary(t,e.skpFile.sourceBinaryName);const s={isHidden:!1};r(e,90),yield i.updateEntity(t,s)}catch(t){throw s.a.error(t),new Error("Failed to upload binary to model")}}))}function r(t,e){null!=t.progressCallback&&t.progressCallback(e)}function l(t){return{allowComments:t.allowComments,description:t.description,externalUrl:t.externalUrl,isPrivate:t.isPrivate,isHidden:!0,title:t.title,attributes:t.attributes}}function c(t){return new Promise(((e,a)=>{if(t)return a("Attempted to load sketchup client serverside.");try{let t=window;if(t&&t.Module)return e();let s={};t.Module=s,s.locateFile=(t,e)=>"/static/"+t,s.onRuntimeInitialized=()=>e(),i(678)("/static/sketchup_client_interface.js",(()=>{}))}catch(t){return s.a.error("Error loading sketchup_client: "+t),a("Error loading sketchup_client.")}}))}},762:function(t,e,i){"use strict";i.d(e,"a",(function(){return ModelFile}));var s,a,n=i(151);!function(t){t.thumbnailImageFormat="image/bmp"}(s||(s={})),function(t){t[t.WAITING=1]="WAITING",t[t.FILE_LOADING=2]="FILE_LOADING",t[t.READING_SKETCHUP=3]="READING_SKETCHUP",t[t.DONE=4]="DONE"}(a||(a={}));class ModelFile{constructor(t){this.skpMeta=null,this.status=a.WAITING,this.file=t}init(){let t=new EmscriptenFile(this.file);return this.status=a.FILE_LOADING,t.read().then((()=>{this.skpMeta=new Module.ModelMetadata3dw(t.path),this.status=a.READING_SKETCHUP,this.skpMeta.read(),this.status=a.DONE}))}get sketchupInterface(){return this.status===a.DONE?this.skpMeta:null}get thumbnailUrl(){let t=this.skpMeta.getThumbnailContentsBase64();return""===t?"":"data:"+s.thumbnailImageFormat+";base64,"+t}get title(){return this.file.name}get filename(){return this.file.name}get filesize(){return this.file.size}get layerCount(){return this.skpMeta.getLayerCount()}get materialCount(){return this.skpMeta.getMaterialCount()}get polygonCount(){return this.skpMeta.getPolygonCount()}get componentCount(){return this.skpMeta.getComponentDefinitionCount()}get groupCount(){return this.skpMeta.getGroupCount()}get sourceBinaryName(){return n.c(this.skpMeta.getVersionMajor())}get isDynamic(){return this.skpMeta.isDynamic()}get isGeolocated(){return this.skpMeta.isGeoReferenced()}cleanUp(){this.skpMeta&&this.skpMeta.$$.ptr&&this.skpMeta.delete()}static newFromFile(t){return-1===t.name.indexOf(".skp")?null:new ModelFile(t)}}class EmscriptenFile{constructor(t){this.path="/"+t.name,this.file=t}read(){let t=this.readAsArrayBuffer();return t.then((t=>{this.saveToEmscriptenFilesystem(t,this.path)})),t}saveToEmscriptenFilesystem(t,e){let i=new Uint8Array(t);FS.writeFile(e,i,{encoding:"binary"})}readAsArrayBuffer(){let t=new FileReader,e=new Promise(((e,i)=>{t.onload=i=>{e(t.result)}}));return t.readAsArrayBuffer(this.file),e}}},763:function(t,e,i){"use strict";e.a={functional:!0,render:function(t,e){var i=e._c;return i("svg",{class:[e.data.class,e.data.staticClass],style:[e.data.style,e.data.staticStyle],attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"}},[i("path",{attrs:{fill:"#363545","fill-rule":"evenodd",d:"M11.25 5.56L8.03 8.78a.75.75 0 0 1-1.06-1.06l4.5-4.5a.75.75 0 0 1 1.06 0l4.5 4.5a.75.75 0 0 1-1.06 1.06l-3.22-3.22v10.19a.75.75 0 1 1-1.5 0V5.56zM22.5 18.75a.75.75 0 1 1 1.5 0v1.5A3.75 3.75 0 0 1 20.25 24H3.75A3.75 3.75 0 0 1 0 20.25v-1.5a.75.75 0 1 1 1.5 0v1.5a2.25 2.25 0 0 0 2.25 2.25h16.5a2.25 2.25 0 0 0 2.25-2.25v-1.5z"}})])}}},764:function(t,e,i){},765:function(t,e,i){"use strict";i.d(e,"a",(function(){return n}));var s=i(10);const a=["sandbox1","sandbox2","sandbox3","sandbox4","sandbox5","dev","stg","localdev"];function n(t,e=null){s.h()&&window.top.postMessage({key:t,data:e},function(){let t="",e=!1,i=!1;if(s.h()){const s=window.name.split(":");if(s.length>1){const n=s[1];e="labs"===s[2],i="localdev"===n,a.indexOf(n)>-1&&(t=`${n}-`)}}return`https://${t}${e?"labs":"app"}.sketchup.com`+(i?":8080/":"")}())}},766:function(t,e,i){"use strict";e.a={functional:!0,render:function(t,e){var i=e._c;return i("svg",{class:[e.data.class,e.data.staticClass],style:[e.data.style,e.data.staticStyle],attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"}},[i("g",{attrs:{fill:"none","fill-rule":"evenodd"}},[i("path",{staticClass:"pathFill",attrs:{fill:"#363545","fill-rule":"evenodd",d:"M7.714 6.143H5.143v14.571c0 .474.384.857.857.857h12a.857.857 0 0 0 .857-.857V6.143H7.714zm9.429-1.714h6a.857.857 0 1 1 0 1.714H20.57v14.571A2.571 2.571 0 0 1 18 23.286H6a2.571 2.571 0 0 1-2.571-2.572V6.143H.857a.857.857 0 1 1 0-1.714h6V3.57A2.571 2.571 0 0 1 9.43 1h5.142a2.571 2.571 0 0 1 2.572 2.571v.858zm-1.714 0V3.57a.857.857 0 0 0-.858-.857H9.43a.857.857 0 0 0-.858.857v.858h6.858zm-5.143 12.857a.857.857 0 0 1-1.715 0v-6.857a.857.857 0 0 1 1.715 0v6.857zm5.143 0a.857.857 0 1 1-1.715 0v-6.857a.857.857 0 0 1 1.715 0v6.857z"}})])])}}},767:function(t,e,i){"use strict";var s=i(729),a=i(6),n=i.n(a),o=i(12),r=function(t,e,i,s){var a,n=arguments.length,o=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,s);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(o=(n<3?a(o):n>3?a(e,i,o):a(e,i))||o);return n>3&&o&&Object.defineProperty(e,i,o),o};let l=class IconFolder extends n.a{constructor(){super(...arguments),this.name="icon-folder"}};l=r([Object(o.b)({components:{IconNavFolders:s.a},props:{selected:{type:Boolean,default:!1},selectable:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1}}})],l);var c=l,d=i(28),u=Object(d.a)(c,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("span",{staticClass:"svg-icon icon-folder",class:{disabled:t.disabled,selected:t.selected,selectable:t.selectable}},[i("IconNavFolders")],1)}),[],!1,null,"5b257b56",null);e.a=u.exports},768:function(t,e,i){"use strict";i.d(e,"a",(function(){return g}));var s=i(0),a=i(150),n=i.n(a),o=i(744).a,r=i(28),l=Object(r.a)(o,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"terms-of-service-modal modal-dialog reveal large",attrs:{"data-reveal":"","data-close-on-click":"false","data-close-on-esc":"false"}},[i("div",{staticClass:"modal-dialog-header"},[i("span",{staticClass:"modal-dialog-title-text"},[t._v("\n      "+t._s(t.$t("3D Warehouse: Terms of Use and General Model License Agreement"))+"\n    ")])]),t._v(" "),i("div",{staticClass:"modal-dialog-content"},[i("terms-of-service"),t._v(" "),i("general-model-license")],1),t._v(" "),i("div",{staticClass:"modal-dialog-footer"},[i("button",{staticClass:"modal-dialog-button-ok",on:{click:t.onAccept}},[t._v("\n      "+t._s(t.$t("By Clicking Here, I Accept The Above Terms"))+"\n    ")])])])}),[],!1,null,null,null).exports,c=i(2),d=i(53),u=i(13);const h="acceptedTosVersion",p="2017-03-01",m=new Date(Date.UTC(2017,3,1));function g(t,e){let i=new Promise(((i,a)=>{if(function(t){const e=p;let i=n.a.get(d.a.TOS_ACCEPT_DATE);if(i){if(new Date(parseInt(i)).getTime()>m.getTime())return!0}let s=n.a.get(d.a.TOS_ACCEPTED_VERSION);if(s===e)return!0;if(t&&(s=t.attributes&&t.attributes.flags&&t.attributes.flags.acceptedTosVersion&&t.attributes.flags.acceptedTosVersion.value,s===e))return!0;return!1}(e))i(!0);else{let a=()=>{let a=function(t,e){const i=p;let a=1460;if(n.a.set(d.a.TOS_ACCEPTED_VERSION,i,{expires:a}),null!=e){let a={endpoint:s.AttributeEndpoint.Users,subjectId:e.id,category:"flags",name:h,value:i,dataType:"string"};return t.getters.apiHandler.setAttribute(a).then((t=>{}),(t=>{let e={text:c.c.TOS_SAVE_ERROR},i=new u.d(e,u.c.ERROR);this.$store.commit("ADD_STATUS_NOTIFICATION",i)}))}return Promise.resolve()}(t,e);return a.then((()=>{i(!0)}))};new l({store:t,propsData:{acceptCallback:a}}).mountOnPage()}}));return i}},769:function(t,e,i){"use strict";var s=i(11),a=i(675),n=i(56),o=i(15),r=i(49),l=i(0),c=i(72),d=i.n(c),u=i(679),h=i.n(u),p=i(6),m=i.n(p),g=i(12),v=i(8),f=i(2),C=i(149),b=i(151),y=i(743),w=i(10),_=i(765),T=i(732),S=i(768),E=i(3),O=i(9),I=function(t,e,i,s){var a,n=arguments.length,o=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,s);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(o=(n<3?a(o):n>3?a(e,i,o):a(e,i))||o);return n>3&&o&&Object.defineProperty(e,i,o),o},A=function(t,e,i,s){return new(i||(i=Promise))((function(a,n){function o(t){try{l(s.next(t))}catch(t){n(t)}}function r(t){try{l(s.throw(t))}catch(t){n(t)}}function l(t){var e;t.done?a(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,r)}l((s=s.apply(t,e||[])).next())}))};let D=class DownloadService extends m.a{downloadModel(t,e){if(console.log("model param: ",t),Object(w.h)())return void Object(_.a)("download-warehouse-model",t.id);let i=null,s=null,a=null;if(t.binaries){const o=b.a(t.binaries);let r={preferredFormats:[]};e&&(r.preferredFormats=[e]);let l=r.preferredFormats[0];if(!l){const t=O.F();l=Object(n.getBestBinaryName)(o,t,r.preferredFormats)}s=t.binaries[l]?t.binaries[l].ext||t.binaries[l].originalFileName.split(".").pop():"zip";let c=RegExp("s[0-9]+");"zip"===s||this.$client.isDeprecated?a="collada":c.test(l)&&(a=l);let d=T.c(o,t.id,origin,t.lastModifiedDate,r);i=d?d.href():null}this.downloadInternal(i,t,s,a)}downloadMaterial(t){let e=null;if(t.binaries){const i=window.location.href;let s=t.title+"."+l.BinaryType.Skm,a=T.b(t.id,s,i,t.lastModifiedDate);e=a?a.href():null}this.downloadInternal(e,t,"skm","")}downloadConfiguredLiveComponent(t,e){return A(this,void 0,void 0,(function*(){if(yield!this.checkTos())return;const i=C.d(this.$user,e),s={appName:r.ApplicationNames.SketchUpWeb,eventType:a.EventTypes3DW.DownloadLiveComponent,eventProps:i};document.getElementById(t).contentWindow.postMessage({message:"download-lc",data:s},"*"),this.performPostDownloadSteps("skp",e,"s20")}))}checkTos(){return A(this,void 0,void 0,(function*(){const t=this.$store.getters.currentUser;return yield S.a(this.$store,t)}))}downloadInternal(t,e,i,s){return A(this,void 0,void 0,(function*(){if(!t)return void this.handleDownloadError();if(yield!this.checkTos())return;let a=T.d(t);const n=O.F();o.isSketchupClient(n)?T.e(window,a):this.downloadFile(a),this.performPostDownloadSteps(i,e,s)}))}performPostDownloadSteps(t,e,i){C.k(t,e.isPrivate?"private":"public");const s=Object(w.h)(),a=Object(w.m)(this.$client);e.subjectClass!==l.DataStoreSubjectClass.Entity||s||a||this.sendDownloadEvent(this.$user,this.$context,e,t,i),this.updateDownloadCount(),e.creatorVerifiedOrOrg&&this.updateVerifiedDownloadCount(),null!=this.$store.state.searchDownloadError&&(this.$store.commit("REMOVE_MODAL_NOTIFICATION",this.$store.state.searchDownloadError),this.$store.state.searchDownloadError=null)}downloadFile(t){const e=document.createElement("a");e.setAttribute("href",t.href()),e.setAttribute("download",""),e.setAttribute("visibility","hidden"),e.setAttribute("display","none"),document.body.appendChild(e),e.click(),e.remove()}updateDownloadCount(){return A(this,void 0,void 0,(function*(){const t=v.a.getAttributeFromCategory(this.$user.personalInfo,"profession"),e=v.a.getAttributeFromCategory(this.$user.personalInfo,"country"),i=v.a.getAttributeValue(this.$user.attributes,"info","language");null!=t&&null!=e&&null!=i||(yield this.updateUserDownloadCount(y.a.DOWNLOAD_COUNT))}))}updateVerifiedDownloadCount(){return A(this,void 0,void 0,(function*(){v.a.getAttributeValue(this.$user.attributes,"flags",y.a.VERIFIED_COUNT)<=6&&(yield this.updateUserDownloadCount(y.a.VERIFIED_COUNT))}))}updateDownloadMeteringCounts(){return A(this,void 0,void 0,(function*(){const t=yield this.updateDownloadMeteringCount(y.a.DAILY_COUNT,y.a.DAILY_START_DATE,y.c.DAILY),e=yield this.updateDownloadMeteringCount(y.a.MONTHLY_COUNT,y.a.MONTHLY_START_DATE,y.c.MONTHLY),i=h()(t,e);yield this.$api.updateUserAttributes(this.$user.id,i),this.updateCurrentUserAttributes(i)}))}updateDownloadMeteringCount(t,e,i){return A(this,void 0,void 0,(function*(){const a=v.a.getAttributeValue(this.$user.attributes,"flags",e);let n=y.e(this.$user,t);const o=s.dateUtil.nowAsYearMonthDay();if(null!=a){const r=s.dateUtil.convertStringToYMDObj(a);s.dateUtil.daysBetween(s.dateUtil.convertToDate(r),s.dateUtil.convertToDate(o))>=i&&(n.flags[t]={dataType:"int",value:1},n=y.f(n,e,o))}else n=y.f(n,e,o);return n}))}updateCurrentUserAttributes(t){const e=d()(this.$user);e.attributes=h()(this.$user.attributes,t),this.$store.commit("SET_CURRENT_USER",{data:e})}updateUserDownloadCount(t){return A(this,void 0,void 0,(function*(){const e=y.e(this.$user,t);yield this.$api.updateUserAttributes(this.$user.id,e),this.updateCurrentUserAttributes(e)}))}handleDownloadError(t=f.c.NO_AVAILABLE_DOWNLOADS){this.$pushSnackbar(t,E.SnackbarMessageTypes.failure,E.SnackbarIcons.ALERT)}sendDownloadEvent(t,e,i,s,n){var o;let r=i,l={"3dw_resource_type":(null===(o=r.creator)||void 0===o?void 0:o.externalResourceType)||"user",creator_id:r.creatorId,dynamic_component:r.dynamicComponent,event_schema_version:C.b.EVENT_SCHEMA_VERSION,file_type:s,file_version:n,geolocated:r.geolocated,host_lang:navigator?navigator.language:null,is_certified:r.isCertifiedContent,lang:t.language||"unknown",live_component:r.isLiveComponent,material_count:r.materialCount,model_category:r.domain?r.domain.label:null,model_id:r.id,model_name:r.title,model_productcategory:r.category?r.category.label:null,model_subcategory:r.subdomain?r.subdomain.label:null,polygon_count:r.polygonCount,private:r.isPrivate,source_type:C.g(this.$client),user_id:t.trimbleId||"unknown",verified_content:r.creatorVerifiedOrOrg,whp_id:(null==e?void 0:e.id)||"unknown"};const c=C.f(this.$client),d=r.isLiveComponent?a.EventTypes3DW.DownloadLiveComponent:a.EventTypes3DW.Download;this.$analytics.sendEvent(c.appName,d,l,c.id)}};D=I([g.b],D),e.a=D},770:function(t,e,i){"use strict";i.d(e,"a",(function(){return ScrollHelper}));class ScrollHelper{constructor(t,e){this.scrollTarget=t,this.scrollBufferMin=e}getScrollRemainder(t=null){const e=this.scrollTarget&&this.scrollTarget.scrollHeight||0;if(0===e)return this.scrollBufferMin+1;const i=t||document.documentElement,s=Math.max(window.pageYOffset||0,i.scrollTop),a=s+i.clientHeight,n=a-s;if(n<=0)return this.scrollBufferMin+1;return(this.scrollTarget.getBoundingClientRect().top+s+e-a)/n*100}}},771:function(t,e,i){"use strict";e.a={functional:!0,render:function(t,e){var i=e._c;return i("svg",{class:[e.data.class,e.data.staticClass],style:[e.data.style,e.data.staticStyle],attrs:{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[i("path",{attrs:{d:"M10.5 12.5H3.5V18.5H10.5V12.5Z",fill:"#25CF17"}}),i("path",{attrs:{d:"M10.5 3.5H3.5V9.5H10.5V3.5Z",fill:"#25CF17"}}),i("path",{attrs:{d:"M13.5 3.5V18.5L20.5 11L13.5 3.5Z",fill:"#25CF17"}}),i("path",{attrs:{d:"M10.5 12.5H3.5V18.5H10.5V12.5Z",stroke:"#363545","stroke-miterlimit":"10","stroke-linejoin":"round"}}),i("path",{attrs:{d:"M10.5 3.5H3.5V9.5H10.5V3.5Z",stroke:"#363545","stroke-miterlimit":"10","stroke-linejoin":"round"}}),i("path",{attrs:{d:"M13.5 3.5V18.5L20.5 11L13.5 3.5Z",stroke:"#363545","stroke-miterlimit":"10","stroke-linejoin":"round"}})])}}},772:function(t,e,i){"use strict";e.a={functional:!0,render:function(t,e){var i=e._c;return i("svg",{class:[e.data.class,e.data.staticClass],style:[e.data.style,e.data.staticStyle],attrs:{width:"24px",height:"24px",viewBox:"0 0 24 24",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}},[i("title",[e._v("flash_blue")]),i("g",{attrs:{id:"Page-1",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"}},[i("g",{attrs:{id:"Desktop",transform:"translate(-202.000000, -529.000000)","fill-rule":"nonzero"}},[i("g",{attrs:{id:"flash_blue",transform:"translate(202.000000, 529.000000)"}},[i("rect",{attrs:{id:"Rectangle",x:"0",y:"0",width:"24",height:"24"}}),i("polygon",{attrs:{id:"Path",stroke:"#363545",fill:"#005F9E",points:"14.2 3 8.6 3 7 12.6 10.2 12.6 9 21 17 9 12.6 9"}}),i("polygon",{attrs:{id:"Path-2",fill:"#FFFFFF",points:"9.04312134 3.49655151 7.59780884 12.0931091 10.7918701 12.0931091 9.80392456 18.8937683 10.4705963 17.8943329 11.5827789 11.4350128 8.55982971 11.4350128 10.014679 3.49655151"}})])])])])}}},773:function(t,e,i){"use strict";e.a={functional:!0,render:function(t,e){var i=e._c;return i("svg",{class:[e.data.class,e.data.staticClass],style:[e.data.style,e.data.staticStyle],attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 35 35"}},[i("path",{attrs:{fill:"#231f20",d:"M17.5,3.33a9.92,9.92,0,0,0-9.92,9.92c0,5.18,4.71,12.22,9.17,17.53a1,1,0,0,0,1.53,0c4.25-5,9.14-12.36,9.14-17.52A9.92,9.92,0,0,0,17.5,3.33Zm0,13.46A3.54,3.54,0,1,1,21,13.25,3.53,3.53,0,0,1,17.5,16.79Z"}})])}}},774:function(t,e,i){"use strict";var s=i(6),a=i.n(s),n=i(12),o=i(3),r=function(t,e,i,s){var a,n=arguments.length,o=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,s);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(o=(n<3?a(o):n>3?a(e,i,o):a(e,i))||o);return n>3&&o&&Object.defineProperty(e,i,o),o};let l=class SnackbarHandler extends a.a{constructor(){super(...arguments),this.isSnack=!1,this.snackMessage="",this.snackSuccess=o.SnackbarMessageTypes.failure,this.snackIcon="",this.snackLength=""}beforeDestroy(){this.$eventBus.$off(o.Events.SNACKBAR_NOTIFICATION,this.onSnackBarNotification)}mounted(){this.$eventBus.$on(o.Events.SNACKBAR_NOTIFICATION,this.onSnackBarNotification)}setSnackbar(t,e,i,s){this.isSnack=!!t,this.snackMessage=t,this.snackSuccess=e,this.snackIcon=i,this.snackLength=s}onSnackBarNotification(t,e,i,s=o.Constants.SNACKBAR_SHORT){this.setSnackbar(t,e,i,s)}};l=r([Object(n.b)({})],l),e.a=l},775:function(t,e,i){"use strict";var s=i(747).a,a=i(28),n=Object(a.a)(s,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"add-to-collection-root"},[t.useFolders?i("icon-folder",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.headerTip,expression:"headerTip"}],ref:"folderIcon",nativeOn:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.initialize.apply(null,arguments)}}}):i("icon-collection",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.headerTip,expression:"headerTip"}],ref:"collectionIcon",nativeOn:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.initialize.apply(null,arguments)}}}),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.isOpen,expression:"isOpen"}],ref:"modal",staticClass:"modal-ui",attrs:{id:"atc-"+t.id+"-ui"},on:{mouseenter:function(e){return t.hoveredOverModal(!0)},mouseleave:function(e){return t.hoveredOverModal(!1)}}},[i("div",{staticClass:"atc-controls"},[i("div",{staticClass:"header"},[i("div",{staticClass:"title",class:{"root-title":t.openItem}},[t._v(t._s(t.headerText))]),t._v(" "),i("div",{staticClass:"close-control",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.close.apply(null,arguments)}}},[i("IconX")],1)]),t._v(" "),i("div",{staticClass:"filter-sort"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.filter,expression:"filter"}],staticClass:"filter",attrs:{placeholder:t.$t("Filter"),type:"text",disabled:t.loading},domProps:{value:t.filter},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.checkFilter.apply(null,arguments)},input:function(e){e.target.composing||(t.filter=e.target.value)}}}),t._v(" "),i("sort-selector",{attrs:{id:t.id+"-sort",fields:t.sortFields,disabled:t.loading},model:{value:t.sortBy,callback:function(e){t.sortBy=e},expression:"sortBy"}})],1)]),t._v(" "),i("div",{ref:"scrollTrigger",staticClass:"content",attrs:{id:"scroller"}},[t.loading?i("div",{staticClass:"loading"}):t.errorState?i("div",{staticClass:"message error"},[i("span",[t._v(t._s(t.errorText))])]):0==t.collections.length?i("div",{staticClass:"message empty"},[i("div",{staticClass:"empty-desert"},[i("IconEmptyFolder")],1),t._v(" "),i("div",[t._v(t._s(t.emptyText))])]):i("div",{ref:"scrollTarget"},t._l(t.collections,(function(e){return i("div",{key:e.id,staticClass:"collection",attrs:{id:t.getItemId(e)},on:{mouseenter:function(i){return t.onEntered(e.id)},mouseleave:function(i){return t.onExited(e.id)}}},[i("add-to-collection-item",{class:{hovered:t.isHovered(e.id),selected:t.isSelected(e)},attrs:{collection:e,isSingle:t.isSingle,containedInIds:t.containedInIds,contained:t.isContained(e)},on:{onSelected:t.onSelected}})],1)})),0)]),t._v(" "),i("div",{staticClass:"footer"},[t.hasSelection?i("button",{staticClass:" button add-action",domProps:{innerHTML:t._s(t.addCommandText)},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.performAdd.apply(null,arguments)}}}):t.canEnterCreateMode?i("div",{staticClass:"create-action",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.enterCreateMode.apply(null,arguments)}}},[t._v("\n        "+t._s(t.createNewText)+"\n      ")]):t.inCreateMode?i("div",{staticClass:"new-action"},[i("div",{staticClass:"nav",attrs:{id:"atc-"+t.id+"-cancel-create"},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.exitCreateMode.apply(null,arguments)}}},[i("IconChevron",{attrs:{direction:"left",thin:!0}})],1),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.newCollectionTitle,expression:"newCollectionTitle"}],ref:"newInput",attrs:{name:"new-collection",id:"atc-"+t.id+"-new-collection-input",type:"text",title:t.$t("{LIMIT} character limit for title",{LIMIT:t.maxTitleLength}),maxlength:t.maxTitleLength,placeholder:t.newContainerText},domProps:{value:t.newCollectionTitle},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.stopPropagation(),e.preventDefault(),t.onNewCollectionClicked.apply(null,arguments))},input:function(e){e.target.composing||(t.newCollectionTitle=e.target.value)}}}),t._v(" "),i("span",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.createTip,expression:"createTip"}],staticClass:"svg-icon icon-create icon",attrs:{id:"atc-"+t.id+"-folder-create"},on:{mouseover:function(e){t.createIconHover=t.newTitleLength>=t.minTitleLength},mouseout:function(e){t.createIconHover=!1},click:function(e){return e.stopPropagation(),e.preventDefault(),t.onNewCollectionClicked.apply(null,arguments)}}},[t.createIconHover?i("IconCreateFill",{staticClass:"filled"}):i("IconCreateOutline",{staticClass:"outline"})],1)]):t._e()])])],1)}),[],!1,null,"2efb8180",null);e.a=n.exports},776:function(t,e,i){"use strict";var s=i(745).a,a=i(28),n=Object(a.a)(s,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.entity?i("div",{ref:"downloadButton",staticClass:"download-button",attrs:{id:"download-button"}},[i("div",{staticClass:"download-button-content",on:{click:t.onDownloadButtonClicked}},[t.iconMode?i("div",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.buttonText,expression:"buttonText"}],attrs:{id:"download-icon-"+t.entity.id,disabled:t.buttonDisabled||t.isMissingBinaries}},[i("IconDownloadLight",{staticClass:"icon icon-download",class:{nonSkpClient:t.nonSkpClient,disabled:t.buttonDisabled||t.isMissingBinaries}})],1):i("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.buttonText,expression:"buttonText"}],staticClass:"button-download primary",class:{nonSkpClient:t.nonSkpClient,"med-text":t.medtext,disabled:t.buttonDisabled||t.isMissingBinaries},attrs:{id:"download-button-"+t.entity.id,disabled:t.buttonDisabled||t.isMissingBinaries}},[i("span",{staticClass:"download-button-text"},[t._v(t._s(t.buttonText))]),t._v(" "),t.showAvailableBinaries?i("chevron",{staticClass:"expand-chevron",attrs:{expanded:!0,direction:"down"}}):t._e()],1),t._v(" "),t.isOpen?i("div",{ref:"selections",staticClass:"download-select"},t._l(t.downloadableBinaries,(function(e,s){return i("div",{key:s,staticClass:"download-option"},[i("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.$t(t.getBinaryTooltip(e.name)),expression:"$t(getBinaryTooltip(binary.name))"}],class:{"med-text":t.medtext,disabled:t.isDisabledBinary(e.name)},attrs:{id:"download-option-"+e.name},on:{click:function(i){return t.onDownloadLinkClicked(e.nameForVffDownload)}}},[t._v(t._s(t.$t(t.getBinaryString(e.name))))])])})),0):t._e()])]):t._e()}),[],!1,null,null,null);e.a=n.exports},777:function(t,e,i){"use strict";var s=i(680),a=i(6),n=i.n(a),o=i(12),r=function(t,e,i,s){var a,n=arguments.length,o=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,s);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(o=(n<3?a(o):n>3?a(e,i,o):a(e,i))||o);return n>3&&o&&Object.defineProperty(e,i,o),o};let l=class ChevronComponent extends n.a{constructor(){super(...arguments),this.nativeWidth=10,this.nativeHeight=10,this.points="",this.width_=10,this.height_=10,this.baseTopPts_="1 1 5 1 9 1",this.baseMidPts_="1 3 5 3 9 3",this.baseBtmPts_="1 5 5 5 9 5",this.openDownPts_="1 1 5 5 9 1",this.openUpPts_="1 5 5 1 9 5",this.baseLeftPts_="1 1 1 5 1 9",this.baseRightPts_="5 1 5 5 5 9",this.baseCenterPts_="3 1 3 5 3 9",this.openLeftPts_="5 1 1 5 5 9",this.openRightPts_="1 1 5 5 1 9"}mounted(){this.scaled(this.scale||1),this.points=this.getPoints(this.expanded)}get width(){return this.width_}set width(t){this.width_=t}get height(){return this.height_}set height(t){this.height_=t}getPoints(t){return t?"vertical"===this.orientation?"left"===this.direction?this.openLeftPts_:this.openRightPts_:"up"===this.direction?this.openUpPts_:this.openDownPts_:"vertical"===this.orientation?"mid"===this.baseline?this.baseCenterPts_:"left"===this.direction?this.baseLeftPts_:this.baseRightPts_:"mid"===this.baseline?this.baseMidPts_:"down"===this.direction?this.baseTopPts_:this.baseBtmPts_}toggle(t){const e=this.getPoints(t);s.a.to(this.$refs.chevron,{duration:this.speed,attr:{points:e},ease:"power4.easeInOut"})}scaled(t){(t<1||Number.isNaN(t))&&(t=1),this.height=this.nativeHeight*t,this.width=this.nativeWidth*t}changeBaseline(t){this.expanded||this.redraw()}redraw(){const t=this.getPoints(this.expanded);TweenLite.to(this.$refs.chevron,0,{attr:{points:t}})}reOrient(t){this.baseline="mid",this.direction="vertical"===t?"right":"down",this.scaled(this.scale),this.redraw()}};l=r([Object(o.b)({name:"chevron",props:{expanded:Boolean,scale:{type:[String,Number],default:1},speed:{type:[String,Number],default:.25},color:{type:String,default:"black"},baseline:{type:String,default:"mid"},direction:{type:String,default:"down"},orientation:{type:String,default:"horizontal"}},watch:{expanded:function(t){this.toggle(t)},scale:function(t){this.scaled(t)},baseline:function(t){this.changeBaseline(t)},direction:function(t){this.redraw()},orientation:function(t){this.reOrient(t)}}})],l);var c=l,d=i(28),u=Object(d.a)(c,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"chevron-container",style:{width:t.width+"px",height:t.height+"px",stroke:t.color||"black"}},[i("svg",{staticClass:"chevron",attrs:{viewBox:"0 0 10 10",width:t.width,height:t.height,fill:"none","stroke-width":"2","stroke-linecap":"round"}},[i("polyline",{ref:"chevron",attrs:{points:t.points}})])])}),[],!1,null,null,null);e.a=u.exports},778:function(t,e,i){"use strict";var s=i(681),a=i.n(s),n=i(6),o=i.n(n),r=i(12),l=i(9),c=function(t,e,i,s){var a,n=arguments.length,o=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,s);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(o=(n<3?a(o):n>3?a(e,i,o):a(e,i))||o);return n>3&&o&&Object.defineProperty(e,i,o),o};let d=class LazyPicture extends o.a{mounted(){a()(".lozad",{load:this.load}).observe()}load(t){if("picture"===t.nodeName.toLowerCase()){const e=document.createElement("img");t.getAttribute("data-alt")&&(e.alt=t.getAttribute("data-alt")),e.onload=this.onload,e.onerror=this.onerror,this.id&&(e.id=this.id),t.appendChild(e)}t.getAttribute("data-src")&&t.setAttribute("src",t.getAttribute("data-src")),t.getAttribute("data-srcset")&&t.setAttribute("srcset",t.getAttribute("data-srcset")),t.getAttribute("data-toggle-class")&&t.classList.toggle(t.getAttribute("data-toggle-class"))}getSourceUrl(t){return Object(l.m)(t,this.$user,this.$context,this.performAs)}};d=c([Object(r.b)({props:{id:String,defaultSource:String,webpSource:String,showWebpSource:{type:Boolean,default:!1},onerror:{type:Function,default:t=>{const e=null!=t.composedPath?t.composedPath():t.path;null!=e&&(e[0].style.display="none")}},onload:{type:Function,default:t=>{}},performAs:{type:Boolean,default:!1}}})],d);var u=d,h=i(28),p=Object(h.a)(u,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("picture",{staticClass:"lozad",class:{thumbnail:this.defaultSource,"remove-default-thumbnail":!!this.defaultSource}},[t.showWebpSource?i("source",{attrs:{srcset:t.getSourceUrl(t.webpSource),type:"image/webp",media:"(min-width: 1px)"}}):t._e(),t._v(" "),i("source",{attrs:{srcset:t.getSourceUrl(t.defaultSource),media:"(min-width: 1px)"}})])}),[],!1,null,null,null);e.a=p.exports},779:function(t,e,i){"use strict";i.d(e,"a",(function(){return s}));var s,a=i(780),n=i(783),o=i(12),r=i(725),l=function(t,e,i,s){var a,n=arguments.length,o=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,s);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(o=(n<3?a(o):n>3?a(e,i,o):a(e,i))||o);return n>3&&o&&Object.defineProperty(e,i,o),o};!function(t){t.Success="success",t.Alert="alert",t.None="none"}(s||(s={}));let c=class ConfirmationModal extends r.a{constructor(){super(...arguments),this.name="confirmation-modal",this.openOnMounted=!0}beforeDestroy(){this.$el.remove()}get translatedConfirmButtonText(){return""===this.confirmButtonText?this.$t("Confirm"):this.confirmButtonText}get translatedMessage(){return""===this.message?this.$t("You are about to confirm an action. Are you sure?"):this.message}get translatedTitle(){return""===this.title?this.$t("Are you sure?"):this.title}onAccept(){this.closeModal(),this.acceptCallback&&this.acceptCallback()}onCancel(){this.closeModal(),this.cancelCallback&&this.cancelCallback()}get hasIcon(){return this.icon!=s.None}get showAlert(){return this.icon===s.Alert}get showSuccess(){return this.icon===s.Success}};c=l([Object(o.b)({components:{IconAlert:a.a,IconSuccess:n.a},props:{acceptCallback:Function,confirmButtonText:{type:String,default:""},cancelButton:{type:Boolean,default:!0},cancelCallback:Function,message:{type:String,default:""},title:{type:String,default:""},isOverModal:{type:Boolean,default:!1},icon:{type:String,default:"none"}}})],c);var d=c,u=i(28),h=Object(u.a)(d,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"confirmation-modal modal-dialog reveal",attrs:{"data-multiple-opened":t.isOverModal,"data-reveal":"","data-close-on-click":"false","data-close-on-esc":"true","data-animation-in":"slide-in-up fast","data-animation-out":"slide-out-down fast"}},[i("div",{staticClass:"modal-dialog-header"},[t._v("\n      "+t._s(t.translatedTitle)+"\n  ")]),t._v(" "),t.hasIcon?i("div",{staticClass:"modal-dialog-icon"},[t.showAlert?i("IconAlert",{staticClass:"alert"}):t._e(),t._v(" "),t.showSuccess?i("IconSuccess",{staticClass:"success"}):t._e()],1):t._e(),t._v(" "),i("div",{staticClass:"modal-dialog-content confirmation-content"},[i("span",[t._v("\n      "+t._s(t.translatedMessage)+"\n    ")])]),t._v(" "),i("div",{staticClass:"modal-dialog-footer"},[i("button",{staticClass:"modal-dialog-button-ok button",attrs:{id:"confirmationAccept"},on:{click:t.onAccept}},[t._v("\n      "+t._s(t.translatedConfirmButtonText)+"\n    ")]),t._v(" "),t.cancelButton?i("button",{staticClass:"modal-dialog-button-close lightup-button button",attrs:{id:"confirmationCancel"},on:{click:t.onCancel}},[t._v("\n      "+t._s(t.$t("Cancel"))+"\n    ")]):t._e()])])}),[],!1,null,null,null);e.b=h.exports},780:function(t,e,i){"use strict";e.a={functional:!0,render:function(t,e){var i=e._c;return i("svg",{class:[e.data.class,e.data.staticClass],style:[e.data.style,e.data.staticStyle],attrs:{xmlns:"http://www.w3.org/2000/svg",width:"100",height:"100",viewBox:"0 0 100 100"}},[i("path",{staticClass:"pathFill",attrs:{fill:"#005F9E","fill-rule":"evenodd",d:"M50 70.93a.065.065 0 1 0 0 .13.065.065 0 0 0 0-.13zm0-3.1a3.165 3.165 0 1 1 0 6.33 3.165 3.165 0 0 1 0-6.33zm1.55-11.37a1.55 1.55 0 0 1-3.1 0v-32.3a1.55 1.55 0 0 1 3.1 0v32.3zm-5.967 38.611a6.249 6.249 0 0 0 8.833 0l40.654-40.65a6.253 6.253 0 0 0 .001-8.837L54.415 4.933a6.236 6.236 0 0 0-8.831.001L4.929 45.584a6.253 6.253 0 0 0 0 8.837l40.654 40.65zM2.736 56.614a9.354 9.354 0 0 1 0-13.222L43.39 2.742a9.337 9.337 0 0 1 13.219 0l40.655 40.65a9.354 9.354 0 0 1 0 13.222l-40.656 40.65a9.35 9.35 0 0 1-13.217 0L2.736 56.614z"}})])}}},781:function(t,e,i){"use strict";var s=i(731),a=i(6),n=i.n(a),o=i(12),r=function(t,e,i,s){var a,n=arguments.length,o=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,s);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(o=(n<3?a(o):n>3?a(e,i,o):a(e,i))||o);return n>3&&o&&Object.defineProperty(e,i,o),o};let l=class IconFavorite extends n.a{constructor(){super(...arguments),this.name="icon-favorite"}};l=r([Object(o.b)({components:{IconStar:s.a},props:{selected:{type:Boolean,default:!1},selectable:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1}}})],l);var c=l,d=i(28),u=Object(d.a)(c,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("span",{staticClass:"svg-icon icon-favorite",class:{disabled:t.disabled,selected:t.selected,selectable:t.selectable},attrs:{id:"button-favorite"}},[i("IconStar")],1)}),[],!1,null,"35175306",null);e.a=u.exports},782:function(t,e,i){"use strict";var s=i(753),a=i(6),n=i.n(a),o=i(12),r=function(t,e,i,s){var a,n=arguments.length,o=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,s);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(o=(n<3?a(o):n>3?a(e,i,o):a(e,i))||o);return n>3&&o&&Object.defineProperty(e,i,o),o};let l=class IconLike extends n.a{constructor(){super(...arguments),this.name="icon-like"}};l=r([Object(o.b)({components:{HeartIcon:s.a},props:{selected:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}}})],l);var c=l,d=i(28),u=Object(d.a)(c,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("span",{staticClass:"svg-icon icon-heart",class:{disabled:t.disabled,selected:t.selected},attrs:{id:"button-like"}},[i("HeartIcon")],1)}),[],!1,null,"db50a8f6",null);e.a=u.exports},783:function(t,e,i){"use strict";e.a={functional:!0,render:function(t,e){var i=e._c;return i("svg",{class:[e.data.class,e.data.staticClass],style:[e.data.style,e.data.staticStyle],attrs:{xmlns:"http://www.w3.org/2000/svg",width:"100",height:"100",viewBox:"0 0 100 100"}},[i("path",{staticClass:"pathFill",attrs:{fill:"#005F9E","fill-rule":"evenodd",d:"M24.36 64.212h-1.993c-1.932 0-3.698-1.043-4.562-2.694a4.694 4.694 0 0 1 .482-5.103l4.719-6.011C11.682 48.82 3 38.147 3 25.303 3 11.376 13.207 0 25.926 0c4.129.01 8.159 1.207 11.566 3.434.7.458.88 1.372.4 2.041-.479.67-1.435.84-2.136.383a18.08 18.08 0 0 0-9.834-2.922c-10.903 0-19.848 9.97-19.848 22.367 0 12.325 8.842 22.25 19.655 22.365.133-.016.267-.017.399 0a18.042 18.042 0 0 0 9.618-2.92c.7-.458 1.657-.287 2.137.382s.3 1.582-.4 2.04a21.114 21.114 0 0 1-8.63 3.228l4.724 6.017a4.694 4.694 0 0 1 .481 5.103c-.864 1.65-2.63 2.694-4.562 2.694h-1.667c2.344 5.006 1.29 11-2.902 15.006-2.065 1.971-3.225 4.646-3.225 7.435 0 2.79 1.16 5.464 3.225 7.435.6.574.6 1.503 0 2.077-.6.573-1.573.574-2.173 0-2.641-2.522-4.126-5.944-4.126-9.512 0-3.568 1.485-6.99 4.126-9.512 3.62-3.458 4.246-8.813 1.607-12.93zm.805-2.937H29.496c.768 0 1.47-.414 1.813-1.07a1.865 1.865 0 0 0-.191-2.028l-5.186-6.606-5.186 6.606a1.865 1.865 0 0 0-.192 2.028c.344.656 1.046 1.07 1.813 1.07h2.798zm41.544 6.342c-2.64 4.116-2.013 9.47 1.606 12.929 2.642 2.522 4.126 5.944 4.126 9.512 0 3.568-1.484 6.99-4.126 9.512-.6.573-1.573.573-2.173 0-.6-.574-.6-1.503 0-2.077 2.065-1.971 3.225-4.646 3.225-7.435 0-2.789-1.16-5.464-3.225-7.436-4.192-4.005-5.245-10-2.901-15.005h-1.667c-1.932 0-3.699-1.043-4.563-2.694a4.694 4.694 0 0 1 .482-5.103l4.73-6.025c-11.326-1.581-20.007-12.255-20.007-25.1 0-13.93 10.205-25.304 22.922-25.304S88.06 14.766 88.06 28.694c0 12.846-8.681 23.52-20.007 25.101l4.73 6.025a4.694 4.694 0 0 1 .482 5.103c-.864 1.65-2.63 2.694-4.563 2.694H66.71zm-.804-2.937h2.797c.768 0 1.47-.414 1.813-1.07a1.865 1.865 0 0 0-.191-2.028l-5.186-6.606-5.186 6.606a1.865 1.865 0 0 0-.192 2.028c.344.656 1.046 1.07 1.814 1.07H65.905zm-.767-13.62c10.905 0 19.848-9.967 19.848-22.366 0-12.398-8.943-22.366-19.848-22.366S45.29 16.296 45.29 28.694c0 12.399 8.943 22.367 19.848 22.367zM98 25a2 2 0 1 1 0-4 2 2 0 0 1 0 4zM84 85a2 2 0 1 1 0-4 2 2 0 0 1 0 4zM45 95a2 2 0 1 1 0-4 2 2 0 0 1 0 4zM2 68a2 2 0 1 1 0-4 2 2 0 0 1 0 4z"}})])}}},784:function(t,e,i){"use strict";e.a={functional:!0,render:function(t,e){var i=e._c;return i("svg",{class:[e.data.class,e.data.staticClass],style:[e.data.style,e.data.staticStyle],attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"}},[i("path",{staticClass:"pathStroke",attrs:{fill:"#363545","fill-rule":"evenodd",d:"M12.75 11.25h3.75a.75.75 0 1 1 0 1.5h-3.75v3.75a.75.75 0 1 1-1.5 0v-3.75H7.5a.75.75 0 1 1 0-1.5h3.75V7.5a.75.75 0 1 1 1.5 0v3.75zM12 24C5.373 24 0 18.627 0 12S5.373 0 12 0s12 5.373 12 12-5.373 12-12 12zm0-1.5c5.799 0 10.5-4.701 10.5-10.5S17.799 1.5 12 1.5 1.5 6.201 1.5 12 6.201 22.5 12 22.5z"}})])}}},785:function(t,e,i){"use strict";e.a={functional:!0,render:function(t,e){var i=e._c;return i("svg",{class:[e.data.class,e.data.staticClass],style:[e.data.style,e.data.staticStyle],attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"}},[i("g",{attrs:{fill:"none","fill-rule":"evenodd"}},[i("path",{staticClass:"pathFill",attrs:{fill:"#363545",d:"M12 24C5.373 24 0 18.627 0 12S5.373 0 12 0s12 5.373 12 12-5.373 12-12 12z"}}),i("path",{staticClass:"pathStroke",attrs:{fill:"#FFF","fill-rule":"nonzero",d:"M12.75 11.25h3.75a.75.75 0 1 1 0 1.5h-3.75v3.75a.75.75 0 1 1-1.5 0v-3.75H7.5a.75.75 0 1 1 0-1.5h3.75V7.5a.75.75 0 1 1 1.5 0v3.75z"}})])])}}},786:function(t,e,i){"use strict";var s=i(6),a=i.n(s),n=i(12),o=function(t,e,i,s){var a,n=arguments.length,o=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,s);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(o=(n<3?a(o):n>3?a(e,i,o):a(e,i))||o);return n>3&&o&&Object.defineProperty(e,i,o),o};let r=class CharactersRemaining extends a.a{constructor(){super(...arguments),this.name="characters-remaining"}get remaining(){if(null==this.remainder){const t=this.maxAllowed-this.characterCount;return Math.max(t,0)}return this.remainder}};r=o([Object(n.b)({props:{maxAllowed:Number,characterCount:Number,remainder:{type:Number,default:null}}})],r);var l=r,c=i(28),d=Object(c.a)(l,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticClass:"chars-remaining",class:{"chars-full":t.remaining<=0}},[t._v("\n  "+t._s(t.characterCount)+" / "+t._s(t.maxAllowed)+"\n")])}),[],!1,null,null,null);e.a=d.exports},787:function(t,e,i){"use strict";e.a={functional:!0,render:function(t,e){var i=e._c;return i("svg",{class:[e.data.class,e.data.staticClass],style:[e.data.style,e.data.staticStyle],attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"}},[i("path",{staticClass:"pathFill",attrs:{fill:"#8C8B96","fill-rule":"evenodd",d:"M12 16.597L22.293 6.293a1 1 0 0 1 1.414 0c.39.391.39 1.025 0 1.416L13.414 18.013a1.998 1.998 0 0 1-2.828 0L.293 7.71a1.002 1.002 0 0 1 0-1.416 1 1 0 0 1 1.414 0L12 16.597z"}})])}}},788:function(t,e,i){"use strict";(function(t){var s=i(6),a=i.n(s),n=i(12),o=i(3),r=i(839),l=function(t,e,i,s){var a,n=arguments.length,o=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,s);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(o=(n<3?a(o):n>3?a(e,i,o):a(e,i))||o);return n>3&&o&&Object.defineProperty(e,i,o),o};let c=class SupplementalMenu extends a.a{constructor(){super(...arguments),this.isOpen=!1}beforeDestroy(){this.$eventBus.$off(o.Events.SCROLL,this.onEventScroll),document.removeEventListener("click",this.closeMenu)}mounted(){document.addEventListener("click",this.closeMenu),this.$eventBus.$on(o.Events.SCROLL,this.onEventScroll)}toggleMenu(){this.isOpen=!this.isOpen,this.isOpen?(this.$nextTick(this.positionMenu),document.addEventListener("scroll",this.onScroll)):document.removeEventListener("scroll",this.onScroll)}onScroll(){this.isOpen&&this.toggleMenu()}positionMenu(){const e=window.innerHeight,i=t(this.$refs.container),s=t(this.$refs.selections),a=o.getElementRect(i),n=o.getElementRect(s),r=t(window).scrollTop();let l=0,c=0;l=a.bottom+n.height<=e?a.bottom:a.top-n.height,l-=r,c=a.right-n.width<0?a.left:a.right-n.width,s.css({top:l+"px",left:c+"px",position:"fixed"})}optionSelected(t){const e={eventName:t.eventName,value:t.value,context:this.context};this.broadcast?this.$eventBus.$emit(o.Events.MENU_ACTION,e):this.$emit("action",e)}onEventScroll(t){this.closeMenu({})}closeMenu(t){let e=this.$refs.supplementalMenu,i=t.target;void 0!==e&&(i===e||e.$el.contains(i)||(this.isOpen=!1))}get isInline(){return this.position.startsWith("inline")}};c=l([Object(n.b)({components:{IconSupplemental:r.a},props:{menu:Array,position:{type:String,default:"right"},orientation:{type:String,default:"vertical"},broadcast:{type:Boolean,default:!0},context:{type:String,default:"UNKNOWN"}}})],c),e.a=c}).call(this,i(31))},789:function(t,e,i){"use strict";var s=i(6),a=i.n(s),n=i(12),o=i(70),r=i(14),l=i(3),c=i(758),d=i(728),u=function(t,e,i,s){var a,n=arguments.length,o=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,s);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(o=(n<3?a(o):n>3?a(e,i,o):a(e,i))||o);return n>3&&o&&Object.defineProperty(e,i,o),o};let h=class CategorizationDropdown extends c.a{constructor(){super(...arguments),this.currDomain="",this.currSubdomain="",this.currCategory="",this.calculateDropdownHeight=!1,this.isScreenShort=!1,this.domainOptions=r.k(this.includeDomainAll,this.alternateName)}mounted(){this.anchorRef=this.$parent.$refs.dropdownAnchor,this.isScreenShort=Object(l.isScreenHeightLessThan)(l.Constants.SMALL_HEIGHT_SCREEN_BREAK)}onOpenDropdown(){document.addEventListener("click",this.documentClicked),document.addEventListener("contextmenu",this.documentClicked),this.currDomain=this.domain,this.currSubdomain=this.subdomain,this.currCategory=this.category}onCloseDropdown(){document.removeEventListener("click",this.documentClicked),document.removeEventListener("contextmenu",this.documentClicked)}documentClicked(t){let e=this.$refs.dropdown,i=t.target;e===i||e.contains(i)||(this.active=!1)}get subdomainOptions(){return this.currDomain&&this.maxLevel!=r.b.DOMAIN_LEVEL?r.n(this.currDomain,!0,this.alternateName):[]}get categoryOptions(){return this.currSubdomain&&this.canViewProCategories?r.g(this.currDomain,this.currSubdomain,!0,this.alternateName):[]}get canViewProCategories(){return r.d(this.$user,this.$inOrgContext)&&this.acceptLevel>r.b.SUBDOMAIN_LEVEL}get maxLevel(){return this.acceptLevel>r.b.SUBDOMAIN_LEVEL?r.d(this.$user,this.$inOrgContext)?r.b.CATEGORY_LEVEL:r.b.SUBDOMAIN_LEVEL:this.acceptLevel}get currDepth(){return this.categoryOptions.length?r.b.CATEGORY_LEVEL:this.subdomainOptions.length?r.b.SUBDOMAIN_LEVEL:r.b.DOMAIN_LEVEL}get currValue(){return this.categoryOptions.length?this.currCategory:this.subdomainOptions.length?this.currSubdomain:this.domain}get currentOptions(){return this.currDepth===r.b.CATEGORY_LEVEL?this.categoryOptions:this.currDepth===r.b.SUBDOMAIN_LEVEL?this.subdomainOptions:this.domainOptions}get showBack(){return this.currDepth>0}get domainLabel(){return r.j(this.domain)}get subdomainLabel(){return r.m(this.domain,this.subdomain)}get categoryLabel(){return this.canViewProCategories?r.i(this.domain,this.subdomain,this.category):""}get dropdownAnchorTitle(){let t="Assign Category";if(this.domainLabel){if(t=this.domainLabel,!this.subdomainLabel)return t;if(t+=` > ${this.subdomainLabel}`,!this.categoryLabel)return t;t+=` > ${this.categoryLabel}`}return t}get currBucketLabel(){return this.currDepth===r.b.SUBDOMAIN_LEVEL?r.j(this.currDomain):this.currDepth===r.b.CATEGORY_LEVEL?r.m(this.currDomain,this.currSubdomain):""}goBack(){this.selectOption(this.currDepth-1,"",!0)}selectOption(t,e,i=!1){if(t===r.b.CATEGORY_LEVEL)this.setCurrCategorization(this.currDomain,this.currSubdomain,e);else if(t===r.b.SUBDOMAIN_LEVEL)this.setCurrCategorization(this.currDomain,e);else if(this.setCurrCategorization(e),i)return;const s=e&&t===this.maxLevel;this.applyClicked(s)}setCurrCategorization(t="",e="",i=""){this.currDomain=t,this.currSubdomain=e,this.currCategory=i}applyClicked(t=!0){t&&this.deactivate(),this.$emit("selectionChanged",this.currDomain,this.currSubdomain,this.currCategory)}};h=u([Object(n.b)({components:{IconChevron:d.a},props:{id:String,domain:String,subdomain:String,category:String,includeDomainAll:{type:Boolean,default:!0},acceptLevel:{type:Number,default:r.b.CATEGORY_LEVEL},alternateName:{type:String,default:r.a.NONE}}})],h);var p=h,m=i(28),g=Object(m.a)(p,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"categorization-dropdown"},[t.hasEverOpened?i("div",{directives:[{name:"show",rawName:"v-show",value:t.isActive,expression:"isActive"}],ref:"dropdown",staticClass:"dropdown cat-dropdown",class:{"small-window":t.isScreenShort},attrs:{id:t.id},on:{click:function(t){t.stopPropagation()}}},[i("div",{ref:"dropdownContent",staticClass:"dropdown-content"},[i("div",{staticClass:"dropdown-header"},[t.showBack?i("div",[i("div",{staticClass:"go-back",on:{click:t.goBack}},[i("icon-chevron",{attrs:{direction:"left"}})],1),t._v(" "),i("div",{staticClass:"category-text title",attrs:{title:t.$tLabel({text:t.currBucketLabel})}},[t._v("\n            "+t._s(t.$tLabel({text:t.currBucketLabel}))+"\n          ")])]):i("div",[t._m(0),t._v(" "),i("div",{staticClass:"category-text title"},[t._v(t._s(t.$t("Assign Category")))])])]),t._v(" "),i("ul",{ref:"listEl",staticClass:"wrapping-selection-list row-wrap"},t._l(t.currentOptions,(function(e){return i("li",{key:e.value,staticClass:"selection-list-item",class:{selected:t.currValue===e.value},attrs:{value:e.value,title:t.$tLabel({text:e.label})},on:{click:function(i){return t.selectOption(t.currDepth,e.value)}}},[i("div",{staticClass:"select-item-value"},[t._v(t._s(t.$tLabel({text:e.label})))]),t._v(" "),i("div",{staticClass:"selected-mark"})])})),0),t._v(" "),i("button",{staticClass:"button apply-button",attrs:{id:t.id+"-apply"},on:{click:t.applyClicked}},[t._v("\n        "+t._s(t.$t("Apply"))+"\n      ")])])]):t._e()])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"icon-category"},[e("div")])}],!1,null,"10a7e5c4",null).exports,v=function(t,e,i,s){var a,n=arguments.length,o=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,s);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(o=(n<3?a(o):n>3?a(e,i,o):a(e,i))||o);return n>3&&o&&Object.defineProperty(e,i,o),o},f=function(t,e,i,s){return new(i||(i=Promise))((function(a,n){function o(t){try{l(s.next(t))}catch(t){n(t)}}function r(t){try{l(s.throw(t))}catch(t){n(t)}}function l(t){var e;t.done?a(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,r)}l((s=s.apply(t,e||[])).next())}))};let C=class CategorizationAssignment extends a.a{constructor(){super(...arguments),this.dropdownAnchor=null}mounted(){this.dropdownAnchor=this.$refs.dropdownAnchor,null==this.thumbnailBase64Str&&this.$watch("thumbnailBase64Str",this.setThumbnailAutoCategories)}get canViewProCategories(){return r.d(this.$user,this.$inOrgContext)}get domainLabel(){return r.j(this.domain)}get subdomainLabel(){return this.acceptLevel>r.b.DOMAIN_LEVEL?r.m(this.domain,this.subdomain):""}get categoryLabel(){return this.acceptLevel>r.b.SUBDOMAIN_LEVEL&&this.canViewProCategories?r.i(this.domain,this.subdomain,this.category):""}get dropdownAnchorTitle(){let t="Assign Category";if(this.domainLabel){if(t=this.domainLabel,!this.subdomainLabel)return t;if(t+=` > ${this.subdomainLabel}`,!this.categoryLabel)return t;t+=` > ${this.categoryLabel}`}return t}anchorClicked(){this.$refs.catDropdown.anchorClicked()}categorySelectionChanged(t,e,i,s=!1){this.$emit("categorySelectionChanged",t,e,i,s)}setThumbnailAutoCategories(t){return f(this,void 0,void 0,(function*(){if(t&&t.length>10){let e=null;try{e=yield this.$api.getImgCategories(t),Object.keys(e).length>1&&this.categorySelectionChanged(e.domain,e.subdomain,"",!0)}catch(t){o.a.error("The thumbnail cannot be categorized.")}}}))}};C=v([Object(n.b)({components:{CategorizationDropdown:g,IconChevron:d.a},props:{id:String,domain:{type:String,default:""},subdomain:{type:String,default:""},category:{type:String,default:""},includeDomainAll:{type:Boolean,default:!0},acceptLevel:{type:Number,default:r.b.CATEGORY_LEVEL},alternateName:{type:String,default:r.a.NONE},align:{type:String,default:"right"},thumbnailBase64Str:{type:String,default:null}}})],C);var b=C,y=Object(m.a)(b,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"dropdownAnchor",staticClass:"categorization-assignment",attrs:{id:t.id,tabindex:"0"}},[i("a",{staticClass:"dropdown-anchor",attrs:{id:t.id+"-anchor",title:t.dropdownAnchorTitle},on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.anchorClicked()}}},[t.domainLabel?t._e():i("span",{staticClass:"selected-cat"},[t._v(t._s(t.$t("Assign Category")))]),t._v(" "),t.domainLabel?i("span",[t._v(t._s(t.$tLabel({text:t.domainLabel})))]):t._e(),t._v(" "),t.subdomainLabel?i("span",{staticClass:"chevron-right"},[i("icon-chevron",{attrs:{direction:"right"}})],1):t._e(),t._v(" "),t.subdomainLabel?i("span",[t._v(t._s(t.$tLabel({text:t.subdomainLabel})))]):t._e(),t._v(" "),t.categoryLabel?i("span",{staticClass:"chevron-right"},[i("icon-chevron",{attrs:{direction:"right"}})],1):t._e(),t._v(" "),t.categoryLabel?i("span",[t._v(t._s(t.$tLabel({text:t.categoryLabel})))]):t._e()]),t._v(" "),i("categorization-dropdown",{ref:"catDropdown",attrs:{id:t.id,domain:t.domain,subdomain:t.subdomain,category:t.category,includeDomainAll:t.includeDomainAll,align:t.align,acceptLevel:t.acceptLevel,alternateName:t.alternateName},on:{selectionChanged:t.categorySelectionChanged}})],1)}),[],!1,null,null,null);e.a=y.exports},790:function(t,e,i){"use strict";var s=i(6),a=i.n(s),n=i(12),o=function(t,e,i,s){var a,n=arguments.length,o=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,s);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(o=(n<3?a(o):n>3?a(e,i,o):a(e,i))||o);return n>3&&o&&Object.defineProperty(e,i,o),o};let r=class ItemNotFound extends a.a{constructor(){super(...arguments),this.message="",this.messageExplanation="",this.title=""}created(){this.messageToDisplay()}messageToDisplay(){this.itemFound?(this.title=this.$t("Oops! You don't have permission to edit that {itemType}.",{itemType:this.itemType}),this.message=this.$t("Sorry! You can only edit a {itemType} that you have permission for.",{itemType:this.itemType}),this.messageExplanation=this.$t("You either didn't create this {itemType} or you don't have permission.",{itemType:this.itemType})):(this.title=this.$t("Oh no! We can't find it... :("),this.message=this.$t("Sorry! The {itemType} can't be found.",{itemType:this.itemType}),this.messageExplanation=this.$t("It was probably made private or deleted."))}};r=o([Object(n.b)({props:{itemFound:Object,itemType:String}})],r);var l=r,c=i(28),d=Object(c.a)(l,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"item-not-found"},[i("img",{staticClass:"panda",attrs:{src:"/static/images/panda.svg",alt:t.$t("Sad Panda")}}),t._v(" "),i("h2",{staticClass:"title"},[t._v(t._s(t.title))]),t._v(" "),i("p",{staticClass:"message"},[t._v(t._s(t.message)+" "),i("br"),t._v(" "+t._s(t.messageExplanation))]),t._v(" "),i("a",{staticClass:"button go-home-button",attrs:{href:"/"}},[t._v(t._s(t.$t("Go Home")))])])}),[],!1,null,null,null);e.a=d.exports},791:function(t,e,i){"use strict";i.d(e,"a",(function(){return s}));var s,a,n=i(6),o=i.n(n),r=i(674),l=i(805),c=function(t,e,i,s){var a,n=arguments.length,o=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,s);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(o=(n<3?a(o):n>3?a(e,i,o):a(e,i))||o);return n>3&&o&&Object.defineProperty(e,i,o),o};!function(t){t[t.Question=0]="Question",t[t.Info=1]="Info"}(s||(s={})),function(t){t[t.None=0]="None",t[t.Once=1]="Once",t[t.Loop=2]="Loop"}(a||(a={}));let d=class HelpCallout extends o.a{constructor(){super(...arguments),this.name="help-callout"}get showIconInfo(){return this.icon===s.Info}get bounceClass(){switch(this.bounceMode){case a.None:return"";case a.Once:return"bounce-once";case a.Loop:return"bounce-loop";default:return""}}};c([Object(r.d)({default:""})],d.prototype,"id",void 0),c([Object(r.d)({default:""})],d.prototype,"calloutText",void 0),c([Object(r.d)({default:s.Question})],d.prototype,"icon",void 0),c([Object(r.d)({default:a.None})],d.prototype,"bounceMode",void 0),d=c([Object(r.a)({components:{IconInfo:l.a,IconQuestion:{functional:!0,render:function(t,e){var i=e._c;return i("svg",{class:[e.data.class,e.data.staticClass],style:[e.data.style,e.data.staticStyle],attrs:{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"15",height:"15",viewBox:"0 0 15 15",fill:"#BFBFC6","fill-rule":"nonzero"}},[i("path",{attrs:{id:"a",d:"M14.374 7.5 a6.874 6.874 0 1 0-13.748 0 6.874 6.874 0 0 0 13.748 0z m.626 0 a7.5 7.5 0 1 1-15 0 7.5 7.5 0 0 1 15 0z m-7.187 2.287 a.313.313 0 0 1-.626 0 v-1.96 c0-.173.14-.313.313-.313 a1.647 1.647 0 1 0-1.647-1.647.313.313 0 0 1-.626 0 2.273 2.273 0 1 1 2.586 2.251v1.669z m-.3 1.633 a.014.014 0 0 0-.013-.013.014.014 0 0 0-.014.013 c0 .008.007.014.014.014 a.014.014 0 0 0 .014-.014z m.627 0 a.64.64 0 1 1-1.28 0 .64.64 0 0 1 1.28 0z"}})])}}}})],d);var u=d,h=i(28),p=Object(h.a)(u,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"help-callout"},[i("span",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.calloutText,expression:"calloutText"}],staticClass:"svg-icon",class:t.bounceClass,attrs:{id:t.id}},[t.showIconInfo?i("icon-info"):i("icon-question")],1)])}),[],!1,null,"98ec1cf2",null);e.b=p.exports},792:function(t,e,i){},793:function(t,e,i){"use strict";var s=i(6),a=i.n(s),n=i(12),o=i(3),r=function(t,e,i,s){var a,n=arguments.length,o=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,s);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(o=(n<3?a(o):n>3?a(e,i,o):a(e,i))||o);return n>3&&o&&Object.defineProperty(e,i,o),o};let l=class AutoSizingInput extends a.a{mounted(){window.addEventListener("resize",this.onWindowResize)}onWindowResize(){this.updateInputWidth()}onInput(){this.updateInputWidth(!0)}onMouseOver(){this.updateInputWidth()}updateInputWidth(t=!1){let e="",i=this.$refs.autosizer,s=this.$refs.input;s&&i&&(e=s.value,i.innerText=e,s.style.width=i.offsetWidth+5+"px"),t&&this.$emit("input",e)}beforeDestroy(){window.removeEventListener("resize",this.onWindowResize)}};l=r([Object(n.b)({props:{id:String,inputStyle:{default:()=>({}),type:Object},maxLength:{default:o.Constants.ITEM_DESCRIPTION_MAX_LENGTH,type:Number},name:String,placeHolder:String,tooltip:String,value:String}})],l);var c=l,d=i(28),u=Object(d.a)(c,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"auto-sizing-input",attrs:{id:t.id}},[i("span",{ref:"autosizer",staticClass:"input-auto-sizer",attrs:{id:t.id+"-auto-sizer"}},[t._v(t._s(t.value))]),t._v(" "),i("input",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.tooltip,expression:"tooltip"}],ref:"input",staticClass:"auto-sizing-text",style:t.inputStyle,attrs:{type:"text",id:t.id+"-text",maxLength:t.maxLength,name:t.name,placeholder:t.placeHolder},domProps:{value:t.value},on:{mouseover:t.onMouseOver,input:t.onInput,blur:function(e){return t.$emit("blur")}}})])}),[],!1,null,null,null);e.a=u.exports},794:function(t,e,i){"use strict";var s=i(751).a,a=i(28),n=Object(a.a)(s,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.clickUpload?i("div",{ref:"dropZone",staticClass:"file-upload-icon",on:{click:t.openFileBrowser}},[i("input",{ref:"fileInput",attrs:{type:"file",multiple:t.allowMultipleFiles,accept:t.acceptableFileFormats},on:{change:t.onFileInputChange}}),t._v("\n  "+t._s(t.clickUploadText)+"\n  "),i("span",{staticClass:"svg-icon"},[i("UploadIcon",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.iconToolTip,expression:"iconToolTip"}],attrs:{disabled:t.locked}})],1)]):i("div",{ref:"dropZone",staticClass:"file-upload",on:{dragleave:t.outOfZone,dragover:function(e){return e.stopPropagation(),e.preventDefault(),t.showDrag.apply(null,arguments)},drop:function(e){return e.stopPropagation(),e.preventDefault(),t.drop.apply(null,arguments)}}},[i("input",{ref:"fileInput",attrs:{type:"file",accept:t.acceptableFileFormats,multiple:t.allowMultipleFiles},on:{change:t.onFileInputChange}}),t._v(" "),i("div",{staticClass:"drop-message-container"},[i("div",{staticClass:"thumbnail-container"},[i("div",{staticClass:"thumbnail"},[i("img",{attrs:{src:t.imageIcon}})])]),t._v(" "),i("span",{staticClass:"drop-title title"},[t._v("\n      "+t._s(t.$t("Drop it like it's hot"))+"\n    ")])]),t._v(" "),i("div",{staticClass:"file-upload-container"},[t.loading?i("div",{staticClass:"loading-container"},[i("div",{staticClass:"loading"})]):t.fileToUpload?i("div",{staticClass:"new-file-info title"},[i("div",{staticClass:"new-file-name"},[t._v(t._s(t.fileToUploadName))]),t._v(" "),i("div",{staticClass:"close-x-container",on:{click:t.resetFileUpload}},[i("div",{staticClass:"close-x"})])]):i("div",{staticClass:"file-upload-card"},[i("div",{staticClass:"in-place-error",class:{active:t.errorState}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.inPlaceErrorMsg,expression:"inPlaceErrorMsg"}],staticClass:"modal-error"},[t._v("\n          "+t._s(t.inPlaceErrorMsg)+"\n        ")])]),t._v(" "),i("div",{staticClass:"thumbnail"},[i("img",{attrs:{src:t.imageIcon}})]),t._v(" "),t.isReplacingFile?i("div",{staticClass:"item-info"},[i("div",{staticClass:"item-title title"},[t._v(t._s(t.fileTitle))]),t._v(" "),i("div",{staticClass:"item-details"},[t._v(t._s(t.fileDetails))])]):t._e()]),t._v(" "),i("div",{staticClass:"upload-details"},[t.isMounted&&t.loading?i("div",{staticClass:"loading-description"},[t._v("\n        "+t._s(t.$t("Validating"))+"\n      ")]):i("div",{staticClass:"drag-and-drop-label"},[t._v("\n        "+t._s(t.dragAndDropText)+"\n      ")]),t._v(" "),i("div",{staticClass:"file-details"},[t._v("\n        "+t._s(t.supportedFileTypesLabel)+"\n        "),t.supportedFileTypesLabel?i("span",[t._v(" | ")]):t._e(),t._v(" "),t.supportedFileTypesLabel?t._e():i("span",[t._v("\n          "+t._s(t.recommendedDimensions)+"\n        ")]),t._v(" "),t.supportedFileTypesLabel?t._e():i("span",[t._v(" | ")]),t._v(" "),t.maxCroppedSize?t._e():i("span",[t._v("\n          "+t._s(t.$t("Max File Size: {size}",{size:t.maxSizeLabel}))+"\n        ")]),t._v(" "),t.allowMultipleFiles?i("span",[t._v(" | ")]):t._e(),t._v(" "),t.allowMultipleFiles?i("span",[t._v("\n          "+t._s(t.$t("Max File Count: {count}",{count:t.maxFileCount}))+"\n        ")]):t._e(),t._v(" "),t.maxCroppedSize?i("span",[t._v("\n          "+t._s(t.$t("Max Cropped Size: {size}",{size:t.maxCroppedSizeLabel}))+"\n        ")]):t._e()]),t._v(" "),t.hasDimensions&&t.supportedFileTypesLabel?i("div",{staticClass:"file-details"},[t._v("\n        "+t._s(t.recommendedDimensions)+"\n      ")]):t._e()]),t._v(" "),i("button",{staticClass:"upload-file button lightup-button",attrs:{disabled:t.locked},on:{click:t.openFileBrowser}},[t._v("\n      "+t._s(t.$t("Browse"))+"\n    ")])]),t._v(" "),i("div",{staticClass:"drag-screen",attrs:{id:"dragscreen"},on:{dragleave:t.hideDrag}})])}),[],!1,null,null,null);e.a=n.exports},795:function(t,e,i){"use strict";var s=i(6),a=i.n(s),n=i(12),o=i(8),r=i(7),l=function(t,e,i,s){var a,n=arguments.length,o=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,s);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(o=(n<3?a(o):n>3?a(e,i,o):a(e,i))||o);return n>3&&o&&Object.defineProperty(e,i,o),o};let c=class CollectionElementCard extends a.a{get isCollection(){return this.collectionElement.subjectClass===r.Constants.BackendClass.COLLECTION}get isFolder(){return this.isCollection&&""==this.collectionElement.subtype&&this.collectionElement.isPrivate}get isCatalog(){if(!this.isCollection)return!1;const t=this.collectionElement.subtype;return!!t&&t===r.Constants.Subtypes.CATALOG}get isModel(){return this.collectionElement.subjectClass===r.Constants.BackendClass.ENTITY}get isMaterial(){return this.collectionElement.subjectClass===r.Constants.BackendClass.MATERIAL}get isLiveComponent(){const t=r.Constants.FqParameters.Attributes;return!!o.a.getAttributeValue(this.collectionElement.attributes,t.WAREHOUSE,t.Skp.IS_LIVE_COMPONENT)}get isGeolocated(){const t=r.Constants.FqParameters.Attributes;return!!o.a.getAttributeValue(this.collectionElement.attributes,t.SKP,t.Skp.IS_GEO_LOCATED)}get isDynamicComponent(){const t=r.Constants.FqParameters.Attributes;return!!o.a.getAttributeValue(this.collectionElement.attributes,t.SKP,t.Skp.IS_DYNAMIC_COMPONENT)}get isCertifiedContent(){const t=r.Constants.FqParameters.Attributes;return!!o.a.getAttributeValue(this.collectionElement.attributes,t.ADMIN_WAREHOUSE,t.AdminWarehouse.IS_CERTIFIED)}};c=l([Object(n.b)({props:{collectionElement:Object},inheritAttrs:!1})],c);var d=c,u=i(28),h=Object(u.a)(d,(function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"collection-element-card-base"})}),[],!1,null,null,null);e.a=h.exports},796:function(t,e,i){"use strict";e.a={functional:!0,render:function(t,e){var i=e._c;return i("svg",{class:[e.data.class,e.data.staticClass],style:[e.data.style,e.data.staticStyle],attrs:{xmlns:"http://www.w3.org/2000/svg",width:"100",height:"100",viewBox:"0 0 100 100"}},[i("path",{staticClass:"pathFill",attrs:{fill:"#005F9E","fill-rule":"evenodd",d:"M63.342 63.714l17.98-17.982a1.46 1.46 0 0 1 1.033-.428h12.943a1.46 1.46 0 0 1 0 2.92H82.96L66.465 64.72h19.126c7.955 0 14.403 6.449 14.403 14.404v6.472a7.932 7.932 0 0 1-7.931 7.932H79.547A11.169 11.169 0 0 1 69.412 100c-4.49 0-8.362-2.65-10.135-6.472H34.246A11.169 11.169 0 0 1 24.11 100c-4.49 0-8.362-2.65-10.135-6.472H7.932A7.932 7.932 0 0 1 0 85.596v-6.472c0-7.647 5.959-13.903 13.486-14.375l7.528-15.061a7.931 7.931 0 0 1 7.096-4.384h21.14a7.932 7.932 0 0 1 7.097 4.385l6.995 14.025zM14.403 67.64c-6.342 0-11.483 5.142-11.483 11.484v6.472a5.012 5.012 0 0 0 5.012 5.012h5.152a11.25 11.25 0 0 1-.14-1.776c0-6.168 4.999-11.168 11.167-11.168 6.167 0 11.167 5 11.167 11.168 0 .604-.048 1.197-.14 1.776h23.247a11.25 11.25 0 0 1-.14-1.776c0-6.168 5-11.168 11.167-11.168s11.167 5 11.167 11.168c0 .604-.048 1.197-.14 1.776h11.624a5.012 5.012 0 0 0 5.011-5.012v-6.472c0-6.342-5.141-11.484-11.483-11.484H14.403zm2.362-2.92h43.816l-6.846-13.726a5.012 5.012 0 0 0-4.484-2.77H28.11a5.011 5.011 0 0 0-4.484 2.77l-6.86 13.726zm60.376 26.995a1.45 1.45 0 0 1 .094-.264 8.248 8.248 0 1 0-15.664-.053c.06.116.106.242.133.375a8.25 8.25 0 0 0 15.437-.058zm-60.863-.293c.05.102.09.21.115.324a8.25 8.25 0 0 0 15.425.027 1.45 1.45 0 0 1 .133-.376 8.248 8.248 0 1 0-15.673.024zm80.032-61.89a1.46 1.46 0 0 1-2.023 2.105 11.99 11.99 0 0 1-3.684-8.996c0-2.66.928-4.306 3.563-7.541 2.218-2.723 2.908-3.945 2.909-5.743a9.098 9.098 0 0 0-2.788-6.844A1.46 1.46 0 0 1 96.31.407a11.99 11.99 0 0 1 3.684 8.996c0 2.66-.928 4.306-3.564 7.541-2.218 2.723-2.907 3.945-2.908 5.743a9.098 9.098 0 0 0 2.788 6.844zm-19.415 6.471a1.46 1.46 0 0 1-2.023 2.106 11.99 11.99 0 0 1-3.684-8.996c0-2.66.928-4.306 3.564-7.541 2.218-2.723 2.907-3.945 2.908-5.743a9.098 9.098 0 0 0-2.788-6.844 1.46 1.46 0 0 1 2.023-2.106 11.99 11.99 0 0 1 3.684 8.996c0 2.66-.928 4.306-3.564 7.541-2.218 2.723-2.907 3.945-2.908 5.743a9.098 9.098 0 0 0 2.788 6.844z"}})])}}},797:function(t,e,i){"use strict";(function(t){var s=i(843),a=i(72),n=i.n(a),o=i(6),r=i.n(o),l=i(12),c=i(844),d=i(836),u=i(845),h=i(846),p=i(837),m=i(2),g=i(35),v=i(13),f=i(770),C=i(48),b=i(3),y=i(851),w=i(854),_=i(848),T=i(832),S=i(840),E=i(842),O=i(850),I=i(818),A=function(t,e,i,s){var a,n=arguments.length,o=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,s);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(o=(n<3?a(o):n>3?a(e,i,o):a(e,i))||o);return n>3&&o&&Object.defineProperty(e,i,o),o},D=function(t,e,i,s){return new(i||(i=Promise))((function(a,n){function o(t){try{l(s.next(t))}catch(t){n(t)}}function r(t){try{l(s.throw(t))}catch(t){n(t)}}function l(t){var e;t.done?a(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,r)}l((s=s.apply(t,e||[])).next())}))};let M=class ContentPresenter extends r.a{constructor(){super(...arguments),this.name="content-presenter",this.selections=[],this.browseModels=!1,this.browseCatalogs=!1,this.browseCollections=!1,this.browseDataOwners=!1,this.browseProducts=!1,this.items=[],this.isLoading=!0,this.isScrolling=!1,this.currentPage=0,this.pageCount=-1,this.isPageResetting=!1,this.scrollBufferMin=200,this.emptyText="",this.deleteErrorText="",this.menu=null,this.isMounted=!1,this.sortChanged=!1,this.dragSelecting=!1,this.currentLoads=0}created(){this.currentPage=this.page}beforeUpdate(){this.useRouter&&(this.currentPage=this.page)}mounted(){switch(this.type){case b.BrowseTypes.Models:this.browseModels=!0,this.dataBrowser=new p.a(this.$store,this.storeOptions,this.useDirectApi?this.dataOwner:null),this.emptyText=this.$t("Looks like there are no models.");break;case b.BrowseTypes.CuratedMaterials:this.browseModels=!0,this.dataBrowser=new u.a(this.$store,this.storeOptions),this.emptyText=this.$t("Looks like there are no materials.");break;case b.BrowseTypes.Catalogs:this.browseCatalogs=!0,this.dataBrowser=new c.a(this.$store,this.storeOptions,this.useDirectApi?this.dataOwner:null),this.dataBrowser.browseType=this.type,this.emptyText=this.$t("Looks like there are no catalogs.");break;case b.BrowseTypes.Collections:this.browseCollections=!0,this.dataBrowser=new d.a(this.$store,this.storeOptions,this.useDirectApi?this.dataOwner:null),this.emptyText=this.$t("Looks like there are no collections.");break;case b.BrowseTypes.Folders:this.browseCollections=!0,this.dataBrowser=new d.a(this.$store,this.storeOptions,this.useDirectApi?this.dataOwner:null),this.emptyText=this.$t("Looks like there are no folders.");break;case b.BrowseTypes.Products:this.browseModels=!0,this.browseProducts=!0,this.dataBrowser=new p.a(this.$store,this.storeOptions),this.emptyText=this.$t("Looks like there are no products.");break;case b.BrowseTypes.Organizations:case b.BrowseTypes.Users:this.browseDataOwners=!0,this.dataBrowser=new h.a(this.$store),this.emptyText=this.$t("Looks like there are no brands.");break;default:return this.isLoading=!1,this.sendState(),void this.sendUnknownTypeError()}this.dataBrowser.browseType=this.type,this.dataBrowser.filter=this.filter,this.sortBy&&(this.dataBrowser.sortBy=this.sortBy),this.isMounted=!0,this.scrollTarget=this.$refs.scrollTarget,this.scrollHelper=new f.a(this.scrollTarget,this.scrollBufferMin),this.setScrollTrigger(this.scrollTrigger),document.addEventListener("resize",this.checkScrollBuffer),this.setScrollTrigger(this.scrollTrigger),this.isPaginated&&this.dataBrowser.setOffset(this.currentPage*this.pageSize),this.loadMore(!0),this.$watch("filter",(function(){this.dataBrowser.filter.fq==this.filter.fq&&this.dataBrowser.filter.q==this.filter.q&&this.dataBrowser.filter.domain==this.filter.domain&&this.dataBrowser.filter.subdomain==this.filter.subdomain||(this.dataBrowser.filter.fq=this.filter.fq,this.dataBrowser.filter.domain=this.filter.domain,this.dataBrowser.filter.subdomain=this.filter.subdomain,null!=this.filter.q?this.dataBrowser.filter.q=this.filter.q:delete this.dataBrowser.filter.q,null!=this.filter.matchBehavior?this.dataBrowser.filter.matchBehavior=this.filter.matchBehavior:delete this.dataBrowser.filter.matchBehavior,this.isPaginated?this.pageAction(0):(this.dataBrowser.clear(),this.loadMore()))})),this.$watch("sortBy",(function(){this.dataBrowser.sortBy!=this.sortBy&&(this.dataBrowser.sortBy=this.sortBy,this.isPaginated?this.pageAction(0):(this.dataBrowser.clear(),this.loadMore()))})),this.$watch("pageSize",(t=>{this.updatePageSize(t)})),this.$eventBus.$on(b.Events.UPDATE_PAGE_SIZE,this.updatePageSize),this.$eventBus.$on(b.Events.REMOVE_COLLECTIONELEMENT,this.removeCollectionElements),this.$eventBus.$on(b.Events.ADD_COLLECTIONELEMENT,this.addCollectionElements),this.$eventBus.$on(b.Events.REMOVE_MODEL_CONTENT_PRESENTER,this.removeItemFromPresenter),this.$eventBus.$on(b.Events.MODEL_SELECTION_TOGGLED,this.toggleModelSelection)}updated(){this.$eventBus.$emit(b.Events.PASS_TOTAL_ITEM_COUNT,this.dataBrowser.items.length)}get fullCardSelectable(){return this.alwaysSelectable||this.selections.length>0}get showPagination(){return this.isPaginated&&this.pageCount>1&&(!this.noResults||this.isPageResetting)}updatePageSize(t){this.pageAction(0),this.$eventBus.$emit(b.Events.PAGE_SIZE_CHANGED,t)}sendDeleteEvent(t){this.$eventBus.$emit(b.Events.DELETE_COLLECTION_ELEMENT,t)}toggleModelSelection(t,e,i){if(e===this.id)if(i){!1===this.selections.filter((e=>e.id===t.id)).length>0&&this.selections.push(t)}else this.selections=this.selections.filter((e=>e.id!=t.id));this.$nextTick((()=>{this.setScrollTrigger(this.scrollTrigger)}))}updatePageCount(t){const e=Math.ceil(t/this.pageSize);this.pageCount=e}removeCollectionElements(t,e,i,s){this.isCorrectContentPresenter(t.id,i,s)&&e.forEach((t=>{this.removeItemFromPresenter(t)}))}addCollectionElements(t,e,i,s){this.isCorrectContentPresenter(t.id,i,s)&&e.forEach((t=>{this.addItem(t)}))}isCorrectContentPresenter(t,e,i){return this.areNullOrEqual(this.collectionId,t)&&this.areNullOrEqual(this.privateMode,i)&&this.type===e}reset(){this.isPaginated?this.pageAction(0):(this.dataBrowser.clear(),this.dataBrowser.setOffset(0),this.dataBrowser.loadMore())}pageAction(t){return D(this,void 0,void 0,(function*(){this.currentPage=t,this.items=[],this.isLoading=!0,this.dataBrowser.clear(),this.dataBrowser.setOffset(t*this.pageSize),yield this.loadMore(),this.unSelectAll(),this.isPageResetting=!1}))}get isPageFull(){return this.items.length>=this.pageSize}areNullOrEqual(t,e){return null==t&&null==e||t===e}opened(){this.$nextTick((()=>{this.checkScrollBuffer()}))}beforeDestroy(){this.$eventBus.$off(b.Events.UPDATE_PAGE_SIZE,this.updatePageSize),this.$eventBus.$off(b.Events.REMOVE_COLLECTIONELEMENT,this.removeCollectionElements),this.$eventBus.$off(b.Events.ADD_COLLECTIONELEMENT,this.addCollectionElements),this.$eventBus.$off(b.Events.REMOVE_MODEL_CONTENT_PRESENTER,this.removeItemFromPresenter),this.$eventBus.$off(b.Events.MODEL_SELECTION_TOGGLED,this.toggleModelSelection),this.scrollTriggerRef?this.scrollTriggerRef.removeEventListener("scroll",this.checkScrollBuffer):document.removeEventListener("scroll",this.checkScrollBuffer),document.removeEventListener("resize",this.checkScrollBuffer)}close(){this.items=[],this.$eventBus.$emit(b.Events.TOGGLE_MAIN_OVERLAY,{showOverlay:!1})}setScrollTrigger(e){this.isPaginated||(this.scrollTriggerRef&&this.scrollTriggerRef.removeEventListener("scroll",this.checkScrollBuffer),this.scrollTriggerRef=null,e?(this.scrollTriggerRef=t(e)[0],this.scrollTriggerRef.addEventListener("scroll",this.checkScrollBuffer)):document.addEventListener("scroll",this.checkScrollBuffer))}reSort(t){return D(this,void 0,void 0,(function*(){this.isMounted&&(this.isLoading||this.dataBrowser.isBusy?this.sortChanged=!0:(this.isPageResetting=!0,this.sortChanged=!1,this.items=[],this.dataBrowser.sortBy=t,this.isPaginated?(this.useRouter&&(yield this.$router.push({query:Object.assign(Object.assign({},this.$route.query),{sortBy:t})})),this.$eventBus.$emit(b.Events.RESET_PAGE)):(this.unSelectAll(),this.dataBrowser.clear(),yield this.loadMore(),this.isPageResetting=!1)))}))}onScroll(){this.$eventBus.$emit(b.Events.SCROLL,this.id)}showVerifiedOverlay(t){return!(!this.containerOwnerId||!t.creatorVerifiedOrOrg||t.isPrivate)&&t.creatorId!==this.containerOwnerId}get isPaginated(){return this.currentPage>=0}get enableListView(){return this.$isAdmin||this.$inOrgContext}get noResults(){return 0===this.items.length}cardAction(t){this.menu&&this.menu.isOpen&&this.menu.dismiss();const e=t.event;switch(t.action){case b.ContextAction.RightClick:this.menu||(this.menu=new w.a({propsData:{menuItems:[{key:"remove",value:this.$t("Remove")}],selectCallback:this.menuEvent}})),this.menu.open({x:e.x,y:e.y});break;case b.ContextAction.Menu:alert(`CARD MENU: ${t.options.eventName} on ${t.item.title}`);break;default:this.actionCallback&&this.actionCallback(this.type,{action:t.action})}}menuEvent(t){this.actionCallback&&"remove"===t&&this.actionCallback(this.type,{action:b.ContextAction.Remove})}update(){this.checkScrollBuffer()}addItem(t){return this.isPaginated&&this.isPageFull?(this.dataBrowser.total+=1,this.$eventBus.$emit(b.Events.SET_UCM_ENTITY_COUNT,this.$parent,this.dataBrowser.total),this.updatePageCount(this.dataBrowser.total),Promise.resolve()):this.dataBrowser.add(t).then((t=>(this.$eventBus.$emit(b.Events.SET_UCM_ENTITY_COUNT,this.$parent,this.dataBrowser.total),this.isLoading=!1,this.items=t,this.sendState(!0),Promise.resolve())),(()=>(this.isLoading=!1,this.sendState(!0),Promise.reject(""))))}removeItem(t){return this.deleteCallback?(this.isLoading=!0,this.sendState(),this.deleteCallback(t).then((()=>this.removeItemFromPresenter(t)),(()=>(this.isLoading=!1,this.sendState(!0),Promise.reject(""))))):Promise.reject("Cannot delete single item without callback.")}removeItemFromPresenter(t){return this.dataBrowser.bulkDelete([t.id]).then((t=>(this.isLoading=!1,this.items=t,this.sendState(!0),this.updatePageCount(this.dataBrowser.total),this.$eventBus.$emit(b.Events.SET_UCM_ENTITY_COUNT,this.$parent,this.dataBrowser.total),Promise.resolve())),(()=>(this.isLoading=!1,this.sendState(!0),Promise.reject(""))))}removeBulkItems(t){return D(this,void 0,void 0,(function*(){if(!this.deleteBulkCallback)return Promise.reject("Cannot delete bulk items without callback.");this.isLoading=!0,this.sendState();try{yield this.deleteBulkCallback(t);try{let e=yield this.dataBrowser.bulkDelete(t);this.items=e}catch(t){return this.isLoading=!1,this.sendState(!0),Promise.reject()}return this.sendState(!0),this.updatePageCount(this.dataBrowser.total),this.$eventBus.$emit(b.Events.SET_UCM_ENTITY_COUNT,this.$parent,this.dataBrowser.total),this.isLoading=!1,Promise.resolve()}catch(t){return this.isLoading=!1,this.sendState(!0),Promise.reject()}}))}togglePrivacyOnBulkItems(t){return D(this,void 0,void 0,(function*(){if(!this.togglePrivacyOnBulkCallback)return Promise.reject("Cannot toggle privacy on bulk items without callback.");this.isLoading=!0,this.sendState();try{return yield this.togglePrivacyOnBulkCallback(t),this.items.forEach((e=>{let i=t.filter((t=>e.id===t.id))[0];if(i){let t=n()(i);return i.isPrivate=!i.isPrivate,this.$eventBus.$emit(C.m.EDITED_ITEM,{original:t,edited:i}),i}return e})),this.isLoading=!1,this.sendState(),Promise.resolve()}catch(t){return this.isLoading=!1,this.sendState(),Promise.reject()}}))}populateSelections(){for(let t of this.items)t.isSelected&&this.selections.push(t);return Promise.resolve()}selectAll(){const t=this.isPaginated?this.items:[];this.$eventBus.$emit(b.Events.ALL_MODEL_SELECTIONS_TOGGLED,this.id,!0,t,this.view)}unSelectAll(){const t=this.isPaginated?this.items:[];this.$eventBus.$emit(b.Events.ALL_MODEL_SELECTIONS_TOGGLED,this.id,!1,t,this.view)}isSelectable(t){return t.subtype!==g.b&&t.subtype!==g.a}loadMore(t=!1){return D(this,void 0,void 0,(function*(){this.currentLoads++,this.isLoading=!0,this.sendState();const e=t?this.dataBrowser.open(this.pageSize):this.dataBrowser.loadMore(this.pageSize);try{const t=yield e;this.currentLoads--,this.updatePageCount(this.dataBrowser.total),this.items=t,0===this.currentLoads&&(this.isLoading=this.isScrolling=!1,this.sendState(!0)),this.$eventBus.$emit(b.Events.SET_UCM_ENTITY_COUNT,this.$parent,this.dataBrowser.total),this.$nextTick((()=>{this.sortChanged?this.reSort(this.sortBy):this.checkScrollBuffer()}))}catch(t){this.isLoading=this.isScrolling=!1,this.sendState(!0),this.sortChanged?this.reSort(this.sortBy):this.sendDataLoadError()}}))}sendDataLoadError(){let t={text:m.c.DATA_LOAD_ERROR},e=new v.d(t,v.c.ERROR);this.$store.commit("ADD_STATUS_NOTIFICATION",e)}sendUnknownTypeError(){let t={text:this.$t("Sorry, that data cannot be retrieved.")},e=new v.d(t,v.c.ERROR);this.$store.commit("ADD_STATUS_NOTIFICATION",e)}sendDeleteError(){let t={text:this.deleteErrorText},e=new v.d(t,v.c.ERROR);this.$store.commit("ADD_STATUS_NOTIFICATION",e)}checkScrollBuffer(){if(this.isLoading||this.$isServer||!this.dataBrowser.isValidLoadRequest()||this.isPaginated)return;this.scrollHelper.getScrollRemainder(this.scrollTriggerRef)<this.scrollBufferMin&&(this.isScrolling=!0,this.sendState(),this.loadMore())}sendState(t=!1){let e=0;if(t&&(e=this.dataBrowser.synchCount||this.dataBrowser.total),this.actionCallback){const i={loading:this.isLoading,scrolling:this.isScrolling,total:t?e:null};this.actionCallback(this.type,{action:b.ContextAction.LoadState,options:i})}}};M=A([Object(l.b)({props:{actionCallback:Function,deleteBulkCallback:Function,togglePrivacyOnBulkCallback:Function,deleteCallback:Function,errorCallback:Function,filter:Object,pageGoto:{type:Boolean,default:!0},page:{type:Number},hasVerifiedContent:{type:Boolean,default:!1},containerOwnerId:{type:String,default:null},useRemove:{type:Boolean,default:!1},isOwnerCard:{type:Boolean,default:!1},largerRows:{type:Boolean,default:!1},useTwoColumnsForMobile:{type:Boolean,default:!1},alwaysSelectable:{type:Boolean,default:!1},listViewOpts:{type:Object,default:()=>({listHeaders:[],itemIndices:[],linkIndex:"",imageIndex:"",hasCheckbox:!0})},manageMode:{type:Boolean,default:!1},manageModeContext:{type:String,default:C.e.UNKNOWN},pageSize:{type:Number,default:b.PAGE_SIZES.SMALL},selectableCards:Boolean,hasSupplementalMenu:{type:Boolean,default:!0},sortBy:String,storeOptions:Object,type:String,uploadCardId:{type:String,default:"upload"},scrollTrigger:{type:String,default:""},dataOwner:Object,id:{type:String,default:"content-presenter"},isFolder:Boolean,collectionId:String,privateMode:{type:Boolean,default:null},showAuthorNames:{type:Boolean,default:!0},view:{type:String,default:b.CollectionElementViewTypes.GRID},useRouter:{type:Boolean,default:!0},useDirectApi:{type:Boolean,default:!1}},watch:{scrollTrigger:function(t){this.setScrollTrigger(t)}},components:{ContextMenu:w.a,CollectionElementGridCard:E.a,CollectionElementListView:O.a,IconPlus:s.a,NoResultsCard:T.a,SearchResultCard:I.a,BrandListCard:y.a,DragSelect:_.default,Pagination:S.a},data:()=>({CollectionElementViewTypes:b.CollectionElementViewTypes,BrowseTypes:b.BrowseTypes})})],M),e.a=M}).call(this,i(31))},798:function(t,e,i){"use strict";(function(t){var s=i(6),a=i.n(s),n=i(12),o=(i(847),i(3)),r=function(t,e,i,s){var a,n=arguments.length,o=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,s);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(o=(n<3?a(o):n>3?a(e,i,o):a(e,i))||o);return n>3&&o&&Object.defineProperty(e,i,o),o};let l=class ContextMenu extends a.a{constructor(){super(...arguments),this.isOpen=!1,this.mounted=!1}mountOnPage(){if(!this.mounted){let t=document.getElementById(this.parentId),e=document.createElement("div");t.appendChild(e),this.$mount(e),this.mounted=!0}}open(t){this.mountOnPage(),this.isOpen=!0,this.$isServer||(this.$nextTick((()=>this.positionMenu(t))),window.addEventListener("scroll",this.onScroll),window.addEventListener("mousedown",this.onMouseDown))}positionMenu(e){const i=window.innerHeight,s=window.innerWidth,a=t(this.$el);a.focus(),this.elRect=o.getElementRect(a),this.elRect.top=0,e.y+this.elRect.height<=i?this.elRect.top=e.y:this.elRect.top=e.y-this.elRect.height,this.elRect.left=0,e.x+this.elRect.width<=s?this.elRect.left=e.x:this.elRect.left=e.x-this.elRect.width,this.elRect.right=this.elRect.left+this.elRect.width,this.elRect.bottom=this.elRect.top+this.elRect.height,a.css({top:`${this.elRect.top}px`,left:`${this.elRect.left}px`,position:"fixed"})}selectItem(t){this.dismiss(),this.selectCallback&&this.selectCallback(t.key)}onScroll(){this.$nextTick((()=>this.dismiss()))}onMouseDown(t){(t.x<this.elRect.left||t.x>this.elRect.right||t.y<this.elRect.top||t.y>this.elRect.bottom)&&(t.stopImmediatePropagation(),t.preventDefault(),t.cancelBubble=!0,this.dismiss())}dismiss(){this.isOpen=!1,window.removeEventListener("scroll",this.onScroll),window.removeEventListener("mousedown",this.onMouseDown)}beforeDestroy(){this.isOpen&&this.dismiss(),this.$el.remove(),this.mounted=!1}};l=r([Object(n.b)({props:{menuItems:Array,parentId:{type:String,default:"app-modal-container"},selectCallback:Function}})],l),e.a=l}).call(this,i(31))},799:function(t,e,i){"use strict";var s=i(800),a=i.n(s);e.default=a.a},800:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s,a=i(682),n=(s=a)&&s.__esModule?s:{default:s},o=i(3);e.default={name:"drag-select",props:{selectorClass:{type:String,required:!0},border:{type:String,default:"2px dashed rgba(0, 162, 255, .6)"},background:{type:String,default:"rgba(0, 162, 255, .3)"},selections:{type:Array,default:function(){return[]}}},data:function(){return{mouseDown:!1,concat:!1,startPoint:null,endPoint:null,selectedItems:this.selections,reset:!1}},computed:{selectionBox:function(){if(!this.mouseDown||!this.startPoint||!this.endPoint)return{};var t=this.$el.getBoundingClientRect(),e=this.getScroll();return{left:Math.min(this.startPoint.x,this.endPoint.x)-t.left-e.x,top:Math.min(this.startPoint.y,this.endPoint.y)-t.top-e.y,width:Math.abs(this.startPoint.x-this.endPoint.x),height:Math.abs(this.startPoint.y-this.endPoint.y)}},selectionBoxStyling:function(){if(!this.mouseDown||!this.startPoint||!this.endPoint)return{};var t=this.selectionBox,e=t.left,i=t.top,s=t.width,a=t.height;return a<=6||s<=6?{}:{border:this.border,background:this.background,left:e+"px",top:i+"px",width:s+"px",height:a+"px"}}},methods:{getScroll:function(){return"undefined"==typeof document?{x:0,y:0}:{x:this.$el.scrollLeft||document.body.scrollLeft||document.documentElement.scrollLeft,y:this.$el.scrollTop||document.body.scrollTop||document.documentElement.scrollTop}},onMouseDown:function(t){2!==t.button&&(this.concat=t.shiftKey,this.mouseDown=!0,this.startPoint={x:t.pageX,y:t.pageY},window.addEventListener("mousemove",this.onMouseMove),window.addEventListener("mouseup",this.onMouseUp))},onMouseMove:function(t){if(this.mouseDown){var e=this.selectionBox.height*this.selectionBox.width;!this.isSelecting&&e>0&&(this.isSelecting=!0),this.endPoint={x:t.pageX,y:t.pageY}}},onMouseUp:function(t){var e=this;window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("mouseup",this.onMouseUp);var i=this.$children.length?this.$children:this.$el.children;if(i){var s=(0,n.default)(i).filter((function(t){return e.isItemSelected(t.$el||t)})).map((function(t){return t.collectionElement}));this.isSelecting&&(s.length>1?(this.selectedItems=this.concat?function(t){for(var e=t.concat(),i=0;i<e.length;++i)for(var s=i+1;s<e.length;++s)e[i]===e[s]&&e.splice(s--,1);return e}(this.selectedItems.concat(s)):s,this.$eventBus.$emit(o.Events.DRAG_SELECTION_CHANGED,this.selectedItems,this.concat,this.$parent.id)):this.$eventBus.$emit(o.Events.TOGGLE_CARD_SELECTION,s[0],this.$parent.id))}this.mouseDown=!1,this.concat=!1,this.isSelecting=!1,this.startPoint=null,this.endPoint=null},isItemSelected:function(t){if(t.classList.contains(this.selectorClass)){var e=this.selectionBox,i={top:t.offsetTop,left:t.offsetLeft,width:t.clientWidth,height:t.clientHeight};return!!(e.left<=i.left+i.width&&e.left+e.width>=i.left&&e.top<=i.top+i.height&&e.top+e.height>=i.top)}return!1}},updated:function(){this.selectedItems=this.selections},beforeDestroy:function(){window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("mouseup",this.onMouseUp)}}},801:function(t,e,i){"use strict";(function(t){var s=i(6),a=i.n(s),n=i(12),o=(i(849),i(3)),r=i(728),l=i(852),c=function(t,e,i,s){var a,n=arguments.length,o=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,s);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(o=(n<3?a(o):n>3?a(e,i,o):a(e,i))||o);return n>3&&o&&Object.defineProperty(e,i,o),o};let d=class Pagination extends a.a{constructor(){super(...arguments),this.page=this.firstPage,this.pageListBefore=!1,this.pageListAfter=!1,this.lowPage=0,this.highPage=0}beforeDestroy(){this.$eventBus.$off(o.Events.RESET_PAGE,this.onResetPage),document.removeEventListener("click",this.onDocumentClicked),document.removeEventListener("touchstart",this.onDocumentClicked)}created(){this.getPageRange(),this.updateQueryParams()}get firstPage(){return this.startPage<=0||this.startPage>=this.pageCount?0:this.startPage}mounted(){this.$eventBus.$on(o.Events.RESET_PAGE,this.onResetPage),document.addEventListener("click",this.onDocumentClicked),document.addEventListener("touchstart",this.onDocumentClicked)}nextPage(){this.page!==this.pageCount-1&&(this.page++,this.getPageRange(),this.updateQueryParams(),this.pageAction(this.page))}prevPage(){0!==this.page&&(this.page--,this.getPageRange(),this.updateQueryParams(),this.pageAction(this.page))}get showLowerEllipsis(){return this.lowPage>0}get showUpperEllipsis(){return this.highPage<this.pageCount-1}get showPrevious(){return this.pageCount>this.displayCount&&this.page>0}get showNext(){return this.pageCount>this.displayCount&&this.page<this.pageCount-1}onResetPage(){this.goToPage(0)}goToPage(t){t-1!==this.page&&(t>this.pageCount||t<1?this.page=0:this.page=t-1,this.getPageRange(),this.pageListBefore=!1,this.pageListAfter=!1,this.updateQueryParams(),this.pageAction(this.page))}updateQueryParams(){this.useRouter&&this.$router.replace({query:Object.assign(Object.assign({},this.$route.query),{pg:(this.page+1).toString()})})}getPagesNumbers(t){this.getPageRange();let e=[];for(let t=this.lowPage;t<=this.highPage;t++)e.push(t+1);return e}setPageListBefore(t){this.pageListBefore=this.enableGoto&&t}setPageListAfter(t){this.pageListAfter=this.enableGoto&&t}getPagesBefore(){let t=[];for(let e=this.lowPage-1;e>=0;e--)t.push(e+1);return t}getPagesAfter(){let t=[];for(let e=this.highPage+1;e<this.pageCount;e++)t.push(e+1);return t}getPageRange(){const t=Math.floor(this.displayCount/2);let e=this.page-t;e<0&&(e=0);let i=e+this.displayCount-1;i>=this.pageCount&&(i=this.pageCount-1,e=i-this.displayCount+1,e<0&&(e=0)),e!==this.lowPage&&(this.lowPage=e),i!==this.highPage&&(this.highPage=i)}onDocumentClicked(t){if(!this.enableGoto)return;const e=t.target.id;"lower-ellipse"===e&&this.pageListBefore?this.positionEllipsisDropdown("#lower-select","#lower-ellipse"):(this.pageListBefore=!1,this.concealEllipsisDropdown("#lower-select")),"upper-ellipse"===e&&this.pageListAfter?this.positionEllipsisDropdown("#upper-select","#upper-ellipse"):(this.pageListAfter=!1,this.concealEllipsisDropdown("#upper-select"))}positionEllipsisDropdown(e,i){const s=t(e),a=t(i),n=o.DropdownAlignments,r=o.anchorDropdown(a,n.CENTER,s);r.visibility="visible",s.css(r)}concealEllipsisDropdown(e){t(e).css({visibility:"hidden",left:"-150px"})}};d=c([Object(n.b)({components:{IconChevron:r.a,IconDoubleChevron:l.a},props:{pageAction:Function,pageCount:{type:Number,default:0},displayCount:{type:Number,default:5},enableGoto:{type:Boolean,default:!0},startPage:Number,useRouter:{type:Boolean,default:!0}},watch:{pageCount:function(t,e){t<e&&(this.page=0,this.updateQueryParams())},startPage:function(t){this.page=t}}})],d),e.a=d}).call(this,i(31))},802:function(t,e,i){"use strict";var s=i(6),a=i.n(s),n=i(674),o=i(760),r=function(t,e,i,s){var a,n=arguments.length,o=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,s);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(o=(n<3?a(o):n>3?a(e,i,o):a(e,i))||o);return n>3&&o&&Object.defineProperty(e,i,o),o};let l=class CategoryBreadcrumb extends a.a{constructor(){super(...arguments),this.name="category-breadcrumb"}};r([Object(n.d)()],l.prototype,"catDetails",void 0),l=r([Object(n.a)({components:{IconArrow:o.a}})],l);var c=l,d=i(28),u=Object(d.a)(c,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.catDetails.domainLabel?i("div",{staticClass:"categories"},[i("div",{staticClass:"breadcrumbs columns"},[i("a",{attrs:{id:"bc-cat-domain",href:t.catDetails.domainUrl}},[t._v(t._s(t.$tLabel({text:t.catDetails.domainLabel})))]),t._v(" "),t.catDetails.subdomainLabel?i("icon-arrow",{attrs:{direction:"right"}}):t._e(),t._v(" "),t.catDetails.subdomainLabel?i("a",{attrs:{id:"bc-cat-subdomain",href:t.catDetails.subdomainUrl}},[t._v(t._s(t.$tLabel({text:t.catDetails.subdomainLabel})))]):t._e(),t._v(" "),t.catDetails.categoryLabel?i("icon-arrow",{attrs:{direction:"right"}}):t._e(),t._v(" "),t.catDetails.categoryLabel?i("a",{attrs:{id:"bc-cat-category",href:t.catDetails.categoryUrl}},[t._v(t._s(t.$tLabel({text:t.catDetails.categoryLabel})))]):t._e()],1)]):t._e()}),[],!1,null,"386d8476",null);e.a=u.exports},803:function(t,e,i){"use strict";var s={name:"general-model-license"},a=i(28),n=Object(a.a)(s,(function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)}),[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"license-content",attrs:{id:"license-content"}},[i("h1",[t._v("3D Warehouse: General Model License Agreement")]),t._v(" "),i("p",[t._v("Last updated: March 18, 2015")]),t._v(" "),i("p",[i("strong",[t._v("© 2015 Trimble Inc.  All rights\n    reserved.")]),i("br"),t._v(" "),i("a",{attrs:{href:"http://www.trimble.com/copyrights.aspx",target:"_blank",rel:"noopener"}},[i("strong",[t._v("Copyright\n      & Trademarks")])])]),t._v(" "),i("p",[t._v("By purchasing, downloading, or using any Model created by a third party\n    developer or Trimble (as applicable, the "),i("strong",[t._v("“Developer”\n    ")]),t._v(") and made available to you from 3D Warehouse, you agree to the\n    terms of this General Model License Agreement ("),i("strong",[t._v("“License\n    Agreement”")]),t._v("). "),i("strong",[t._v("“Model”")]),t._v(" means the\n    individual, separate three-dimensional model of an object created,\n    designed and developed by a Developer including related content and\n    information about or included with the model and made available on\n    Trimble’s SketchUp 3D Warehouse ("),i("strong",[t._v("“3D Warehouse”")]),t._v(").")]),t._v(" "),i("h2",[t._v("1. License Grant")]),t._v(" "),i("ol",{attrs:{type:"A"}},[i("li",[i("span",{staticClass:"underline"},[t._v("Limited License to Models")])]),t._v(" "),i("p",[t._v("Subject to the provisions of this License Agreement (including, but not\n      limited to, the license restrictions set forth below), the Developer\n      grants you a limited, worldwide, royalty-free, non-transferable and\n      non-exclusive license (without the right to sublicense) to download,\n      reproduce, adapt, make derivative works based on, modify, publish,\n      publicly display and perform, distribute, make, sell, offer to sell,\n      import, and use Models for the uses expressly authorized below. Please\n      see "),i("a",{attrs:{href:"http://help.sketchup.com/en/article/3000049",target:"_blank",rel:"noopener"}},[t._v("the\n      3D Warehouse Terms of Use FAQs")]),t._v(" for examples of these authorized uses.\n      If you desire to use the Models in a manner not expressly authorized in\n      this License Agreement, you must submit a request to Trimble at\n      3dwarehouse-tou@sketchup.com and receive Trimble’s prior written\n      consent before doing so.")]),t._v(" "),i("li",[i("span",{staticClass:"underline"},[t._v("Authorized Uses")])]),t._v(" "),i("p",[t._v("The license to the Models granted above is limited to:")]),t._v(" "),i("ol",{attrs:{type:"i"}},[i("li",[t._v("Creating derivative works of Models ("),i("strong",[t._v("“Creations”")]),t._v("),\n        including by substantially modifying geometry, color, or other\n        attributes of the Models, provided that if you upload any Creation to\n        the 3D Warehouse, you will be a Developer under the 3D Warehouse Terms\n        of Use and such Creation shall constitute a “Model” under\n        the Terms of Use;")]),t._v(" "),i("li",[t._v("Incorporating or including Models and Creations into a larger work\n        or a deliverable for a third party ("),i("strong",[t._v("“Combined\n        Work”")]),t._v("), provided that the Combined Work includes\n        substantial additional content to the original Model;")]),t._v(" "),i("li",[t._v("Distributing Models, Creations, and Combined Works to third parties\n        for your business purposes (including for commercial purposes);")]),t._v(" "),i("li",[t._v("Making a reasonable number of copies of the Models, Creations, and\n        Combined Works in connection with the above uses; and")]),t._v(" "),i("li",[t._v("Using the Models as Trimble may approve from time to time in its\n        sole discretion.")])])]),t._v(" "),i("h2",[t._v("2. License Restrictions")]),t._v(" "),i("p",[t._v("You may not, and you may not permit anyone else to:")]),t._v(" "),i("ol",{attrs:{type:"i"}},[i("li",[t._v("remove, obscure or alter any product identification, proprietary,\n      copyright, trademark or other notices contained in the Model or\n      accessed in conjunction with or through the Model;")]),t._v(" "),i("li",[t._v("claim or misrepresent ownership of any Model which you did not create\n      or develop;")]),t._v(" "),i("li",[t._v("use the Model in violation of any applicable laws or regulations or\n      for any unlawful purpose;")]),t._v(" "),i("li",[t._v("sell, offer to sell, make or distribute any individual Model on a\n      standalone basis, unless you are the Developer of such Model or\n      otherwise authorized to do so by Trimble or the Developer;")]),t._v(" "),i("li",[t._v("use any Models, Creations or Combined Works in a manner that competes\n      with 3D Warehouse (including aggregating such content in another online\n      warehouse or similar product or service); or")]),t._v(" "),i("li",[t._v("aggregate any content (including Models) obtained from 3D Warehouse\n      for redistribution, or use or distribute any content obtained from\n      3D Warehouse in a mapping or geographic application or service, except\n      as expressly authorized under this License Agreement.")])]),t._v(" "),i("p",[t._v("You agree to prevent any unauthorized copying of the Models. You agree to\n    adhere to any posted instructions, directions or limitations on usage\n    and reproduction of Models. You will be responsible for any costs incurred\n    by Trimble or any other party (including attorneys’ fees) as a result\n    of your misuse of the Models.")]),t._v(" "),i("h2",[t._v("3. Google Geolocated Models")]),t._v(" "),i("p",[t._v("Notwithstanding anything to the contrary in this License Agreement, if\n    you are using a Google Geolocated Model, you are only licensed to\n    reproduce, adapt, modify, translate, publish, publicly perform, publicly\n    display, distribute and use such Model and you shall not use or incorporate\n    such Model in any application, product, service, database or repository.\n    "),i("strong",[t._v("“Google Geolocated Models”")]),t._v(" are Models\n    Distributed through 3D Warehouse by Google Inc. (or by Trimble on\n    Google’s behalf) that constitute a 3D model of an object, building\n    or other structure with a fixed location that is tagged or otherwise\n    associated with the actual geolocation of such object, building or other\n    structure.")]),t._v(" "),i("h2",[t._v("4. Proprietary Rights")]),t._v(" "),i("p",[t._v("All Models are licensed, not sold and any reference in this License\n    Agreement to selling or purchasing Models shall mean selling or purchasing\n    a license. You acknowledge and agree that:")]),t._v(" "),i("ol",{attrs:{type:"i"}},[i("li",[t._v("the Model contains proprietary and confidential information that is\n      protected by applicable intellectual property and other laws; and")]),t._v(" "),i("li",[t._v("the applicable Developer owns all right, title and interest in and to\n      the Model, including without limitation all Intellectual Property Rights\n      therein.")])]),t._v(" "),i("p",[i("strong",[t._v("“Intellectual Property Rights”")]),t._v(" means any and\n    all rights existing from time to time under patent law, copyright law,\n    trade secret law, trademark law, and any and all other proprietary rights,\n    and any and all applications, renewals, extensions and restorations thereof,\n    now or hereafter in force and effect worldwide.")]),t._v(" "),i("h2",[t._v("5. Termination of this License")]),t._v(" "),i("p",[t._v("You may terminate this License Agreement at any time by manually deleting\n    the Model from your computer.")]),t._v(" "),i("p",[t._v("If you violate this License Agreement, your authorization and license to\n    use the Model shall automatically terminate and you must immediately\n    discontinue use of and destroy any downloaded Model.")]),t._v(" "),i("p",[t._v("Sections 2 (License Restrictions), 4 (Proprietary Rights), 6 (Warranty\n    Disclaimer), 7 (Dangerous Activities) and 8 (Limitation of Liability) will\n    survive any termination or expiration of this License Agreement.")]),t._v(" "),i("h2",[t._v("6. Warranty Disclaimer")]),t._v(" "),i("p",[t._v("The Developer does not warrant that the Model is up-to-date, that the\n    Model will meet your needs, that any defects or errors will be corrected,\n    or that the Model is free of viruses or other harmful components. Your use\n    of the Model is at your sole risk.")]),t._v(" "),i("p",[t._v("THE MODEL IS PROVIDED “AS IS” AND “AS AVAILABLE”\n    WITH ALL FAULTS AND WITHOUT WARRANTY BY THE DEVELOPER OF ANY KIND, EITHER\n    EXPRESS OR IMPLIED, INCLUDING WARRANTIES OF MERCHANTABILITY, SATISFACTORY\n    QUALITY, TITLE, NONINFRINGEMENT OF INTELLECTUAL PROPERTY, OR FITNESS FOR A\n    PARTICULAR PURPOSE.")]),t._v(" "),i("h2",[t._v("7. Dangerous Activities")]),t._v(" "),i("p",[t._v("The Model is not intended for use in the operation of nuclear facilities,\n    life support systems, emergency communication, aircraft navigation or\n    communication systems, air traffic control systems, technical building or\n    structural design, power plant design or operation, or any other such\n    activities in which the failure of the Model could lead to death, personal\n    injury, or severe physical or environmental damages.")]),t._v(" "),i("h2",[t._v("8. Limitation of Liability")]),t._v(" "),i("p",[t._v("YOU EXPRESSLY UNDERSTAND AND AGREE THAT THE DEVELOPER SHALL NOT BE LIABLE\n    TO YOU FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, CONSEQUENTIAL OR\n    EXEMPLARY DAMAGES, INCLUDING BUT NOT LIMITED TO, DAMAGES FOR LOSS OF\n    PROFITS, GOODWILL, USE, DATA OR OTHER INTANGIBLE LOSSES (EVEN IF THE\n    DEVELOPER HAS BEEN ADVISED OF THE POSSIBILITY OF SUCH DAMAGES) RESULTING\n    FROM: (i) THE USE OR THE INABILITY TO USE THE MODEL; (ii) THE COST OF\n    PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; OR (iii) ANY OTHER MATTER\n    RELATING TO THE MODEL. THE FOREGOING LIMITATIONS SHALL APPLY\n    NOTWITHSTANDING A FAILURE OF ESSENTIAL PURPOSE OF ANY LIMITED REMEDY AND\n    TO THE FULLEST EXTENT PERMITTED BY LAW.")]),t._v(" "),i("p",[t._v("THESE LIMITATIONS AND EXCLUSIONS APPLY WITHOUT REGARD TO WHETHER DAMAGES\n    ARISE FROM BREACH OF CONTRACT OR WARRANTY, NEGLIGENCE OR ANY OTHER CAUSE\n    OF ACTION.  TO THE EXTENT THAT APPLICABLE LAW DOES NOT PROHIBIT SUCH\n    EXCLUSIONS AND LIMITATIONS, IN NO EVENT WILL THE DEVELOPER’S TOTAL\n    LIABILITY TO YOU FOR ALL DAMAGES, LOSSES AND CAUSES OF ACTION, WHETHER IN\n    CONTRACT, STRICT LIABILITY, TORT (INCLUDING NEGLIGENCE) OR OTHERWISE,\n    EXCEED THE AMOUNT YOU PAID FOR THE LICENSE TO THE MODEL.")]),t._v(" "),i("h2",[t._v("9. U.S. Government Restricted Rights")]),t._v(" "),i("p",[t._v("Use, duplication or disclosure of Models, related documentation, and\n    related computer software, computer software documentation, and technical\n    data by the U.S. Government is subject to the restrictions set forth in\n    this License Agreement, and as applicable, as provided in FAR 12.211 and\n    12.212, as amended, FAR 52.227-14 (ALT III) (May 2014), FAR 52.227-19\n    (DEC 2007), DFARS 227.7202-1(a) and (c) and 227.7202-3(a) (both effective\n    1995), DFARS 252.227-2013 (FEB 2014), DFARS 252.227-2014 (FEB 2014), and\n    DFARS 252.227-7015 (FEB 2014).")]),t._v(" "),i("h2",[t._v("10. Export Restrictions")]),t._v(" "),i("p",[t._v("The Model may be subject to export controls or restrictions by the United\n    States or other countries or territories. You agree to:")]),t._v(" "),i("ol",{attrs:{type:"i"}},[i("li",[t._v("comply with the requirements of the U.S. Department of Commerce (DOC)\n      Export Administration Regulations (EAR) (see\n      {sp}"),i("a",{attrs:{href:"http://www.bis.doc.gov",target:"_blank",rel:"noopener"}},[t._v("http://www.bis.doc.gov")]),t._v(") and all\n      applicable international, national, state, regional and local laws, and\n      regulations, including without limitation any applicable import and use\n      restrictions,")]),t._v(" "),i("li",[t._v("not export, or re-export, directly or indirectly, the Model to any\n      country outlined in the EAR, nor to any person or entity on the DOC\n      Denied Persons, Entities and Unverified Lists, the U.S. Department of\n      State’s Debarred List, or on the U.S. Department of Treasury’s\n      lists of Specially Designated Nationals, Specially Designated Narcotics\n      Traffickers, or Specially Designated Terrorists, ")]),t._v(" "),i("li",[t._v("not export, or re-export the Model to any military entity not approved\n      under the EAR, or to any other entity for any military purpose, and ")]),t._v(" "),i("li",[t._v("not license, sell, provide or distribute the Model for use in\n      connection with chemical, biological, or nuclear weapons or missiles\n      capable of delivering such weapons.")])]),t._v(" "),i("h2",[t._v("11. Governing Law")]),t._v(" "),i("p",[t._v("This License Agreement and all related actions and proceedings is\n    governed by the laws of the state of residence of the Developer and the\n    United States without regard to conflicts of laws provisions thereof, and\n    without regard to the United Nations Convention on the International Sale\n    of Goods.  The jurisdiction and venue for actions related to the subject\n    matter of this License Agreement shall be the state and federal courts\n    located in the county of residence of the Developer, and each party hereby\n    submits to the personal jurisdiction of such courts.")])])}],!1,null,null,null);e.a=n.exports},804:function(t,e,i){"use strict";var s={name:"terms-of-service"},a=i(28),n=Object(a.a)(s,(function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)}),[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"terms-content"},[i("h1",[t._v("3D Warehouse: Terms of Use")]),t._v(" "),i("p",[t._v("Last updated: April 1, 2017")]),t._v(" "),i("p",[i("strong",[t._v("© 2021 Trimble Inc.  All rights\n    reserved.")]),i("br"),t._v(" "),i("a",{attrs:{href:"http://www.trimble.com/copyrights.aspx",target:"_blank",rel:"noopener"}},[i("strong",[t._v("Copyright\n      & Trademarks")])])]),t._v(" "),i("p",[t._v("No portion of this web site or the service may be reproduced in any form,\n  or by any means, except as authorized below, without prior written\n  permission from Trimble Inc.")]),t._v(" "),i("h2",[t._v("1. Acceptance of Terms Through Use; Changes to Terms of Use")]),t._v(" "),i("p",[i("strong",[t._v("Welcome to 3D Warehouse.")]),t._v(" Trimble Inc.\n  (“"),i("strong",[t._v("Trimble")]),t._v("”) makes available 3D Warehouse and\n  any other element of this website or subdomains (collectively, "),i("strong",[t._v("\n  “3D Warehouse”")]),t._v(") only upon your acceptance of these\n  Terms of Use ("),i("strong",[t._v("“Terms of Use”")]),t._v(").")]),t._v(" "),i("p",[t._v("PLEASE READ THESE TERMS OF USE CAREFULLY BEFORE USING OR ACCESSING 3D\n  WAREHOUSE OR DOWNLOADING OR ACCESSING MODELS. YOUR USE OF 3D WAREHOUSE\n  INDICATES YOUR AGREEMENT TO BE BOUND BY ALL TERMS, CONDITIONS, AND NOTICES\n  CONTAINED OR REFERENCED IN THE CURRENTLY POSTED TERMS OF USE. IF YOU DO NOT\n  AGREE TO THESE TERMS OF USE, YOU MAY NOT USE 3D WAREHOUSE.")]),t._v(" "),i("p",[i("strong",[t._v("Changes to Terms:")]),t._v(" Please note that Trimble reserves the\n  right to update and change these Terms of Use from time to time in its\n  discretion and will post a notice on 3D Warehouse when these Terms of Use\n  have changed. Please also check these Terms of Use periodically for changes.\n  Your continued use of 3D Warehouse following the posting of any changes to\n  these Terms of Use will confirm your acceptance of those changes. These\n  Terms of Use constitute a binding, legal agreement between you and Trimble\n  and are intended to have the same force and effect as if you signed them.\n  3D Warehouse and other services are only available to persons who can form\n  legally binding contracts under applicable law. If you do not qualify, you\n  may not use 3D Warehouse. A current copy of these Terms of Use can be\n  accessed and viewed at any time from the home page of 3D Warehouse or at "),i("a",{attrs:{href:"https://3dwarehouse.sketchup.com/tos.html#terms",target:"_blank",rel:"noopener"}},[t._v("\n    https://3dwarehouse.sketchup.com/tos.html")]),t._v(".")]),t._v(" "),i("h2",[t._v("2. Use of 3D Warehouse")]),t._v(" "),i("p",[t._v("Subject to these Terms of Use, you may use 3D Warehouse to view, search,\n    locate, download, and Distribute Models. Trimble reserves the right to\n    refuse access to 3D Warehouse to anyone at any time in its sole\n    discretion.")]),t._v(" "),i("p",[i("strong",[t._v("“Models”")]),t._v(" are individual, separate\n    three-dimensional models of objects created, designed, and developed by\n    you or a third-party (a "),i("strong",[t._v("“Developer”")]),t._v(") or by\n    Trimble and include related content and information about or included\n    with the Models. Trimble is not responsible for any Developer Models.\n    "),i("strong",[t._v(" “Distribute”")]),t._v(" means to submit, upload, distribute, sell\n    (upon Trimble's implementation of payment systems) and/or license Models\n    you have created to end users.")]),t._v(" "),i("p",[t._v("Currently all Models are made available and Distributed through 3D\n    Warehouse free of charge. If Trimble implements a payment system, Trimble\n    will post additional terms to these Terms of Use describing the ways in\n    which Models may be purchased and sold through 3D Warehouse.")]),t._v(" "),i("p",[t._v("To download and use the Models, you need software that is compatible\n    with the Model (for which Trimble or the applicable manufacturer may\n    charge a separate fee) and a computer device with Internet access; such\n    requirements may change from time-to-time and are your responsibility.")]),t._v(" "),i("h2",[t._v("3. User Accounts")]),t._v(" "),i("ol",[i("li",{attrs:{type:"A"}},[i("span",{staticClass:"underline"},[t._v("Account Creation.")])]),t._v(" "),i("p",[t._v("Upon signing in to 3D Warehouse the first time, you need to create an\n      account. Currently, you may create a 3D Warehouse account by signing in\n      with a valid Google ID (a username/password combination used to access\n      your Google account) or Trimble ID (a username/password combination\n      issued by Trimble). To sign in using a Google ID, you must authorize\n      Google to share account information with Trimble and you must maintain\n      your Google ID in good standing subject to any separate user terms\n      between you and Google. The authentication information Google provides\n      to Trimble or you provide to Trimble may contain personally identifiable\n      information, which will be handled by Trimble as described below, and we\n      may publicly display the username and profile photo (if any) associated\n      with your Trimble or Google user account.")]),t._v(" "),i("p",[t._v("You are entirely responsible for maintaining the confidentiality of\n      your password and account credentials, and you agree that Trimble may\n      terminate your access to 3D Warehouse and other services if you fail to\n      do so. Additionally, you are fully responsible for any and all\n      activities that occur under your account. You agree to notify Trimble\n      immediately of any unauthorized use of your account or any other breach\n      of security. Trimble will not be liable for any loss that you may incur\n      as a result of someone else using your password or account, either with\n      or without your knowledge.")]),t._v(" "),i("li",{attrs:{type:"A"}},[i("span",{staticClass:"underline"},[t._v("Your Personal Information.")])]),t._v(" "),i("p",[t._v("Personally identifiable information that you may submit for the\n      purpose of receiving products or services or for creating or\n      authenticating your user account will be handled in accordance with\n      Trimble’s online "),i("a",{attrs:{href:"http://www.trimble.com/privacy.aspx",target:"_blank",rel:"noopener"}},[t._v("\n      Privacy Statement")]),t._v(", and may be used or shared by Trimble as necessary\n      to fulfill your access to a Model or provide any related services or as\n      otherwise set forth in these Terms of Use.")])]),t._v(" "),i("h2",[t._v("4. Age Restrictions")]),t._v(" "),i("p",[t._v("You may not register for a user account or use 3D Warehouse to Distribute\n    Models if you are under 13 years of age unless we have verified parental\n    consent.")]),t._v(" "),i("h2",[t._v("5. Third Party Models, Products and Services")]),t._v(" "),i("p",[t._v("Some of the 3D Warehouse Materials (defined below in Section 10) may\n    be provided or owned by third parties. Trimble does not endorse,\n    guarantee or provide a warranty for the third party 3D Warehouse\n    Materials and may or may not review them for compliance with law\n    (copyright, patent or any other laws) or Trimble policies. Use of a\n    third party Model is governed by the License Terms Applicable to Models\n    set forth below. TRIMBLE DOES NOT MAKE ANY REPRESENTATIONS OR WARRANTIES\n    AND SPECIFICALLY DISCLAIMS ANY LIABILITY WITH REGARD TO MODELS POSTED BY\n    THIRD PARTIES (AND ANY ACTION YOU TAKE BASED ON THEM).")]),t._v(" "),i("h2",[t._v("6. Trimble Proprietary Products and Services")]),t._v(" "),i("p",[t._v("Trimble’s obligations with respect to its own, proprietary\n    products and services are governed solely by the terms and conditions\n    of agreements under which Trimble provides them to you. If you obtain a\n    Trimble proprietary product or service through 3D Warehouse that is\n    provided without an agreement, that product or service is provided\n    “AS-IS” with no warranties whatsoever, express or implied,\n    and your use of that Trimble product or service is at your own risk.")]),t._v(" "),i("p",[t._v("Nothing herein grants you any license, rights, title or interest in or\n    to the Trimble SketchUp software which is licensed to you pursuant to a\n    separate agreement ("),i("strong",[t._v("“SketchUp License Agreement”\n    ")]),t._v("). Trimble may update, fix or upgrade the SketchUp software\n    from time-to-time without notice and such changes may affect compatibility\n    or interoperability of your Model. Your right, if any, to receive such\n    updates, fixes or upgrades is dependent upon and governed by the terms of\n    the applicable SketchUp License Agreement between you and Trimble.")]),t._v(" "),i("h2",[t._v("7. License Terms Applicable to Models")]),t._v(" "),i("p",[t._v("Your use of a Model you download or use is governed by these Terms of\n    Use and the General Model License available "),i("a",{attrs:{href:"#license"}},[t._v("here ")]),t._v("\n    ("),i("strong",[t._v("“General Model License”")]),t._v("). Any Model provided\n    under the General Model License is provided “AS-IS” with no\n    warranties whatsoever, express or implied, and your use of that Model is\n    at your own risk.")]),t._v(" "),i("h2",[t._v("8. Availability of Models")]),t._v(" "),i("p",[t._v("Trimble or any Developer may modify, update or remove any Model they have\n    published to 3D Warehouse at any time in their discretion. "),i("strong",[t._v("Trimble\n    may also remove any Model from 3D Warehouse if it discovers that such\n    Model (or related Developer) violates these Terms of Use, any other\n    Trimble policy or applicable law.")])]),t._v(" "),i("h2",[t._v("9. Distribution of Models through 3D Warehouse")]),t._v(" "),i("ol",{attrs:{type:"A"}},[i("li",[i("span",{staticClass:"underline"},[t._v("Qualifications and Distribution Terms.")])]),t._v(" "),i("p",[t._v("Subject to your compliance with these Terms of Use and any applicable\n      Developer guidelines, qualifications and requirements of Trimble for\n      Models ("),i("strong",[t._v("“Qualifications”")]),t._v("), you may\n      Distribute your Models to end users through 3D Warehouse, and you will\n      then be deemed a “Developer” under these Terms. Trimble\n      is not responsible for any Models you Distribute.")]),t._v(" "),i("p",[t._v("Trimble may in its discretion set and revise from time-to-time\n      Qualifications regarding the criteria and procedures for Trimble to\n      accept and authorize each Model submitted for Distribution through\n      3D Warehouse. Trimble may choose to waive or impose additional\n      Qualifications for a particular Model in its discretion. Trimble may\n      decline to make a Model available on 3D Warehouse for any reason or\n      no reason.")]),t._v(" "),i("p",[t._v("Until such time as Trimble has implemented payment systems for 3D\n      Warehouse, you are free to charge for Models you Distribute via\n      other channels, provided that you are solely responsible for any such\n      activities. In such cases, you shall be solely liable for processing\n      end user payments, administration of applicable refunds or chargebacks\n      and remittal and collection of all applicable taxes. If Trimble\n      implements payment systems for 3D Warehouse, your sale of Models shall\n      be subject to the subsequently released version of these Terms of Use.")]),t._v(" "),i("p",[t._v("You may remove a Model you previously posted from 3D Warehouse at any\n      time provided that removal shall not affect the license granted to end\n      users who downloaded that Model before you removed it and those\n      licenses will continue under the terms of the General Model License.\n      Although Trimble will not continue Distribution of your Models after\n      you remove them, Trimble may retain archive copies for record keeping\n      purposes.")]),t._v(" "),i("li",[i("span",{staticClass:"underline"},[t._v("Grant of Licenses.")]),t._v(" Distributors grant\n      two licenses to their Models as follows:")]),t._v(" "),i("p",[i("strong",[t._v("To Trimble.")]),t._v(" For all Models you Distribute on or\n      through 3D Warehouse, you hereby grant to Trimble a nonexclusive,\n      worldwide, perpetual, transferrable (with the right to sublicense\n      through multiple tiers), irrevocable license (under all applicable\n      intellectual property rights) to copy, publicly perform and display,\n      use, distribute, create derivative works of, store, promote, market,\n      support, transmit, and otherwise make available on or through 3D\n      Warehouse each Model and related content, including without limitation\n      as necessary to promote, operate and make available 3D Warehouse and any\n      related Trimble products or services. The foregoing license includes the\n      rights for Trimble to make available Models (or any parts, related\n      content or derivative works thereof) through Trimble’s partners and\n      sublicensees.")]),t._v(" "),i("p",[i("strong",[t._v("To the End User.")]),t._v(" You will make your Models available\n      to end users pursuant to the General Model License.")]),t._v(" "),i("li",[i("span",{staticClass:"underline"},[t._v("Title and Ownership.")])]),t._v(" "),i("p",[t._v("As between you and Trimble, except for the limited license rights\n      granted herein, all right, title and interest in and to the Models you\n      Distribute shall remain yours.")]),t._v(" "),i("li",[i("span",{staticClass:"underline"},[t._v("Trimble Not Responsible for Your Models.")])]),t._v(" "),i("p",[t._v("Trimble does not and will not endorse, guarantee or provide a warranty\n      for your Models and may or may not review them for compliance with law\n      (copyright, patent or any other laws) or Trimble policies or\n      Qualifications. Distribution of your Models on 3D Warehouse is at your\n      own risk.")]),t._v(" "),i("li",[i("span",{staticClass:"underline"},[t._v("Representations and Warranties.")])]),t._v(" "),i("p",[t._v("You represent and warrant that you have all intellectual property\n      rights, including patent, copyright, trademark, trade secret, right of\n      privacy or publicity or other proprietary rights, in and to each Model\n      you Distribute and its related content. If your Model or content\n      includes third-party materials or content, you represent and warrant\n      that you have the right to Distribute the third-party materials or\n      content or otherwise grant Trimble all rights and licenses to such\n      Model set forth in subsection (B) above. You shall not Distribute\n      Models unless you are the owner of such Models and/or have all the\n      necessary rights or permissions from applicable third parties.")])]),t._v(" "),i("h2",[t._v("10. 3D Warehouse Materials; Use Restrictions")]),t._v(" "),i("ol",{attrs:{type:"A"}},[i("li",[i("span",{staticClass:"underline"},[t._v("Proprietary Rights.")])]),t._v(" "),i("p",[t._v("Trimble or its licensors reserve all right, title and interest\n      (including intellectual property rights) in and to 3D Warehouse and the\n      content and other information available on 3D Warehouse (excluding User\n      Communications (defined below)) and the Models (except the Models you\n      have posted) (collectively, "),i("strong",[t._v("“3D Warehouse Materials”\n      ")]),t._v("). Trimble’s rights are protected by worldwide copyright\n      laws and international copyright treaties, as well as other intellectual\n      property laws and treaties. All rights not expressly granted under\n      these Terms of Use are retained by Trimble or its licensors.\n      Unauthorized use of 3D Warehouse Materials may violate copyright,\n      trademark and other intellectual property rights and laws. Models and\n      any other software made available on 3D Warehouse are licensed, not\n      sold and any reference in these Terms of Use to selling or purchasing\n      software or Models shall mean selling or purchasing a license.")]),t._v(" "),i("li",[i("span",{staticClass:"underline"},[t._v("Use Restrictions")])]),t._v(" "),i("ol",{attrs:{type:"i"}},[i("p",[t._v("You may not:")]),t._v(" "),i("li",[t._v("Modify 3D Warehouse Materials (other than your User Communications\n        or Models or content you posted) or use them for any public display,\n        performance, sale, rental or for any commercial purpose except as\n        expressly authorized in these Terms of Use or the General Model\n        License;")]),t._v(" "),i("li",[t._v("Decompile, reverse engineer, or disassemble 3D Warehouse Materials\n        that is software (except and only to the extent permitted by\n        applicable law, and then only with advance notice to Trimble);")]),t._v(" "),i("li",[t._v("Remove or modify any copyright or other proprietary or legal\n        notices from 3D Warehouse Materials; or")]),t._v(" "),i("li",[t._v("Redistribute or transfer 3D Warehouse Materials to another person\n        except as expressly authorized in these Terms of Use or the General\n        Model License.")])]),t._v(" "),i("li",[i("span",{staticClass:"underline"},[t._v("Conduct")])]),t._v(" "),i("ol",{attrs:{type:"i"}},[i("p",[t._v("As a condition of your use of 3D Warehouse you agree that you will\n        not use 3D Warehouse Materials for any purpose that is unlawful or\n        prohibited by these Terms of Use, or any other Trimble policy\n        ("),i("strong",[t._v("“Misuse”")]),t._v("). You will be responsible for\n        any costs incurred by Trimble or any other party (including\n        attorneys’ fees) as a result of your Misuse of 3D Warehouse\n        Materials.")]),t._v(" "),i("p",[t._v("Misuse includes, but is not limited to:")]),t._v(" "),i("li",[t._v("Using 3D Warehouse Materials to disseminate or convey inappropriate,\n        defamatory, obscene, salacious, or unlawful information, images or\n        content; or to harass, stalk, threaten or otherwise violate the legal\n        rights of others;")]),t._v(" "),i("li",[t._v("Using 3D Warehouse Materials in such a manner so as to interfere\n        unreasonably with its use by others;")]),t._v(" "),i("li",[t._v("Attempting or assisting another to access, alter, or interfere with\n        the communications and/or information of another user;")]),t._v(" "),i("li",[t._v("Scraping information from 3D Warehouse;")]),t._v(" "),i("li",[t._v("Account fraud or unauthorized access of an account;")]),t._v(" "),i("li",[t._v("Uploading, or otherwise making available, any Models or any other\n        3D Warehouse Materials, including files that contain text, images,\n        photographs, software or other content owned by others, in any manner\n        that infringes any copyright, trademark, patent, trade secret or other\n        proprietary right of others;")]),t._v(" "),i("li",[t._v("Advertising, offering to sell or buy goods (other than Models, if\n        applicable), or using 3D Warehouse Materials for business promotional\n        purposes, except as expressly permitted by Trimble or the General\n        Model License;")]),t._v(" "),i("li",[t._v("Violating any code of conduct associated with 3D Warehouse, or any\n        applicable laws or regulations;")]),t._v(" "),i("li",[t._v("Taking any action that imposes an unreasonable or disproportionately\n        large load on 3D Warehouse infrastructure; or uploading files that\n        contain viruses, Trojan horses, worms, or other similar software or\n        programs that cause damage to computers or property of others; or")]),t._v(" "),i("li",[t._v("Using any messaging functionality made available through 3D\n        Warehouse to send communications which would violate applicable law\n        (including, but not limited to, the CAN-SPAM Act of 2003) or which\n        contain content or materials of the type prohibited in subsections (i),\n        (vi), (vii) or (ix) above.")])])]),t._v(" "),i("h2",[t._v("11. User Posted Materials")]),t._v(" "),i("p",[t._v("3D Warehouse may include feedback, ratings and review mechanisms,\n    messaging functionality and other ways in which users can post, upload,\n    interact with, share and submit materials (e.g., text, images, data,\n    etc.) (collectively, "),i("strong",[t._v("“User Communications”")]),t._v(").\n    USER COMMUNICATIONS WILL BE CONSIDERED NON-CONFIDENTIAL AND NON-PROPRIETARY\n    AND BY POSTING, UPLOADING, INPUTTING, OPTING TO SHARE, OR OTHERWISE\n    SUBMITTING ANY USER COMMUNICATIONS TO 3D WAREHOUSE, YOU UNDERSTAND AND\n    AGREE THAT:")]),t._v(" "),i("ol",{attrs:{type:"i"}},[i("li",[t._v("You are granting Trimble, its designees and sub-licensees, consent and\n      permission to use your User Communications, including without limitation,\n      worldwide, royalty-free, non-exclusive, perpetual license rights with\n      right of sublicense to disclose, reproduce, store, display and perform\n      (publicly or otherwise), publish, adapt, modify, transmit, distribute,\n      have distributed, edit, translate, reformat, create derivative works\n      based on and otherwise use such User Communications; and")]),t._v(" "),i("li",[t._v("You represent and warrant that you own or otherwise control all of the\n      rights to your User Communications and that your User Communications\n      will not infringe or violate the rights of any third party.\n\n      "),i("p",[t._v("If you use the\n      “Contact Me” functionality provided by 3D Warehouse to send\n      private messages to other users, you acknowledge and agree that those\n      other users will be able to see your name and email address in the “reply\n      to” field of your message, view the contents of your message and\n      respond directly to the email address associated with your account.")])])]),t._v(" "),i("p",[t._v("Trimble shall have no obligation to monitor User Communications\n    (including other users’ responses to private messages).")]),t._v(" "),i("p",[t._v("Trimble reserves the right at all times to disclose any information as\n    Trimble deems necessary to satisfy any applicable law, regulation, legal\n    process or governmental request or to review, edit, refuse to post, or to\n    remove any User Communications, in whole or in part, in Trimble’s\n    sole discretion.")]),t._v(" "),i("p",[t._v("TRIMBLE DOES NOT CONTROL OR ENDORSE THE CONTENT, MESSAGES OR INFORMATION\n    FOUND IN ANY USER COMMUNICATIONS AND, THEREFORE, TRIMBLE MAKES NO\n    REPRESENTATIONS OR WARRANTIES REGARDING USER COMMUNICATIONS AND\n    SPECIFICALLY DISCLAIMS ANY LIABILITY WITH REGARD TO THEM (AND ANY ACTION\n    YOU TAKE BASED ON THEM) AND ANY ACTIONS OR CLAIMS RESULTING FROM YOUR\n    PARTICIPATION IN ANY SERVICES.")]),t._v(" "),i("p",[t._v("Please note: Trimble has no obligation to remove any User Communications\n    that you have opted to input and share absent Trimble’s receipt of\n    your written request to do so. You may submit a request for removal\n    of your shared User Communications from the applicable forum or webpage\n    to the email address designated for such purpose or to\n    3dwarehouse-tou+comms@sketchup.com. Trimble does not guarantee that it\n    will be able to remove all instances of your User Communications and\n    removal will not affect any licenses granted in connection with your User\n    Communications prior to the time of their removal.")]),t._v(" "),i("h2",[t._v("12. Ratings and Reviews of Models")]),t._v(" "),i("ol",{attrs:{type:"A"}},[i("li",[i("span",{staticClass:"underline"},[t._v("In General.")])]),t._v(" "),i("p",[t._v("3D Warehouse may have functionality to allow you to rate and provide\n      reviews of or comments about Models, including by indicating you\n      “like” a Model through a button, widget or similar\n      mechanism, all of which constitute User Communications hereunder. To\n      be useful to other users, your reviews and comments must be made in\n      good faith after reasonable evaluation of a Model. In addition, reviews\n      may not contain content that constitutes Misuse, that is false,\n      fraudulent or misleading or that impersonates any other person or entity,\n      including any of Trimble’s employees. All ratings and reviews must\n      comply with these Terms of Use, and Trimble may take down ratings or\n      reviews or block reviewers in the event of a violation of these Terms\n      of Use.")]),t._v(" "),i("li",[i("span",{staticClass:"underline"},[t._v("Terms Specific to Developers.")])]),t._v(" "),i("p",[t._v("Trimble shall have no responsibility for ratings or to monitor ratings,\n      but may use the ratings to determine the placement of Models, to change\n      the placement from time-to-time, or to remove Models in Trimble’s\n      discretion.")]),t._v(" "),i("p",[t._v("Any action you take based on any rating is at your own risk and in your\n      sole discretion.")]),t._v(" "),i("p",[t._v("If you post a review of your own Model, you must disclose your identity\n      and the fact that the Model being reviewed is your Model. If you pay or\n      otherwise incent others to post a review of your Model, you must require\n      that party to disclose that fact in their review. If you post a review\n      of a competitor’s Model, you must disclose your identity and the\n      fact that you publish a competitive Model.")])]),t._v(" "),i("h2",[t._v("13. Aggregated Information; Feedback")]),t._v(" "),i("p",[t._v("In addition to Trimble’s other rights, Trimble may collect\n    aggregated information regarding your interaction with 3D Warehouse and\n    Models (excluding any personally identifiable information) and may\n    exploit and use such aggregated information for any purpose without\n    restriction. Trimble may freely use, copy, disclose, prepare derivative\n    works based on, publicly perform or display, distribute and exploit any\n    feedback, bug reports or suggestions you provide to Trimble (including\n    in User Communications) regarding 3D Warehouse Materials or other Trimble\n    products and services, without any obligation, royalty or restriction\n    based on intellectual property rights or otherwise.")]),t._v(" "),i("h2",[t._v("14. Termination Rights for Violations; Removal of Content and\n    Discontinuation of Service")]),t._v(" "),i("p",[t._v("Trimble may suspend your account or stop providing Models or services to\n    you if Trimble is investigating suspected misconduct or Misuse. If you or\n    your Models violate these Terms of Use, Qualifications (if applicable), or\n    applicable Trimble policies or laws, or interfere with 3D Warehouse in any\n    way:")]),t._v(" "),i("ol",{attrs:{type:"i"}},[i("li",[t._v("Trimble reserves the right to seek all remedies available in law and\n      equity for such violations;")]),t._v(" "),i("li",[t._v("Trimble may terminate these Terms of Use with you, remove your Models\n      from 3D Warehouse, and/or suspend or terminate your account;")]),t._v(" "),i("li",[t._v("Any authorization and license you have to use and/or Distribute the\n      Models and to use or access other 3D Warehouse Materials shall\n      automatically terminate; and")]),t._v(" "),i("li",[t._v("You must immediately discontinue use of and destroy any downloaded\n      Models or other 3D Warehouse Materials, including in any Combined\n      Work.")])]),t._v(" "),i("p",[t._v("Trimble further reserves the right to remove 3D Warehouse Materials or\n    discontinue services available on 3D Warehouse with or without notice, to\n    terminate your authorization to use any services or 3D Warehouse Materials,\n    to terminate your password, if any, and to delete any one or more of your\n    related accounts, for any reason or for no reason, immediately and at any\n    time. Trimble accepts no responsibility for such deleted or removed 3D\n    Warehouse Materials.")]),t._v(" "),i("h2",[t._v("15. 3D Warehouse Messaging")]),t._v(" "),i("p",[t._v("You agree that Trimble may contact you with messages sent from time to\n    time through your personal computer, mobile phone or other wireless\n    device delivered using SMS-based text messages, email messages or other\n    communication mechanisms, in situations when such contact is required to\n    respond to your User Communications, send you service announcements or\n    administrative messages, inform you about material events concerning you\n    and your account, or send marketing communications describing new 3D\n    Warehouse features or highlight featured content to you. You may opt out of\n    those Trimble marketing communications at any time by updating your\n    account preferences.")]),t._v(" "),i("h2",[t._v("16. Indemnification")]),t._v(" "),i("p",[t._v("Upon a request by Trimble, you agree to defend, indemnify and hold\n    harmless Trimble and its affiliates, agents, suppliers and third parties,\n    and its and their employees, contractors, officers and directors from all\n    liabilities, claims and expenses, including attorneys’ fees, that\n    arise from:")]),t._v(" "),i("ol",{attrs:{type:"i"}},[i("li",[t._v("Your use or misuse of 3D Warehouse Materials")]),t._v(" "),i("li",[t._v("Distribution of your Models")]),t._v(" "),i("li",[t._v("Violation of the Qualifications")]),t._v(" "),i("li",[t._v("Intellectual property infringement by your Models")]),t._v(" "),i("li",[t._v("Your use of any Models you have downloaded")]),t._v(" "),i("li",[t._v("Your breach of the General Model License associated with Models you\n      have downloaded")])]),t._v(" "),i("p",[t._v("Trimble reserves the right, at its own expense, to assume the exclusive\n    defense and control of any matter otherwise subject to indemnification by\n    you, in which event you agree to cooperate with Trimble in asserting any\n    available defenses. You may not settle any claim without the prior\n    written consent of Trimble in each case.")]),t._v(" "),i("h2",[t._v("17. No Exclusivity")]),t._v(" "),i("p",[t._v("Trimble does not represent or warrant that Models developed by Trimble or\n    submitted by Developers will not contain features or functionality that\n    are the same as or similar to those in other Models available on 3D\n    Warehouse and neither these Terms of Use nor your participation in 3D\n    Warehouse limits Trimble’s or any Developer’s right to develop\n    or have developed for its products, concepts, systems or techniques that\n    are similar to or compete with any Model or any other products, concepts,\n    systems or techniques contemplated by or embodied in information you\n    disclose to Trimble. Trimble does not grant you exclusivity of any kind.")]),t._v(" "),i("h2",[t._v("18. Warranty Disclaimer")]),t._v(" "),i("p",[t._v("Trimble assumes no responsibility for the accuracy of 3D Warehouse\n    Materials; nor does Trimble warrant that 3D Warehouse Materials are\n    up-to-date, that 3D Warehouse Materials will meet your needs, that 3D\n    Warehouse Materials will be available at any particular time or location,\n    that any defects or errors will be corrected, or that 3D Warehouse\n    Materials are free of viruses or other harmful components. Your use of\n    3D Warehouse Materials and Distribution of Models is at your sole risk.\n    Mention of non-Trimble products or services is for information purposes\n    only and constitutes neither an endorsement nor a recommendation.")]),t._v(" "),i("p",[t._v("3D WAREHOUSE MATERIALS ARE PROVIDED “AS IS” AND “AS\n    AVAILABLE” WITH ALL FAULTS AND WITHOUT WARRANTY BY TRIMBLE OF ANY\n    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WARRANTIES OF MERCHANTABILITY,\n    SATISFACTORY QUALITY, TITLE, NONINFRINGEMENT OF INTELLECTUAL PROPERTY, OR\n    FITNESS FOR A PARTICULAR PURPOSE.")]),t._v(" "),i("h2",[t._v("19. Limitation of Liability")]),t._v(" "),i("p",[t._v("IN NO EVENT SHALL TRIMBLE, ITS SUPPLIERS OR OTHER DEVELOPERS BE LIABLE\n    TO YOU FOR ANY DIRECT, THIRD PARTY, INDIRECT, SPECIAL, CONSEQUENTIAL, OR\n    INCIDENTAL DAMAGES (INCLUDING, WITHOUT LIMITATION, LOST PROFITS OR\n    REVENUES, BUSINESS INTERRUPTION, COSTS OF REPLACEMENT GOODS, LOSS OR\n    DAMAGE TO DATA ARISING OUT OF THE USE OF OR INABILITY TO USE OR\n    DISTRIBUTE MODELS THROUGH 3D WAREHOUSE, 3D WAREHOUSE MATERIALS, OR ANY\n    OTHER TRIMBLE PRODUCT OR SERVICE, OR DAMAGES RESULTING FROM USE OF OR\n    RELIANCE ON THE INFORMATION PRESENT ON 3D WAREHOUSE), EVEN IF TRIMBLE, ITS\n    SUPPLIERS OR OTHER DEVELOPERS HAVE BEEN ADVISED OF THE POSSIBILITY OF\n    SUCH DAMAGES. BECAUSE SOME JURISDICTIONS PROHIBIT THE EXCLUSION OR\n    LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES, THE\n    ABOVE LIMITATION MAY NOT APPLY TO YOU. THE EXCLUSION OF DAMAGES IS\n    INDEPENDENT OF ANY REMEDY PROVIDED UNDER THESE TERMS OF USE AND SURVIVES\n    IN THE EVENT SUCH REMEDY FAILS OF ITS ESSENTIAL PURPOSE OR IS OTHERWISE\n    DEEMED UNENFORCEABLE.")]),t._v(" "),i("p",[t._v("THESE LIMITATIONS AND EXCLUSIONS APPLY WITHOUT REGARD TO WHETHER DAMAGES\n    ARISE FROM BREACH OF CONTRACT OR WARRANTY, NEGLIGENCE OR ANY OTHER CAUSE\n    OF ACTION. TO THE EXTENT THAT APPLICABLE LAW DOES NOT PROHIBIT SUCH\n    EXCLUSIONS AND LIMITATIONS, IN NO EVENT WILL TRIMBLE’S TOTAL\n    LIABILITY TO YOU FOR ALL DAMAGES, LOSSES AND CAUSES OF ACTION, WHETHER IN\n    CONTRACT, STRICT LIABILITY, TORT (INCLUDING NEGLIGENCE) OR OTHERWISE,\n    EXCEED FIFTY DOLLARS (U.S. $50).")]),t._v(" "),i("p",[t._v("Trimble does not assume and will not have any liability arising from\n    events beyond Trimble’s control or the control of its\n    subcontractors, other Developers, business partners or licensors, including\n    events such as acts of God, acts of any governmental entity, acts of a\n    public enemy, strikes, natural disasters, or failure or diminishment of\n    power or telecommunications or data networks or services.")]),t._v(" "),i("h2",[t._v("20. Links to Third Party Web Sites")]),t._v(" "),i("p",[t._v("3D Warehouse may contain links to third party web sites whether provided\n    by Trimble or a user of 3D Warehouse. Access to any other web site linked\n    to 3D Warehouse is at the user’s own risk. Trimble does not control,\n    and is not responsible for, the accuracy or reliability of any information,\n    content, data, opinions, advice or statements made on those web sites, or\n    about any products found at those web sites, or about any search results\n    that may be obtained from using them. Trimble provides these links merely\n    as a convenience and the inclusion of such links does not imply an\n    endorsement.")]),t._v(" "),i("h2",[t._v("21. Linking to 3D Warehouse")]),t._v(" "),i("p",[t._v("You may create links to 3D Warehouse from other web sites, but only in\n    accordance with the following guidelines (or other guidelines that Trimble\n    may provide from time to time) and in compliance with applicable law. A\n    web site that links to 3D Warehouse:")]),t._v(" "),i("ol",{attrs:{type:"i"}},[i("li",[t._v("May refer to the Trimble company name, SketchUp or 3D Warehouse name\n      or product names in a plain text font and format in accordance with\n      Trimble’s general trademark usage guidelines, using appropriate\n      wording such as “This way to 3D Warehouse” or “Click\n      here for more information on SketchUp products.”")]),t._v(" "),i("li",[t._v("Shall not imply that Trimble is endorsing its products.")]),t._v(" "),i("li",[t._v("Shall not misrepresent its relationship with Trimble.")]),t._v(" "),i("li",[t._v("Shall not present false information about Trimble products or\n      services.")]),t._v(" "),i("li",[t._v("Shall not use the Trimble or SketchUp or 3D Warehouse logos or other\n      trademarks (including third party trademarks) without permission from\n      Trimble or the owner of the trademark.")]),t._v(" "),i("li",[t._v("Shall not charge or attempt to charge for the use of 3D Warehouse or\n      any Models which are not your own Models.")]),t._v(" "),i("li",[t._v("Shall not contain content that could be construed as distasteful,\n      offensive or controversial, and shall contain only content that is\n      appropriate for all age groups.")])]),t._v(" "),i("p",[t._v("If you have placed a link on your web site to 3D Warehouse you agree to\n    promptly remove such link at Trimble’s request.")]),t._v(" "),i("h2",[t._v("22. Copyright and Trademark Information")]),t._v(" "),i("p",[t._v("Copyright information and a current list of United States trademarks\n    owned by Trimble is set forth at "),i("a",{attrs:{href:"http://www.trimble.com/copyrights.aspx",target:"_blank",rel:"noopener"}},[t._v("\n    http://www.trimble.com/copyrights.aspx")]),t._v(". Any questions concerning\n    their use, or whether a trademark that does not appear on this list is\n    a trademark of Trimble, should be referred to Trimble’s Intellectual\n    Property department at U.S. +1 408 481 8000.")]),t._v(" "),i("h2",[t._v("23. U.S. Government Restricted Rights")]),t._v(" "),i("p",[t._v("Use, duplication, or disclosure by the United States Government is\n    subject to restrictions as set forth in these Terms of Use or the General\n    Model License, and as provided in DFARS 227.7202-1(a) and 227.7202-3(a)\n    (1995), DFARS 252.227-7013(c)(1)(ii) (OCT 1988), FAR 12.212(a) (1995),\n    FAR 52.227-19, or FAR 52.227-14(ALT III), as applicable. Use of the\n    Warehouse Materials by the Government constitutes acknowledgment of\n    Trimble’s, its suppliers’ or Developer’s proprietary\n    rights in them.")]),t._v(" "),i("h2",[t._v("24. International")]),t._v(" "),i("p",[t._v("3D Warehouse is administered by Trimble from its offices or those of its\n    affiliates at various locations within the United States of America.\n    Trimble may also make use of its U.S. or foreign affiliates or one or more\n    external service providers to host 3D Warehouse. Consequently, data is\n    collected, sent, processed and stored in the United States and may be\n    collected, sent, processed and stored outside the United States. You\n    acknowledge that in the event of conflict of privacy laws or practices in\n    your jurisdiction and those in the domicile of the entity hosting 3D\n    Warehouse the law applicable in the domicile of the hosting entity will\n    have precedence at all times.")]),t._v(" "),i("p",[t._v("Trimble makes no representation that the Warehouse Materials are\n    appropriate or available for use in locations outside the United States,\n    and accessing them from territories where they are illegal is prohibited.\n    You may not use or export or re-export the Warehouse Materials or any\n    copy or adaptation in violation of any applicable laws or regulations\n    including, without limitation, United States export laws and regulations.\n    If you choose to access 3D Warehouse from locations outside the United\n    States, you do so on your own initiative and are responsible for\n    compliance with applicable local laws.")]),t._v(" "),i("h2",[t._v("25. Choice of Law and Forum")]),t._v(" "),i("p",[t._v("These Terms of Use shall be governed by and construed in accordance with\n    the laws of the State of California and applicable United States federal\n    law, without reference to “conflicts of laws” provisions or\n    principles. You expressly agree that the exclusive jurisdiction for any\n    claim or action arising out of or relating to these Terms of Use or your\n    use of 3D Warehouse or Distribution of your Models shall lie exclusively in,\n    or be transferred to the courts of the County of Santa Clara and/or the\n    Northern District of California; and you further agree and submit to the\n    exercise of personal jurisdiction of such courts for the purpose of\n    adjudicating any such claim or action.")]),t._v(" "),i("h2",[t._v("26. Contacting Trimble or the SketchUp division")]),t._v(" "),i("p",[t._v("Information on how to contact Trimble may be found at\n    "),i("a",{attrs:{href:"http://www.trimble.com/Corporate/Contacts.aspx",target:"_blank",rel:"noopener"}},[t._v("\n    http://www.trimble.com/Corporate/Contacts.aspx")]),t._v(". Information on how to\n    contact Trimble’s SketchUp division may be found at\n    "),i("a",{attrs:{href:"http://help.sketchup.com/contact",target:"_blank",rel:"noopener"}},[t._v("http://help.sketchup.com/contact")]),t._v(".\n    Any notice or other communication given by you to Trimble regarding these\n    Terms of Use will be deemed given and served when personally delivered,\n    delivered by reputable international courier requiring signature for\n    receipt, or five (5) business days after mailing (postage prepaid),\n    addressed to Trimble at its notice address. TRIMBLE’s notice address\n    shall be: Trimble Inc., Attn: General Counsel, 935 Stewart\n    Drive, Sunnyvale, CA 94085, USA.")]),t._v(" "),i("h2",[t._v("27. Digital Millennium Copyright Act")]),t._v(" "),i("p",[t._v("Notice and Procedure for Making Claims of Copyright Infringement")]),t._v(" "),i("p",[t._v("If you believe that your work has been copied in a way that constitutes\n    copyright infringement, please provide Trimble’s DMCA administrator\n    the written information specified below, as required by the Online\n    Copyright Infringement Liability Limitation Act of the Digital Millennium\n    Copyright Act, Title 17, United States Code, Section 512(c)(2).")]),t._v(" "),i("ul",[i("li",[t._v("An electronic or physical signature of the person authorized to act on\n      behalf of the owner of the copyright interest;")]),t._v(" "),i("li",[t._v("A description of the copyrighted work that you claim has been\n      infringed upon;")]),t._v(" "),i("li",[t._v("A description of where the material that you claim is infringing is\n      located on 3D Warehouse;")]),t._v(" "),i("li",[t._v("Your address, telephone number, and e-mail address;")]),t._v(" "),i("li",[t._v("A statement by you that you have a good-faith belief that the disputed\n      use is not authorized by the copyright owner, its agent, or the law;")]),t._v(" "),i("li",[t._v("A statement by you, made under penalty of perjury, that the above\n      information in your notice is accurate and that you are the copyright\n      owner or authorized to act on the copyright owner’s behalf.")])]),t._v(" "),i("p",[t._v("Trimble’s DMCA administrator for notice of claims of copyright\n    infringement on 3D Warehouse can be reached as follows:")]),t._v(" "),i("p",[t._v("DMCA Administrator"),i("br"),t._v("\n  Legal Department"),i("br"),t._v("\n  Trimble Inc."),i("br"),t._v("\n  935 Stewart Drive"),i("br"),t._v("\n  Sunnyvale, CA 94085"),i("br"),t._v("\n  Fax: 408-481-7780"),i("br"),t._v("\n  DMCA@trimble.com")]),t._v(" "),i("h2",[t._v("28. General Provisions")]),t._v(" "),i("p",[t._v("Except as otherwise specified herein, these Terms of Use constitute the\n    entire agreement between you and Trimble with respect to your use of 3D\n    Warehouse and Distribution of Models and supersedes all prior or\n    contemporaneous communications and proposals (whether oral, written, or\n    electronic) between you and Trimble with respect to use of 3D Warehouse\n    and Distribution of Models. You also may be subject to additional terms and\n    conditions that may apply when you use 3D Warehouse Materials, software,\n    or services provided by third party providers to 3D Warehouse. These Terms\n    of Use, and any rights and licenses granted under these Terms of Use, may\n    not be transferred or assigned by you, but may be assigned by Trimble\n    without restriction. Any rights not otherwise expressly granted by these\n    Terms of Use are reserved by Trimble, its suppliers or other Developers.\n    The failure of Trimble to exercise or enforce any right or provision of\n    these Terms of Use shall not constitute a waiver of such right or provision.\n    If any part of these Terms of Use is held invalid or unenforceable by a\n    court of competent jurisdiction that portion shall be construed in a\n    manner consistent with applicable law to reflect, as nearly as possible,\n    the original intentions of the parties, and the remaining portions shall\n    remain in full force and effect. You agree that regardless of any statute\n    or law to the contrary, any claim or cause of action arising out of or\n    related to use of 3D Warehouse must be filed within one (1) year after\n    such claim or cause of action arose or be forever barred. Sections 10\n    (3D Warehouse Materials; Use Restrictions), 11 (User Posted Materials),\n    13 (Aggregated Information; Feedback), 16 (Indemnification), 18\n    (Warranty Disclaimer), 19 (Limitation of Liability), 25 (Choice of Law\n    and Forum) and 28 (General Provisions) will survive any termination or\n    expiration of your use of or access to 3D Warehouse Materials or these\n    Terms of Use as applies to you. The official language of these Terms of Use\n    is English. If there is a conflict between the English language version and\n    any translation, the English language version will control.")])])}],!1,null,null,null);e.a=n.exports},805:function(t,e,i){"use strict";e.a={functional:!0,render:function(t,e){var i=e._c;return i("svg",{class:[e.data.class,e.data.staticClass],style:[e.data.style,e.data.staticStyle],attrs:{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"16",height:"16",viewBox:"0 0 16 16"}},[i("path",{attrs:{id:"prefix__a",d:"M8 1.333C4.32 1.333 1.333 4.32 1.333 8c0 3.68 2.987 6.667 6.667 6.667 3.68 0 6.667-2.987 6.667-6.667 0-3.68-2.987-6.667-6.667-6.667zm.667 10H7.333v-4h1.334v4zm0-5.333H7.333V4.667h1.334V6z"}})])}}},806:function(t,e,i){"use strict";var s=i(6),a=i.n(s),n=i(12),o=i(71),r=i(3),l=function(t,e,i,s){var a,n=arguments.length,o=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,s);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(o=(n<3?a(o):n>3?a(e,i,o):a(e,i))||o);return n>3&&o&&Object.defineProperty(e,i,o),o};let c=class DiscoverabilityBar extends a.a{constructor(){super(...arguments),this.name="discoverability-bar",this.discLevel=0,this.hasAContext=!1,this.hasIdealTitle=!1,this.hasIdealDescription=!1,this.hasIdealCategory=!1,this.tooManyHashtags=!1,this.validTagLengths=!1,this.MAX_DISC_LEVEL=3,this.barColors=[r.Constants.POOR_COLOR_CLASS,r.Constants.FAIR_COLOR_CLASS,r.Constants.GOOD_COLOR_CLASS,r.Constants.GREAT_COLOR_CLASS]}get descriptionError(){return this.tooManyHashtags?this.$t("You can use up to {maxHashTags} hashtags.",{maxHashTags:r.Constants.MAXIMUM_HASHTAGS.toString()}):!1===this.validTagLengths?this.$t("Hashtags can be at most {hashtagSize} characters.",{hashtagSize:r.Constants.MAXIMUM_HASHTAG_SIZE.toString()}):""}created(){this.setBarValues()}mounted(){this.updateUi()}setBarValues(){this.checkContext&&(this.barColors.unshift(r.Constants.BAD_COLOR_CLASS),this.MAX_DISC_LEVEL=4),this.barWidthStep=100/(this.MAX_DISC_LEVEL+1),this.barColor=this.barColors[0],this.barWidth=this.barWidthStep}updateCheckContext(){this.MAX_DISC_LEVEL=3,this.barColors=[r.Constants.POOR_COLOR_CLASS,r.Constants.FAIR_COLOR_CLASS,r.Constants.GOOD_COLOR_CLASS,r.Constants.GREAT_COLOR_CLASS],this.setBarValues(),this.updateUi()}updateUi(){this.calcDiscLevel(),this.barWidth=(this.discLevel+1)*this.barWidthStep,this.barColor=this.barColors[this.discLevel]}withinIdealTitlelength(t){let e=t.trim().length;return e>=r.Constants.IDEAL_TITLE_MIN_LENGTH&&e<=r.Constants.IDEAL_TITLE_MAX_LENGTH?(this.hasIdealTitle=!0,!0):(this.hasIdealTitle=!1,!1)}withinIdealDescriptionLength(t){return t.trim().length>=r.Constants.IDEAL_DESCRIPTION_MIN_LENGTH?(this.hasIdealDescription=!0,!0):(this.hasIdealDescription=!1,!1)}validateHashtags(t){this.tooManyHashtags=!1===o.b(t);const e=o.a(this.description);return this.validTagLengths=o.d(e),!this.tooManyHashtags&&this.validTagLengths}hasCategory(t){return 0!=t.length?(this.hasIdealCategory=!0,!0):(this.hasIdealCategory=!1,!1)}hasContext(t){return this.hasAContext=null!=t&&t.length>0,this.hasAContext}calcDiscLevel(){return this.discLevel=0,this.withinIdealDescriptionLength(this.description)&&(this.discLevel+=1),this.withinIdealTitlelength(this.title)&&(this.discLevel+=1),this.hasCategory(this.domain)&&(this.discLevel+=1),this.checkContext&&this.hasContext(this.context)&&(this.discLevel+=1),!1===this.validateHashtags(this.description)&&(this.discLevel-=1),this.discLevel=Math.max(0,this.discLevel),this.discLevel=Math.min(this.MAX_DISC_LEVEL,this.discLevel),this.discLevel}};c=l([Object(n.b)({components:{IconX:{functional:!0,render:function(t,e){var i=e._c;return i("svg",{class:[e.data.class,e.data.staticClass],style:[e.data.style,e.data.staticStyle],attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"}},[i("path",{attrs:{fill:"#C81922","fill-rule":"evenodd",d:"M10.83 12L6.242 7.413a.828.828 0 1 1 1.17-1.17L12 10.83l4.587-4.588a.828.828 0 1 1 1.17 1.17L13.17 12l4.588 4.587a.828.828 0 0 1-1.17 1.17L12 13.17l-4.587 4.588a.828.828 0 0 1-1.17-1.17L10.83 12z"}})])}},IconCheck:{functional:!0,render:function(t,e){var i=e._c;return i("svg",{class:[e.data.class,e.data.staticClass],style:[e.data.style,e.data.staticStyle],attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"}},[i("path",{attrs:{fill:"#5E9331","fill-rule":"evenodd",d:"M7.775 12.112a1.022 1.022 0 0 0-1.47 0 1.086 1.086 0 0 0 0 1.509l2.6 2.667a1.021 1.021 0 0 0 1.445.025l7.8-7.467c.42-.401.442-1.076.05-1.507a1.022 1.022 0 0 0-1.47-.052L9.665 14.05l-1.89-1.938z"}})])}},Rocket:{functional:!0,render:function(t,e){var i=e._c;return i("svg",{class:[e.data.class,e.data.staticClass],style:[e.data.style,e.data.staticStyle],attrs:{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"48",viewBox:"0 0 20 48"}},[i("path",{attrs:{fill:"#4D6F33","fill-rule":"nonzero",d:"M13.384 31.375H6.616l-3.842 2.506a1.77 1.77 0 0 1-1.766.09C.407 33.679.015 33.04 0 32.309v-5.08c.034-1.753 1.01-3.326 2.49-4.025l1.046-.518-2.03-8.269C.94 12.02 1.8 9.496 3.674 8.06l5.425-4.147V.97C9.098.434 9.502 0 10 0s.902.434.902.97v2.942l5.425 4.147.002.001c1.872 1.436 2.731 3.96 2.162 6.365l-2.027 8.26 1.032.511c1.493.706 2.47 2.279 2.504 4.052v5.081c-.015.71-.407 1.349-.99 1.634a1.782 1.782 0 0 1-1.793-.088l-3.833-2.5zm1.296-1.422l3.464 2.26c.015.009.032.013.052.01v-4.955c-.019-.999-.575-1.895-1.44-2.304l-.76-.376-1.316 5.365zm-9.36 0l-1.317-5.365-.773.383c-.85.402-1.407 1.298-1.426 2.277v4.977a.07.07 0 0 0 .043-.007l3.473-2.265zm1.18 8.703c0-.535.404-.97.903-.97.498 0 .901.435.901.97v4.187c0 .536-.403.97-.901.97-.499 0-.902-.434-.902-.97v-4.187zm5.196 0c0-.535.403-.97.901-.97.499 0 .902.435.902.97v8.375c0 .535-.403.969-.902.969-.498 0-.901-.434-.901-.97v-8.374zM10 5.602L4.72 9.638c-1.267.972-1.849 2.68-1.467 4.292l3.805 15.506h5.884l3.803-15.498c.384-1.62-.198-3.328-1.464-4.3L10 5.602zm0 11.69c-1.933 0-3.5-1.683-3.5-3.76 0-2.078 1.567-3.761 3.5-3.761s3.5 1.683 3.5 3.76c0 2.078-1.567 3.761-3.5 3.761zm0-1.938c.936 0 1.696-.816 1.696-1.822 0-1.007-.76-1.823-1.696-1.823-.936 0-1.696.816-1.696 1.823 0 1.006.76 1.822 1.696 1.822z"}})])}},IconWarn:{functional:!0,render:function(t,e){var i=e._c;return i("svg",{class:[e.data.class,e.data.staticClass],style:[e.data.style,e.data.staticStyle],attrs:{width:"24px",height:"24px",viewBox:"0 0 24 24",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}},[i("g",{attrs:{id:"alert-outline",transform:"translate(10.000000, 4.000000)"}},[i("path",{attrs:{d:"M2,16 C3.1045695,16 4,15.1045695 4,14 C4,12.8954305 3.1045695,12 2,12 C0.8954305,12 0,12.8954305 0,14 C0,15.1045695 0.8954305,16 2,16 Z M3.25,10.1538462 C3.25,10.621164 2.69035594,11 2,11 C1.30964406,11 0.75,10.621164 0.75,10.1538462 L0.75,0.846153846 C0.75,0.378835981 1.30964406,0 2,0 C2.69035594,0 3.25,0.378835981 3.25,0.846153846 L3.25,10.1538462 Z",id:"Shape"}})])])}}},props:{checkContext:{type:Boolean,default:!1},context:String,title:String,description:String,domain:String,subdomain:String},watch:{checkContext:function(t){this.updateCheckContext()},context:function(t){this.updateUi()},description:function(t){this.updateUi()},title:function(t){this.updateUi()},domain:function(t){this.updateUi()},subdomain:function(t){this.updateUi()}}})],c);var d=c,u=i(28),h=Object(u.a)(d,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"discoverability-bar"},[i("div",{staticClass:"flex-container"},[i("div",{staticClass:"siding"}),t._v(" "),i("div",{staticClass:"middle"},[i("h1",{staticClass:"header"},[t._v(t._s(t.$t("Help others find your model")))])]),t._v(" "),i("div",{staticClass:"siding"})]),t._v(" "),i("div",{staticClass:"bar-block"},[i("div",{staticClass:"disc-bar-border float-center"},[i("div",{staticClass:"disc-bar-meter",class:t.barColor,style:{width:t.barWidth+"%"}})])]),t._v(" "),t.checkContext?i("div",{staticClass:"wrapper"},[i("div",{staticClass:"x-icon"},[i("div",{class:{"svg-icon":t.hasAContext,"svg-icongray":!t.hasAContext}},[t.hasAContext?i("IconCheck",{staticClass:"icon-green"}):i("IconX")],1)]),t._v(" "),i("div",{staticClass:"wordscript"},[i("h1",{class:{"goal-text":!t.hasAContext,"goal-text-met":t.hasAContext}},[t._v("\n        "+t._s(t.$t("Select an upload context"))+"\n      ")])]),t._v(" "),i("div",{staticClass:"siding"})]):t._e(),t._v(" "),i("div",{staticClass:"wrapper"},[i("div",{staticClass:"x-icon"},[i("div",{class:{"svg-icon":t.hasIdealTitle,"svg-icongray":!t.hasIdealTitle}},[t.hasIdealTitle?i("IconCheck",{staticClass:"icon-green"}):i("IconX")],1)]),t._v(" "),i("div",{staticClass:"wordscript"},[i("h1",{class:{"goal-text":!t.hasIdealTitle,"goal-text-met":t.hasIdealTitle}},[t._v("\n        "+t._s(t.$t("Give your model a good title"))+"\n      ")])]),t._v(" "),i("div",{staticClass:"siding"})]),t._v(" "),i("div",{staticClass:"wrapper"},[i("div",{staticClass:"x-icon"},[i("div",{class:{"svg-icon":t.hasIdealDescription||t.tooManyHashtags||!t.validTagLengths,"svg-icongray":!t.hasIdealDescription&&(!t.tooManyHashtags||t.validTagLengths)}},[t.tooManyHashtags||!t.validTagLengths?i("IconWarn",{staticClass:"icon-yellow"}):t.hasIdealDescription?i("IconCheck",{staticClass:"icon-green"}):i("IconX")],1)]),t._v(" "),i("div",{staticClass:"wordscript"},[!t.tooManyHashtags&&t.validTagLengths?i("h1",{class:{"goal-text":!t.hasIdealDescription,"goal-text-met":t.hasIdealDescription}},[t._v("\n        "+t._s(t.$t("Add a quick and helpful description"))+"\n      ")]):i("h1",{staticClass:"goal-text"},[t._v("\n        "+t._s(t.descriptionError)+"\n      ")])]),t._v(" "),i("div",{staticClass:"siding"})]),t._v(" "),i("div",{staticClass:"wrapper"},[i("div",{staticClass:"x-icon"},[i("div",{class:{"svg-icon":t.hasIdealCategory,"svg-icongray":!t.hasIdealCategory}},[t.hasIdealCategory?i("IconCheck",{staticClass:"icon-green"}):i("IconX")],1)]),t._v(" "),i("div",{staticClass:"wordscript"},[i("h1",{class:{"goal-text":!t.hasIdealCategory,"goal-text-met":t.hasIdealCategory}},[t._v("\n        "+t._s(t.$t("Pick a category"))+"\n      ")])]),t._v(" "),i("div",{staticClass:"siding"})]),t._v(" "),t.discLevel==t.MAX_DISC_LEVEL?i("div",{staticClass:"success-icon"},[i("div",{staticClass:"img-controller"},[i("Rocket",{staticClass:"img-direct"})],1),t._v(" "),i("div",{staticClass:"launch-text-big"},[i("div",{staticClass:"siding"}),t._v(" "),i("div",{staticClass:"middle"},[i("h1",{staticClass:"lt-big"},[t._v(t._s(t.$t("Ready for Launch")))])]),t._v(" "),i("div",{staticClass:"siding"})]),t._v(" "),i("div",{staticClass:"launch-text-small"},[i("div",{staticClass:"siding"}),t._v(" "),i("div",{staticClass:"middle"},[i("h1",{staticClass:"lt-small"},[t._v("\n          "+t._s(t.$t("Your model is like totally out of this world."))+"\n        ")])]),t._v(" "),i("div",{staticClass:"siding"})])]):i("div",[i("hr",{staticClass:"lower-line"}),t._v(" "),i("div",{staticClass:"wrapper"},[i("div",{staticClass:"siding"}),t._v(" "),i("div",{staticClass:"middle"},[i("h1",{staticClass:"lower float-center"},[t._v(t._s(t.$t("Improving your score will make your model easier to find")))])]),t._v(" "),i("div",{staticClass:"siding"})])])])}),[],!1,null,"3906baf2",null);e.a=h.exports},807:function(t,e,i){"use strict";var s=i(733),a=i(6),n=i.n(a),o=i(12),r=function(t,e,i,s){var a,n=arguments.length,o=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,s);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(o=(n<3?a(o):n>3?a(e,i,o):a(e,i))||o);return n>3&&o&&Object.defineProperty(e,i,o),o};let l=class IconCollection extends n.a{constructor(){super(...arguments),this.name="icon-collection"}};l=r([Object(o.b)({components:{IconNavCollections:s.a},props:{selected:{type:Boolean,default:!1},selectable:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1}}})],l);var c=l,d=i(28),u=Object(d.a)(c,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("span",{staticClass:"svg-icon icon-nav-collection",class:{disabled:t.disabled,selected:t.selected,selectable:t.selectable}},[i("IconNavCollections")],1)}),[],!1,null,"20a1fc36",null);e.a=u.exports},808:function(t,e,i){"use strict";var s=i(797).a,a=i(28),n=Object(a.a)(s,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"content-presenter",attrs:{id:t.id},on:{scroll:t.onScroll}},[i("div",{staticClass:"content-container"},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.view===t.CollectionElementViewTypes.GRID&&!t.noResults,expression:"view === CollectionElementViewTypes.GRID && !noResults"}],ref:"scrollTarget",staticClass:"content-cards"},[t.manageMode?i("drag-select",{staticClass:"content-cards row small-up-1 medium-up-2 client-up-3 large-up-4",class:{"xlarge-up-5":t.largerRows,"small-up-2":t.useTwoColumnsForMobile},attrs:{selections:t.selections,selectorClass:"collection-element-grid-card"}},t._l(t.items,(function(e,s){return i("div",{key:e.id+"-"+s,staticClass:"columns"},[i("collection-element-grid-card",{ref:t.id+"-"+e.id,refInFor:!0,attrs:{id:t.id+"-"+e.id,collectionElement:e,actionCallback:t.cardAction,context:t.manageModeContext,fullCardSelectable:t.fullCardSelectable,selectableCard:t.selectableCards,hasSupplementalMenu:t.hasSupplementalMenu,hasVerifiedContent:t.hasVerifiedContent,isInFolder:t.isFolder,dataOwner:t.dataOwner,useRemove:t.useRemove,showAuthorName:t.showAuthorNames}})],1)})),0):i("div",{staticClass:"content-cards row small-up-1 medium-up-2 client-up-3 large-up-4",class:{"xlarge-up-5":t.largerRows,"small-up-2":t.useTwoColumnsForMobile}},t._l(t.items,(function(e){return i("div",{key:t.id+"-"+e.id,staticClass:"columns"},[t.browseDataOwners?i("brand-list-card",{ref:t.id+"--"+e.id,refInFor:!0,attrs:{owner:e,dataOwnerType:t.type}}):i("search-result-card",{ref:t.id+"-"+e.id,refInFor:!0,attrs:{showVerifiedOverlay:t.showVerifiedOverlay(e),isOwner:t.isOwnerCard,collectionElement:e,selectableCard:t.selectableCards,actionCallback:t.cardAction,enableQuickViewButton:!t.selectableCards,isCuratedMaterial:t.type===t.BrowseTypes.CuratedMaterials},on:{"update:selectableCard":function(e){t.selectableCards=e},"update:selectable-card":function(e){t.selectableCards=e}}})],1)})),0)],1),t._v(" "),t.enableListView?i("div",{directives:[{name:"show",rawName:"v-show",value:t.view===t.CollectionElementViewTypes.LIST&&!t.noResults,expression:"view === CollectionElementViewTypes.LIST && !noResults"}]},[i("collection-element-list-view",{directives:[{name:"show",rawName:"v-show",value:!t.isLoading,expression:"!isLoading"}],attrs:{listData:t.items,context:t.manageModeContext,options:t.listViewOpts,presenterId:t.id,hasSupplementalMenu:t.hasSupplementalMenu},on:{"item-selection-toggled":t.toggleModelSelection,"delete-collection-element":t.sendDeleteEvent}})],1):t._e(),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:!t.isLoading&&t.noResults,expression:"!isLoading && noResults"}],staticClass:"no-results-wrapper"},[i("no-results-card",{attrs:{text:t.emptyText}})],1),t._v(" "),i("div",{staticClass:"loading-container"},[i("div",{staticClass:"loading",class:{invisible:!t.isLoading,scrolling:t.isScrolling}})]),t._v(" "),t.showPagination?i("pagination",{staticClass:"row",attrs:{enableGoto:t.pageGoto,pageCount:t.pageCount,pageAction:t.pageAction,startPage:t.currentPage,useRouter:t.useRouter}}):t._e()],1)])}),[],!1,null,"d8bcf524",null);e.a=n.exports},809:function(t,e,i){"use strict";var s=i(788).a,a=i(28),n=Object(a.a)(s,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"container",staticClass:"supplemental-container",class:t.position},[t.menu.length>0?i("icon-supplemental",{ref:"supplementalMenu",staticClass:"supplemental-menu",class:t.position,attrs:{orientation:t.orientation},nativeOn:{click:function(e){return t.toggleMenu.apply(null,arguments)}}}):t._e(),t._v(" "),t.isOpen?i("div",{ref:"selections",staticClass:"supplemental-select",class:t.position},t._l(t.menu,(function(e){return i("div",{key:e.eventName,staticClass:"supplemental-option"},[i("button",{attrs:{id:"menu-option-"+e.eventName,title:e.title},on:{click:function(i){return t.optionSelected(e)}}},[t._v(t._s(e.title)+"\n      ")])])})),0):t._e()],1)}),[],!1,null,"46e5002d",null);e.a=n.exports},810:function(t,e,i){},811:function(t,e,i){"use strict";e.a={functional:!0,render:function(t,e){var i=e._c;return i("svg",{class:[e.data.class,e.data.staticClass],style:[e.data.style,e.data.staticStyle],attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"}},[i("g",{attrs:{stroke:"#D8D8D8",fill:"none","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}},[i("path",{attrs:{d:"M29.848 24.42v2.494a3.743 3.743 0 0 1-3.742 3.742H4.894a3.742 3.742 0 0 1-3.742-3.742V24.42M15.5 24.276V1.962M24.63 15.146l-9.13 9.13-9.13-9.13"}})])])}}},812:function(t,e,i){},813:function(t,e,i){},814:function(t,e,i){},815:function(t,e,i){},816:function(t,e,i){},817:function(t,e,i){"use strict";var s=i(11),a=i(391),n=i(22),o=i(150),r=i.n(o),l=i(6),c=i.n(l),d=i(12),u=i(0),h=i(755),p=i(771),m=i(772),g=i(756),v=i(773),f=i(775),C=i(802),b=i(776),y=i(781),w=i(782),_=i(790),T=i(153),S=i(2),E=i(149),O=i(35),I=i(738),A=i(103),D=i(54),M=i(7),k=i(3),L=i(9),$=i(735),x=i(725),P=function(t,e,i,s){var a,n=arguments.length,o=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,s);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(o=(n<3?a(o):n>3?a(e,i,o):a(e,i))||o);return n>3&&o&&Object.defineProperty(e,i,o),o},R=function(t,e,i,s){return new(i||(i=Promise))((function(a,n){function o(t){try{l(s.next(t))}catch(t){n(t)}}function r(t){try{l(s.throw(t))}catch(t){n(t)}}function l(t){var e;t.done?a(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,r)}l((s=s.apply(t,e||[])).next())}))};let N=class ModelPreviewModal extends x.a{constructor(){super(...arguments),this.fetchModelFailed=!1,this.isLoading=!0,this.itemType="model",this.modelData=null,this.openOnMounted=!0,this.errorState=!1,this.errorText="",this.canAddToCollection=!0,this.likesProcessing=!1,this.favoriteProcessing=!1,this.isLiked=!1,this.isFavorited=!1}beforeDestroy(){this.$el.remove()}mounted(){this.getModelData(this.modelId)}updateModelData(t){this.fetchModelFailed=!1,this.isLoading=!0,this.likesProcessing=this.favoriteProcessing=!1,this.isLiked=this.isFavorited=!1,this.errorState=!1,this.errorText="",this.getModelData(t)}getModelData(t){var e;this.modelId=t,this.getEntityPromise(t),null!=this.$user&&this.$user.id===(null===(e=this.$context)||void 0===e?void 0:e.id)&&(this.getIsFavoritedPromise(t),this.getIsLikedPromise(t))}getEntityPromise(t){return R(this,void 0,void 0,(function*(){const e={recordEvent:!0},i={performAs:!1};try{const s=yield this.$api.getEntity(t,e,i);s||(this.fetchModelFailed=!0),this.modelData=new T.c(s),this.canAddToCollection=D.e(this.modelData,this.$user,this.$context),this.simpleMetaPanel(),this.isLoading=!1}catch(t){this.fetchModelFailed=!0,this.surfaceError()}}))}getIsLikedPromise(t){if(!this.$user)return Promise.resolve();let e=`/entities/${t}/reviews`;const i=u.HttpMethod.Get;return e+=`?fq=creatorId==${this.$user.id}&count=1`,this.$api.performApiRequest(e,null,{method:i}).then((t=>this.isLiked=t.data.total>0),(()=>this.isLiked=!1))}getIsFavoritedPromise(t){if(!this.$user)return Promise.resolve();const e={fq:`creator.id==${this.$user.id};subtype==FAV_ROOT;childIds==${t}`,count:1,showHidden:!0,contentType:u.ContentType.Warehouse3D,recordEvent:!1};return this.$api.getCollections(e).then((t=>this.isFavorited=t.total>0),(()=>this.isFavorited=!1))}downloadsCountShort(){let t=this.modelData;return this.formatUnitString(t.downloads)}likesCountShort(){return this.formatUnitString(this.modelData.likes)}viewsCountShort(){let t=this.modelData;return this.formatUnitString(t.views)}simpleMetaPanel(){this.componentCount=this.modelData.componentCount?this.modelData.componentCount.toLocaleString():"-",this.materialsCount=this.modelData.materialCount?this.modelData.materialCount.toLocaleString():"-",this.polygonCount=this.modelData.polygonCount?this.modelData.polygonCount.toLocaleString():"-",this.fileSizeCount=this.$tLabel(A.a(this.modelData.sourceBinaryFilesize)).replace(" ",""),this.modifiedDate=A.b(this.modelData.lastModifiedDate)}get catDetails(){var t,e,i,s,a,n;return{domainLabel:null===(t=this.modelData.domain)||void 0===t?void 0:t.label,domainUrl:null===(e=this.modelData.domain)||void 0===e?void 0:e.url,subdomainLabel:null===(i=this.modelData.subdomain)||void 0===i?void 0:i.label,subdomainUrl:null===(s=this.modelData.subdomain)||void 0===s?void 0:s.url,categoryLabel:null===(a=this.modelData.category)||void 0===a?void 0:a.label,categoryUrl:null===(n=this.modelData.category)||void 0===n?void 0:n.url}}surfaceError(){const t={text:S.c.DATA_LOAD_ERROR};this.errorText=this.$tLabel(t),this.errorState=!0,this.isLoading=!1}formatUnitString(t){let e=A.c(t||0);return this.$tLabel(e).replace(" ","")}get isOwner(){return!(!this.modelData||!this.$user)&&this.$user.id===this.modelData.creatorId}get showFavorite(){return!this.$inOrgContext}get isCertifiedContentEnabled(){return I.a.getCertifiedContentEnabled(this.$store)}get likeActionTitle(){return this.likesProcessing?this.$t("Saving..."):this.isLiked?this.$t("Undo Like"):this.$t("Like")}get favoriteActionTitle(){return this.favoriteProcessing?this.$t("Saving..."):this.isFavorited?this.$t("Remove from Favorites"):this.$t("Add to Favorites")}performToggleAction(t,e,i,s){return this.$user?(t?i():e(),!0):(this.$eventBus.$emit(k.Events.SIGN_IN_GUARD,s),!1)}performFavoriteAction(){if(!this.favoriteProcessing){const t={feature:"Favorite",message:this.$t("Oops! You need to be signed in to use favorites.")};this.favoriteProcessing=this.performToggleAction(this.isFavorited,this.addToFavorites,this.removeFromFavorites,t)}}addToFavorites(){return R(this,void 0,void 0,(function*(){const t=this.$store.getters.favorites;this.isFavorited=!0;try{yield this.$api.addCollectionChildren(t.id,[this.modelData.id]),yield O.f(this.$store,this.$user,this.modelData),this.favoriteProcessing=!1;const e=[this.modelData];this.$pushSnackbar(this.$t("Added to Favorites"),k.SnackbarMessageTypes.success,k.SnackbarIcons.FAVORITE),this.$eventBus.$emit(k.Events.ADD_COLLECTIONELEMENT,t,e,"models",null),E.l(E.c.FAVOR,[this.modelData.subjectClass])}catch(t){this.favoriteProcessing=!1,this.$pushSnackbar(S.c.GENERIC_TRY_AGAIN,k.SnackbarMessageTypes.failure,k.SnackbarIcons.ALERT),this.$nextTick((()=>{this.isFavorited=!1}))}}))}removeFromFavorites(){const t=this.$store.getters.favorites,e=this.$api.removeCollectionChildren(t.id,[this.modelData.id]);this.isFavorited=!1,e.then((e=>{this.favoriteProcessing=!1;const i=[this.modelData];this.$pushSnackbar(this.$t("Removed from Favorites"),k.SnackbarMessageTypes.success,k.SnackbarIcons.FAVORITE),this.$eventBus.$emit(k.Events.REMOVE_COLLECTIONELEMENT,t,i,"models",null),E.l(E.c.UNFAVOR,[this.modelData.subjectClass])}),(t=>{this.favoriteProcessing=!1,this.$pushSnackbar(S.c.GENERIC_TRY_AGAIN,k.SnackbarMessageTypes.failure,k.SnackbarIcons.ALERT),this.$nextTick((()=>{this.isFavorited=!0}))}))}performLikeAction(){if(!this.likesProcessing){let t;switch(this.modelData.subjectClass){case M.Constants.BackendClass.ENTITY:t=this.$t("Oops! You need to be signed in to like this model.");break;case M.Constants.BackendClass.COLLECTION:t=this.$t("Oops! You need to be signed in to like this collection.");break;default:t=this.$t("Oops! You need to be signed in to like this.")}const e={feature:"Like",message:t};this.likesProcessing=this.performToggleAction(this.isLiked,this.setReview,this.deleteReview,e)}}updateLikes(t){this.modelData.likes+=t,this.isLiked=t>0;const e=this.modelData,i=this.isLiked?k.Events.LIKED_CONTENT:k.Events.UNLIKED_CONTENT;this.$eventBus.$emit(i,e)}updateFavorite(t){this.isFavorited=t}deleteReview(){this.updateLikes(-1);const t=L.x(this.modelData),e=u.HttpMethod.Delete;this.$api.performApiRequest(t,null,{method:e}).then((t=>{this.likesProcessing=!1,E.l(E.c.UNLIKE,[this.modelData.subjectClass]),this.$pushSnackbar(this.$t("Removed from Liked Content"),k.SnackbarMessageTypes.success,k.SnackbarIcons.LIKE)}),(t=>{this.$pushSnackbar(S.c.GENERIC_TRY_AGAIN,k.SnackbarMessageTypes.failure,k.SnackbarIcons.ALERT),this.$nextTick((()=>{this.likesProcessing=!1,this.updateLikes(1)}))}))}setReview(){this.updateLikes(1);const t=L.x(this.modelData),e=u.HttpMethod.Post,i=JSON.stringify({overall:5});this.$api.performApiRequest(t,i,{method:e}).then((t=>{this.likesProcessing=!1,O.g(this.$store,this.$user,this.modelData),E.l(E.c.LIKE,[this.modelData.subjectClass]),this.$pushSnackbar(this.$t("Added to Liked Content"),k.SnackbarMessageTypes.success,k.SnackbarIcons.LIKE)}),(t=>{this.$pushSnackbar(S.c.GENERIC_TRY_AGAIN,k.SnackbarMessageTypes.failure,k.SnackbarIcons.ALERT),this.$nextTick((()=>{this.likesProcessing=!1,this.updateLikes(-1)}))}))}onEntitlementUpdated(){this.$store.dispatch("FETCH_CURRENT_USER")}};N=P([Object(d.b)({components:{AddToCollection:f.a,CategoryBreadcrumb:C.a,DownloadButton:b.a,ErrorInContext:$.a,IconCertifiedContent:h.a,IconDynamicComponent:p.a,IconFavorite:y.a,IconGeolocated:v.a,IconLike:w.a,IconLiveComponent:m.a,IconLock:g.a,ItemNotFound:_.a},props:{modelId:String}})],N);var U,F=N,B=i(28),j=Object(B.a)(F,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"model-preview-modal reveal",attrs:{"data-reveal":"","data-close-on-esc":"true","data-animation-in":"slide-in-up fast","data-animation-out":"slide-out-down fast"}},[i("div",{staticClass:"modal-close-x",on:{click:t.closeModal}}),t._v(" "),t.fetchModelFailed?i("div",[i("item-not-found",{attrs:{itemFound:t.modelData,itemType:t.itemType}})],1):t.isLoading?i("div",{staticClass:"loading"}):i("div",[i("error-in-context",{attrs:{errorState:t.errorState,errorText:t.errorText,isPlaceholder:!1,showIcon:!0,alignment:"center"}}),t._v(" "),i("div",{staticClass:"center-align-container"},[i("div",{staticClass:"title-container"},[i("h1",{staticClass:"title"},[t._v(t._s(t.modelData.title))]),t._v(" "),i("category-breadcrumb",{attrs:{catDetails:t.catDetails}})],1),t._v(" "),i("div",{staticClass:"img-placeholder"},[t.modelData.isPrivate?i("icon-lock",{staticClass:"preview-private-model-icon"}):t._e(),t._v(" "),i("picture",[t.modelData.missingCustomImageBinary?i("source",{attrs:{srcset:t.modelData.webpThumbnailUrl||t.modelData.webpLargeThumbnailUrl,type:"image/webp"}}):t._e(),t._v(" "),i("img",{attrs:{src:t.modelData.thumbnailUrl||t.modelData.largeThumbnailUrl,onerror:"this.style.display='none'",onload:"this.style.display='inline-block'"}})]),t._v(" "),i("div",{staticClass:"model-preview-icons"},[t.modelData.geolocated?i("div",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.$t("Geolocated"),expression:"$t('Geolocated')"}],staticClass:"svg-icon geolocated",attrs:{id:"icon-geolocated"},on:{click:t.onGeolocationClick}},[i("IconGeolocated")],1):t._e(),t._v(" "),t.modelData.isLiveComponent?i("div",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.$t("Live Component"),expression:"$t('Live Component')"}],staticClass:"svg-icon live-component",attrs:{id:"icon-livecomponent"}},[i("IconLiveComponent")],1):t._e(),t._v(" "),t.modelData.dynamicComponent?i("div",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.$t("Dynamic Component"),expression:"$t('Dynamic Component')"}],staticClass:"svg-icon dynamic-component",attrs:{id:"icon-dynamic-component"}},[i("IconDynamicComponent")],1):t._e(),t._v(" "),this.isCertifiedContentEnabled&&t.modelData.isCertifiedContent?i("div",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.$t("Certified Content"),expression:"$t('Certified Content')"}],staticClass:"svg-icon certified-content",attrs:{id:"icon-certified-content"}},[i("IconCertifiedContent")],1):t._e()])],1),t._v(" "),i("div",{staticClass:"model-stats-container"},[i("div",{staticClass:"model-controls"},[i("div",{staticClass:"favs-likes-adds"},[t.$inOrgContext||t.isOwner?t._e():i("icon-like",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.likeActionTitle,expression:"likeActionTitle"}],attrs:{disabled:t.likesProcessing,selected:t.isLiked},nativeOn:{click:function(e){return t.performLikeAction.apply(null,arguments)}}}),t._v(" "),t.showFavorite?i("icon-favorite",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.favoriteActionTitle,expression:"favoriteActionTitle"}],attrs:{selected:t.isFavorited,disabled:t.favoriteProcessing},nativeOn:{click:function(e){return t.performFavoriteAction.apply(null,arguments)}}}):t._e(),t._v(" "),i("add-to-collection",{attrs:{items:[t.modelData],target:"folder",id:"preview-folders"}}),t._v(" "),t.canAddToCollection?i("add-to-collection",{attrs:{items:[t.modelData],id:"preview-colls"}}):t._e()],1),t._v(" "),i("download-button",{attrs:{entity:t.modelData,source:"previewModal",medtext:!0},on:{"update:Entitlement":t.onEntitlementUpdated}})],1),t._v(" "),i("div",{staticClass:"model-stats"},[i("span",[t._v("\n            "+t._s(t.$t("{count} Likes",{count:t.likesCountShort()}))+"\n          ")]),t._v(" "),i("span",[t._v(" | ")]),t._v(" "),i("span",[t._v("\n            "+t._s(t.$t("{count} Downloads",{count:t.downloadsCountShort()}))+"\n          ")]),t._v(" "),i("span",[t._v(" | ")]),t._v(" "),i("span",[t._v("\n            "+t._s(t.$t("{count} Views",{count:t.viewsCountShort()}))+"\n          ")])])])]),t._v(" "),i("div",{staticClass:"model-info-container"},[i("ul",{ref:"accordionPanel",staticClass:"accordion skp"},[i("li",{staticClass:"accordion-item"},[i("div",{staticClass:"meta-panel-main-container"},[t.componentCount>0?i("div",{staticClass:"meta-panel-item-container"},[i("span",[t._v(t._s(t.$t("Components")))]),t._v(" "),i("span",[t._v(t._s(t.componentCount))])]):t._e(),t._v(" "),i("div",{staticClass:"meta-panel-item-container"},[i("span",[t._v(t._s(t.$t("Materials")))]),t._v(" "),i("span",[t._v(t._s(t.materialsCount))])]),t._v(" "),i("div",{staticClass:"meta-panel-item-container"},[i("span",[t._v(t._s(t.$t("Polygons")))]),t._v(" "),i("span",[t._v(t._s(t.polygonCount))])]),t._v(" "),i("div",{staticClass:"meta-panel-item-container"},[i("span",[t._v(t._s(t.$t("File Size")))]),t._v(" "),i("span",[t._v(t._s(t.fileSizeCount))])]),t._v(" "),i("div",{staticClass:"meta-panel-item-container"},[i("span",[t._v(t._s(t.$t("Modified Date")))]),t._v(" "),i("span",[t._v(t._s(t.modifiedDate))])])])])])]),t._v(" "),i("div",{staticClass:"center-align-container"},[i("div",{staticClass:"link-to-model-details"},[i("a",{attrs:{href:t.modelData.detailsPageUrl}},[t._v(t._s(t.$t("See more details")))])])])],1)])}),[],!1,null,"005175c6",null),V=j.exports,H=i(748).a,G=Object(B.a)(H,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"promo-modal modal-dialog reveal",attrs:{"data-reveal":"","data-close-on-click":"true","data-close-on-esc":"true","data-animation-in":"slide-in-up fast","data-animation-out":"slide-out-down fast"}},[i("div",{staticClass:"promo-panels"},[i("div",{staticClass:"promo-panel"},[i("div",{staticClass:"promo-bg"},[i("img",{attrs:{alt:t.promo.altText,src:t.promo.imgSrc}})]),t._v(" "),t.promo.title?i("div",{staticClass:"promo-title"},[t._v(t._s(t.promo.title))]):t._e(),t._v(" "),i("div",{staticClass:"promo-text"},[t._v(t._s(t.promo.promoText))]),t._v(" "),i("div",{staticClass:"promo-actions"},[i("a",{staticClass:"button button-primary promo-cta promo-button",attrs:{href:t.promo.linkRef,target:"_blank",rel:"noopener",id:t.abKey(t.promo)},on:{click:t.closeModal}},[t._v("\n          "+t._s(t.promo.linkLabel)+"\n        ")]),t._v(" "),i("button",{staticClass:"secondary promo-close promo-button",attrs:{id:t.abKey(t.promo)+"-close"},on:{click:t.closeModal}},[t._v("\n          "+t._s(t.$t("No thanks"))+"\n        ")])])])])])}),[],!1,null,null,null).exports,z=i(749).a,W=Object(B.a)(z,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"sign-in-guard-modal modal-dialog reveal small",attrs:{"data-reveal":"","data-close-on-esc":"true"}},[i("div",{staticClass:"modal-close-x",on:{click:t.onCancel}}),t._v(" "),i("div",{staticClass:"modal-dialog-header"},[i("span",{staticClass:"modal-dialog-title-text"},[t._v("\n      "+t._s(t.$t("Sign In"))+"\n    ")])]),t._v(" "),i("div",{staticClass:"modal-dialog-content"},[t._v("\n    "+t._s(t.actionText)),i("br"),t._v("\n    "+t._s(t.$t("We’ll bring you right back!"))+"\n  ")]),t._v(" "),i("div",{staticClass:"modal-dialog-footer"},[i("button",{staticClass:"modal-dialog-button-ok",on:{click:t.onAccept}},[t._v("\n      "+t._s(t.$t("Sign In"))+"\n    ")])])])}),[],!1,null,null,null).exports,Y=i(675),q=i(38),K=i(8),X=i(151),Z=i(10),J=i(152),Q=i(13),tt=i(765),et=i(732),it=i(761),st=i(741),at=i(762),nt=i(793),ot=i(727),rt=i(726),lt=function(t,e,i,s){var a,n=arguments.length,o=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,s);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(o=(n<3?a(o):n>3?a(e,i,o):a(e,i))||o);return n>3&&o&&Object.defineProperty(e,i,o),o},ct=function(t,e,i,s){return new(i||(i=Promise))((function(a,n){function o(t){try{l(s.next(t))}catch(t){n(t)}}function r(t){try{l(s.throw(t))}catch(t){n(t)}}function l(t){var e;t.done?a(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,r)}l((s=s.apply(t,e||[])).next())}))};!function(t){t[t.AllTooLarge=0]="AllTooLarge",t[t.UntitledModel=1]="UntitledModel"}(U||(U={}));let dt=class BulkUploadDetails extends rt.b{constructor(){super(...arguments),this.name="bulk-upload-details",this.isLoading=!0,this.maxTitleLength=k.Constants.ITEM_TITLE_MAX_LENGTH,this.tooLargeCount=0,this.cannotUpload=!1,this.failState=U.AllTooLarge,this.isMounted=!1,this.modelUploadDetails=[],this.sketchupClientLoaded_=!1,this.selectedContext=this.initialContext,this.contextBlockMsg=""}beforeDestroy(){this.$el.remove()}created(){this.maxFileSize=1024*J.e(this.$context.isVerified,this.$store.getters.entitlements)}mounted(){this.isMounted=!0}afterOpen(){this.loadSkpFiles()}reset(t){this.resetState(),this.filesToUpload=t}resetState(){this.cannotUpload=!1,this.failState=U.AllTooLarge,this.filesToUpload=[],this.isLoading=!0,this.modelUploadDetails=[],this.tooLargeCount=0}get sketchupClientLoaded(){return this.sketchupClientLoaded_}set sketchupClientLoaded(t){!this.sketchupClientLoaded_&&t&&(this.sketchupClientLoaded_=t,null!=this.filesToUpload&&this.filesToUpload.length>0&&this.loadSkpFiles())}loadSkpFiles(){return ct(this,void 0,void 0,(function*(){if(this.isLoading=!0,this.isMounted&&this.sketchupClientLoaded&&this.filesToUpload)for(let t of this.filesToUpload)yield this.loadEmscriptenSkpFile(t);this.tooLargeCount===this.filesToUpload.length&&(this.cannotUpload=!0,this.failState=U.AllTooLarge),this.isLoading=!1}))}loadEmscriptenSkpFile(t){return ct(this,void 0,void 0,(function*(){let e=new at.a(t.file);try{yield e.init();let i="undefined";null!=e.sourceBinaryName&&(i=e.sourceBinaryName);const s=t.file.size>this.maxFileSize;s&&this.tooLargeCount++;const a={attributes:{"3dw":{isProduct:{dataType:"boolean",value:!0}}},binaryType:i,description:"",failure:!1,file:t.file,fileTooLarge:s,isPrivate:!1,progress:0,skpFile:e,success:!1,title:e.title.replace(".skp",""),uploading:!1};this.modelUploadDetails.push(a)}catch(t){}this.modelUploadDetails.sort(((t,e)=>{const i=t.title.toLowerCase(),s=e.title.toLowerCase();return i<s?-1:s>i?1:0}))}))}accept(){for(let t of this.modelUploadDetails)if(0===t.title.length)return this.cannotUpload=!0,void(this.failState=U.UntitledModel);this.acceptCallback&&(this.cannotUpload=!1,this.acceptCallback(this.modelUploadDetails,this.selectedContext))}done(){this.notifyUser(),this.dismiss()}notifyUser(){let t=this.$t("Successfully uploaded your models. They may take a minute to appear."),e=k.SnackbarMessageTypes.success,i=k.SnackbarIcons.SUCCESS;this.failure?(t=this.$t("An error occurred when uploading your models. Please try selecting your models for upload again."),e=k.SnackbarMessageTypes.failure,i=k.SnackbarIcons.ALERT):this.cannotUpload&&this.failState===U.AllTooLarge&&(t=this.$t("Could not upload any of the selected files due to file size. Please try selecting some other models for upload."),e=k.SnackbarMessageTypes.failure,i=k.SnackbarIcons.ALERT),this.$pushSnackbar(t,e,i)}dismiss(){this.closeModal(rt.a.SlideOutDown).then((()=>{this.resetState(),this.cancelCallback&&this.cancelCallback()}))}removeFile(t){this.modelUploadDetails.splice(t,1),0===this.modelUploadDetails.length&&this.dismiss()}get showUploadButton(){return!(this.uploading||!this.cannotUpload||this.failState!==U.UntitledModel)||!(!this.uploading&&this.cannotUpload&&this.failState===U.AllTooLarge)&&!this.uploading}failureText(t){return!0===t?this.$t("Failed to upload model, file size too large."):this.$t("Failed to upload model.")}get descriptionText(){return this.isLoading?this.$t("Loading your models, this may take a minute."):this.cannotUpload&&this.failState===U.AllTooLarge?this.$t("Cannot upload any of the models as all of the files exceed the file size limit."):this.cannotUpload&&this.failState===U.UntitledModel?this.$t("Cannot upload untitled models. Please add a title to all of your models."):this.uploading?this.failure?this.$t("Failed to upload all models."):this.$t("Uploading your models. This may take a few minutes."):this.$t("Add titles to your models. Don’t worry, you can edit this later.")}get uploadContexts(){const t=[];this.$inAdminRole&&t.push({value:this.$user.id,label:this.$t("My Account")});for(let e of this.$store.getters.userOrganizations)t.push({value:e.id,label:e.displayName});return t}get userHasOrgs(){return this.$store.getters.userOrganizations.length>0}get initialContext(){return this.userHasOrgs?null:this.$user.id}};dt=lt([Object(d.b)({props:{cancelCallback:Function,canClose:Boolean,failure:{type:Boolean,default:!1},uploading:Boolean},components:{AutoSizingInput:nt.a,ErrorInContext:$.a,IconComplete:{functional:!0,render:function(t,e){var i=e._c;return i("svg",{class:[e.data.class,e.data.staticClass],style:[e.data.style,e.data.staticStyle],attrs:{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20"}},[i("path",{attrs:{fill:"#5E9331","fill-rule":"evenodd",d:"M6.48 10.094a.851.851 0 0 0-1.226 0 .905.905 0 0 0 0 1.257l2.167 2.222a.851.851 0 0 0 1.204.021l6.5-6.222a.905.905 0 0 0 .042-1.256.851.851 0 0 0-1.225-.044L8.054 11.71 6.48 10.094z"}})])}},IconRemove:{functional:!0,render:function(t,e){var i=e._c;return i("svg",{class:[e.data.class,e.data.staticClass],style:[e.data.style,e.data.staticStyle],attrs:{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20"}},[i("path",{attrs:{fill:"#BFBFC6","fill-rule":"evenodd",d:"M9.025 10L5.202 6.177a.69.69 0 0 1 .975-.975L10 9.025l3.823-3.823a.69.69 0 0 1 .975.975L10.975 10l3.823 3.823a.69.69 0 1 1-.975.975L10 10.975l-3.823 3.823a.69.69 0 1 1-.975-.975L9.025 10z"}})])}},ItemSelector:ot.a},data:()=>({FailState:U}),watch:{modelUploadDetails:{handler:function(t){if(this.cannotUpload&&this.failState===U.UntitledModel){for(let e of t)if(0===e.title.length)return;this.cannotUpload=!1,this.failState=U.AllTooLarge}},deep:!0}}})],dt);var ut=dt,ht=Object(B.a)(ut,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"bulk-upload-details bulk-upload-modal reveal",attrs:{id:"bulk-upload-details","data-reveal":"","data-close-on-click":"false","data-close-on-esc":"false"}},[i("div",{staticClass:"grid-container"},[t.canClose?i("div",{staticClass:"modal-close-x",attrs:{tabindex:"0"},on:{click:t.dismiss}}):t._e(),t._v(" "),i("div",{staticClass:"upload-header"},[i("div",{staticClass:"title upload-title"},[i("span",[t._v(t._s(t.$t("Upload Models")))])]),t._v(" "),t.userHasOrgs?i("div",{staticClass:"upload-context-input"},[i("error-in-context",{attrs:{errorState:!!t.contextBlockMsg,errorText:t.contextBlockMsg,contextHeader:t.$t("Upload Context"),isRequired:!0,maxCharacters:0}}),t._v(" "),i("item-selector",{staticClass:"bulk-upload-organization-selector",attrs:{id:"bulk-upload-organization-context-selector",disabled:!t.userHasOrgs,placeholder:t.$t("Upload to"),emphasizeSelection:!0,items:t.uploadContexts,align:"right",isContextClass:!0,emitEvents:!1,minDropdownWidth:150,maxDropdownWidth:250,dropdownWidthShouldMatchSelectorWidth:!0},model:{value:t.selectedContext,callback:function(e){t.selectedContext=e},expression:"selectedContext"}})],1):t._e(),t._v(" "),i("div",{staticClass:"description upload-description",class:{failure:t.cannotUpload}},[i("span",[t._v(t._s(t.descriptionText))])])])]),t._v(" "),t.isLoading||t.failure?t.failure?t._e():i("div",{staticClass:"loading-container"},[i("div",{staticClass:"loading"})]):i("div",{staticClass:"content-scroller",attrs:{id:"scroller"}},[i("div",{staticClass:"content-cards row"},t._l(t.modelUploadDetails,(function(e,s){return i("div",{key:s,staticClass:"columns medium-6",class:{end:s==t.modelUploadDetails.length-1}},[t.uploading?i("div",{staticClass:"model-detail"},[i("div",{staticClass:"model-title"},[t._v(t._s(e.title))]),t._v(" "),e.failure?i("div",{staticClass:"failed-upload"},[t._v(t._s(t.failureText(e.fileTooLarge)))]):t._e(),t._v(" "),i("div",{staticClass:"progress",class:{failure:e.failure},attrs:{role:"progressbar","aria-valuenow":e.progress,"aria-valuetext":e.progress+" percent","aria-valuemax":100}},[i("div",{staticClass:"progress-meter",style:"width: "+e.progress+"%"})]),t._v(" "),e.success?i("IconComplete",{staticClass:"upload-status"}):t._e(),t._v(" "),e.success?t._e():i("IconRemove",{staticClass:"upload-status",class:{failure:e.failure}})],1):i("div",{staticClass:"model-detail"},[i("div",{staticClass:"thumbnail"},[i("img",{attrs:{src:e.skpFile.thumbnailUrl,onerror:"this.style.display='none'",onload:"this.style.display='inline-block'"}})]),t._v(" "),e.fileTooLarge?i("div",{staticClass:"title-error"},[i("div",{staticClass:"title"},[t._v(t._s(e.title))]),t._v(" "),i("div",{staticClass:"error"},[t._v(t._s(t.$t("Cannot upload this model, file size is too large.")))])]):i("auto-sizing-input",{staticClass:"edit-model-title",attrs:{tooltip:t.$t("Rename"),"max-length":t.maxTitleLength,id:s+"-bulk-input"},model:{value:e.title,callback:function(i){t.$set(e,"title",i)},expression:"file.title"}}),t._v(" "),i("div",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.$t("Remove"),expression:"$t('Remove')"}],staticClass:"remove",attrs:{tabindex:"0"},on:{click:function(e){return t.removeFile(s)}}}),t._v(" "),e.fileTooLarge||0===e.title.length?i("div",{staticClass:"error-bar"}):t._e()],1)])})),0)]),t._v(" "),t.showUploadButton?i("button",{staticClass:"upload-file button",attrs:{id:"bulk-upload-trigger",tabindex:"0",disabled:t.isLoading||!t.selectedContext},on:{click:t.accept}},[t._v("\n    "+t._s(t.$t("Upload"))+"\n  ")]):i("button",{staticClass:"upload-file button",attrs:{tabindex:"0",disabled:!t.canClose},on:{click:t.done}},[t._v("\n    "+t._s(t.$t("Done"))+"\n  ")])])}),[],!1,null,"1dd54cd5",null).exports,pt=i(750).a,mt=Object(B.a)(pt,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"upload-modal upgrade-client reveal",attrs:{id:"upgrade-client","data-reveal":"","data-close-on-click":"false","data-close-on-esc":"false","data-animation-in":"slide-in-up fast","data-animation-out":"slide-out-down fast"}},[i("div",{staticClass:"grid-container"},[i("div",{staticClass:"modal-close-x",on:{click:t.dismiss}}),t._v(" "),i("div",{staticClass:"upload-header"},[i("div",{staticClass:"title upload-title"},[i("span",[t._v(t._s(t.$t("Client Version Not Supported")))])])])]),t._v(" "),i("div",{staticClass:"upload-content"},[t._l(t.paragraphs,(function(e,s){return i("p",{key:s},[t._v("\n      "+t._s(e)+"\n    ")])})),t._v(" "),t._l(t.links,(function(e){return i("div",{key:e.id,staticClass:"upgrade-action"},[i("button",{staticClass:"upgrade-client button lightup-button",attrs:{id:e.id},on:{click:function(i){return t.follow(e.href)}}},[t._v("\n        "+t._s(e.text)+"\n      ")]),t._v(" "),e.hint?i("div",{staticClass:"link-hint",attrs:{id:e.id+"-hint"}},[t._v("\n        "+t._s(e.hint)+"\n      ")]):t._e()])}))],2)])}),[],!1,null,null,null).exports,gt=i(674),vt=i(70),ft=(i(740),i(14)),Ct=i(71),bt=i(789),yt=i(806),wt=i(786),_t=i(791),Tt=function(t,e,i,s){var a,n=arguments.length,o=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,s);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(o=(n<3?a(o):n>3?a(e,i,o):a(e,i))||o);return n>3&&o&&Object.defineProperty(e,i,o),o};let St=class UploadDetailsModal extends rt.b{constructor(){super(...arguments),this.dialogName="uploadDetails",this.openOnMounted=!1,this.uploadFile=null,this.fileName="",this.polygons=0,this.fileSize=0,this.isAnonymous=!1,this.descMaxLen=k.Constants.ITEM_DESCRIPTION_MAX_LENGTH,this.titleMaxLen=k.Constants.ITEM_TITLE_MAX_LENGTH,this.titleCharsRemaining=k.Constants.ITEM_TITLE_MAX_LENGTH,this.validDescription=!0,this.skpFileReady=!1,this.uploadThumbnail=null,this.uploadIsProduct=this.allowIsProductToggle,this.thumbnailAlt="",this.sketchupClientLoaded_=!1,this.uploadFromClient_=!1,this.updateFromClient_=!1,this.clientCreator_=null,this.clientProduct_=null,this.emscriptenSkpFile=null,this.isMounted=!1,this.selectedContext_=null,this.title_="",this.description_="",this.titleBlockMsg_="",this.descBlockMsg_="",this.contextBlockMsg_="",this.isPrivate_=!1,this.disableComments_=!1,this.uploadAttributesDisabled=!1,this.isAutoCategorized=!1,this.checkContext=!1,this.domain="",this.subdomain="",this.category=""}onProductToggleVisibilityChange(){this.uploadIsProduct=this.allowIsProductToggle}created(){this.scrollable=!0,this.unwatch=this.$store.watch(((t,e)=>e.userOrganizations),((t,e)=>{this.checkContext=t.length>0,this.selectedContext=t.length>0?null:this.$user.id}))}mounted(){this.selectedContext=this.initialContext,this.checkContext=this.userHasOrgs,this.isMounted=!0}beforeDestroy(){this.$el.remove(),this.unwatch()}afterOpen(){this.$nextTick((()=>{this.updateFromClient_&&(this.selectedContext=this.clientCreator_,this.uploadIsProduct=this.uploadToOrgContext&&this.clientProduct_)})),this.loadSkpFile(),this.$refs.titleInput.focus()}reset(t){this.uploadFile=t,this.uploadThumbnail=null,this.thumbnailAlt="",this.title="",this.description="",this.isPrivate_=!1,this.disableComments_=!1,this.uploadFromClient_=!1,this.uploadIsProduct=this.uploadToOrgContext,this.uploadAttributesDisabled=!1,this.polygons=0,this.fileSize=0,this.fileName=null,this.domain="",this.subdomain="",this.category=""}uploadFromClient(t){this.skpFileReady=!0,this.uploadFromClient_=!0,this.updateFromClient_=t.updating,this.isAnonymous=null==t.fileName,this.fileName=this.isAnonymous?"":t.fileName,this.polygons=this.isAnonymous?0:t.polygons,this.fileSize=this.isAnonymous?0:t.fileSize,this.title=t.title,this.description=t.description,this.isPrivate_=t.isPrivate,this.disableComments_=!t.allowComments;let e=t.attributes;this.uploadIsProduct=t.isProduct,this.uploadAttributesDisabled=this.getMetadataAttributeValue(e,"attributesDisabled"),this.domain=this.getCategoriesAttributeValue(e,"domain"),this.subdomain=this.getCategoriesAttributeValue(e,"subdomain"),this.category=this.getCategoriesAttributeValue(e,"category"),this.clientCreator_=t.creator,this.clientProduct_=t.isProduct}getMetadataAttributeValue(t,e){return K.a.getAttributeValue(t,"metadata",e)||!1}getCategoriesAttributeValue(t,e){return K.a.getAttributeValue(t,"categories",e)||""}get acceptDisabled(){return!(this.titleValid&&this.validDescription&&this.contextValid)}get allowIsProductToggle(){return this.$isAdmin||this.uploadToOrgContext}accept(){this.acceptDisabled||this.closeModal().then((()=>{if(this.acceptCallback){const t=this.getModelUploadDetails();this.acceptCallback(t,this.selectedContext)}}))}get selectedContext(){return this.selectedContext_}set selectedContext(t){this.selectedContext_=t,this.isClientUpdate?this.uploadIsProduct=this.uploadToOrgContext&&this.clientProduct_:this.uploadIsProduct=this.uploadToOrgContext}get uploadToOrgContext(){return this.selectedContext!==this.$user.id}getModelUploadDetails(){let t={title:this.title,description:this.description,isPrivate:this.isPrivate,allowComments:!this.disableComments_,skpFile:this.emscriptenSkpFile,file:null},e={categories:{},metadata:{attributesDisabled:{dataType:"boolean",value:this.uploadAttributesDisabled}}};if(this.allowIsProductToggle&&(e["3dw"]={isProduct:{dataType:"boolean",value:this.uploadIsProduct}}),this.domain){const t={dataType:"string",value:this.domain};e.categories.domain=t}if(this.subdomain){const t={dataType:"string",value:this.subdomain};e.categories.subdomain=t}if(ft.d(this.$user,this.uploadToOrgContext)&&this.category){const t={dataType:"string",value:this.category};e.categories.category=t}if(this.isAutoCategorized){if(e.autoCategorization={},this.domain){const t={dataType:"string",value:this.domain};e.autoCategorization.domain=t}if(this.subdomain){const t={dataType:"string",value:this.subdomain};e.autoCategorization.subdomain=t}}if(this.domain){let t=ft.b.MODIFIER_OWNER;this.$isAdmin&&(t=ft.b.MODIFIER_ADMIN);let i={dataType:"string",value:t};e.categories.modifier=i}return t.attributes=e,t}get sketchupClientLoaded(){return this.sketchupClientLoaded_}set sketchupClientLoaded(t){!this.sketchupClientLoaded_&&t&&(this.sketchupClientLoaded_=t,this.loadSkpFile())}get title(){return this.title_}set title(t){t=t.trim(),this.title_=t}get upload(){return this.description_}get description(){return this.description_}set description(t){this.description_=t}get isPrivate(){return this.isPrivate_}set isPrivate(t){this.isPrivate_=t}get disableComments(){return this.disableComments_}set disableComments(t){this.disableComments_=t}get titleBlockMsg(){return this.titleBlockMsg_}set titleBlockMsg(t){this.titleBlockMsg_=t}get contextBlockMsg(){return this.contextBlockMsg_}set contextBlockMsg(t){this.contextBlockMsg_=t}get descBlockMsg(){return this.descBlockMsg_}set descBlockMsg(t){this.descBlockMsg_=t}get isClientUpload(){return this.uploadFromClient_}get isClientUpdate(){return this.updateFromClient_}get uploadLabel(){return this.isClientUpdate?this.$t("Update"):this.$t("Upload")}loadSkpFile(){this.skpFileReady=!1,this.isMounted&&this.sketchupClientLoaded_&&this.uploadFile&&(this.deleteSkpFile(),this.emscriptenSkpFile=new at.a(this.uploadFile),this.loadFilePromise=this.emscriptenSkpFile.init(),this.loadFilePromise.then((()=>{this.$nextTick((()=>{this.thumbnailAlt=this.emscriptenSkpFile.title,this.uploadThumbnail=this.emscriptenSkpFile.thumbnailUrl,this.skpFileReady=!0}))}),(()=>{vt.a.error("Could not load skp file."),this.dismiss(!0)})))}checkTitle(t){this.titleCharsRemaining=this.titleMaxLen-this.titleLen}categorySelectionChanged(t,e,i,s=!1){this.domain=t,this.subdomain=e,this.category=i,this.isAutoCategorized=s}get uploadFileName(){let t="";return t=this.isClientUpload?this.fileName:this.uploadFile?this.uploadFile.name:"",t.endsWith(".skp")?t:t+".skp"}get titleLen(){return this.title?this.title.length:0}get trimmedTitleLen(){return this.title?this.title.trim().length:0}get descriptionLen(){return this.description?this.description.length:0}get trimmedDescriptionLen(){return this.description?this.description.trim().length:0}get titleLabel(){return this.$t("Title")}get contextLabel(){return this.$t("Upload Context")}get descriptionLabel(){return this.$t("Description")}get titleValid(){return this.trimmedTitleLen>0&&this.titleCharsRemaining>=0&&!this.titleBlockMsg}get contextValid(){return null!=this.selectedContext&&!this.contextBlockMsg}isValidDescription(){let t=!0;this.description.length>this.descMaxLen&&(t=!1),!1===Ct.b(this.description)&&(t=!1);const e=Ct.a(this.description);!1===Ct.d(e)&&(t=!1),this.descBlockMsg.length>0&&(t=!1),this.validDescription=t}deleteSkpFile(){this.emscriptenSkpFile&&(this.emscriptenSkpFile.cleanUp(),this.emscriptenSkpFile=null)}dismiss(t=!1){if(Object(Z.l)(this.$client)&&Object(Z.m)(this.$client)){const t=et.a.CLOSE_WINDOW,e=et.d(t);et.e(window,e)}this.deleteSkpFile(),this.uploadFile=null,this.closeModal(rt.a.SlideOutDown).then((()=>{t&&this.errorCallback?this.errorCallback():this.cancelCallback&&this.cancelCallback()}))}toggleIsProduct(){this.uploadIsProduct=!this.uploadIsProduct}toggleAttributesDisabled(){this.uploadAttributesDisabled=!this.uploadAttributesDisabled}get uploadContexts(){const t=[];t.push({value:this.$user.id,label:this.$t("My Account")});for(let e of this.$store.getters.userOrganizations)t.push({value:e.id,label:e.displayName});return t}get userHasOrgs(){return this.uploadContexts.length>1}get initialContext(){return this.userHasOrgs?null:this.$user.id}};Tt([Object(gt.f)("allowIsProductToggle")],St.prototype,"onProductToggleVisibilityChange",null),St=Tt([Object(gt.a)({props:{uploadFile:Object,acceptCallback:Function,cancelCallback:Function,errorCallback:Function},components:{CategorizationAssignment:bt.a,CharactersRemaining:wt.a,DiscoverabilityBar:yt.a,ErrorInContext:$.a,HelpCallout:_t.b,ItemSelector:ot.a}})],St);var Et=St,Ot=Object(B.a)(Et,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"upload-details upload-modal reveal",attrs:{id:"upload-details","data-reveal":"","data-close-on-click":"false","data-close-on-esc":"false"}},[i("div",{staticClass:"upload-flow"},[i("div",{staticClass:"upload-header grid-container"},[i("div",{staticClass:"modal-close-x",attrs:{tabindex:"0"},on:{click:function(e){return t.dismiss(!1)}}}),t._v(" "),i("div",{staticClass:"modal-dialog-title-text title upload-title"},[i("span",[t._v(t._s(t.$t("Model Details")))])])]),t._v(" "),i("div",{staticClass:"upload-content upload-details row"},[i("div",{staticClass:"thumbnail-and-title"},[t.isClientUpload?t._e():i("div",{staticClass:"upload-image"},[t.skpFileReady?i("div",{staticClass:"img-container"},[t.uploadThumbnail?i("img",{attrs:{src:t.uploadThumbnail,alt:t.thumbnailAlt}}):i("img",{attrs:{src:"/static/images/blank-thumbnail.png"}})]):i("div",{staticClass:"loading-container"},[i("div",{staticClass:"loading"})])]),t._v(" "),t.isClientUpload?i("div",[t.isAnonymous?i("div",{staticClass:"anonymous-warning"},[i("p",[t._v(t._s(t.$t("This action will upload your current SketchUp file as a new model.")))])]):i("div",[i("div",{staticClass:"upload-info"},[i("div",{staticClass:"info-value"},[t._v(t._s(t.uploadFileName))])])])]):i("div",{staticClass:"upload-filename"},[t._v("\n          "+t._s(t.uploadFileName)+"\n        ")])]),t._v(" "),i("div",{staticClass:"general-content client-12 large-7 columns"},[i("div",{staticClass:"title-and-context"},[i("div",{staticClass:"upload-title-input"},[i("error-in-context",{attrs:{errorState:!!t.titleBlockMsg,errorText:t.titleBlockMsg,contextHeader:t.titleLabel,maxCharacters:t.titleMaxLen,isRequired:!0,characterCount:t.titleLen}}),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],ref:"titleInput",attrs:{id:"title-input",tabindex:"0",maxlength:t.titleMaxLen},domProps:{value:t.title},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:e.metaKey?t.accept():null},input:[function(e){e.target.composing||(t.title=e.target.value)},t.checkTitle]}})],1),t._v(" "),i("div",{staticClass:"upload-context-input"},[i("error-in-context",{attrs:{errorState:!!t.contextBlockMsg,errorText:t.contextBlockMsg,contextHeader:t.contextLabel,isRequired:!0,maxCharacters:0}}),t._v(" "),i("item-selector",{staticClass:"upload-organization-selector",attrs:{id:"upload-organization-context-selector",disabled:!t.userHasOrgs||t.isClientUpdate,placeholder:t.$t("Upload to"),emphasizeSelection:!0,items:t.uploadContexts,isContextClass:!0,emitEvents:!1,minDropdownWidth:150,maxDropdownWidth:250,dropdownWidthShouldMatchSelectorWidth:!0},model:{value:t.selectedContext,callback:function(e){t.selectedContext=e},expression:"selectedContext"}})],1)]),t._v(" "),i("div",{staticClass:"upload-description-input"},[i("div",{staticClass:"input-label"},[t._v("\n            "+t._s(t.$t("Description"))+"\n            "),i("characters-remaining",{attrs:{characterCount:t.description.length,maxAllowed:t.descMaxLen}})],1),t._v(" "),i("div",{staticClass:"description-text"},[i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.description,expression:"description"}],class:{"input-field-error-bar":!t.validDescription},attrs:{name:"new-description",id:"new-description-input",maxlength:t.descMaxLen,tabindex:"0"},domProps:{value:t.description},on:{input:[function(e){e.target.composing||(t.description=e.target.value)},t.isValidDescription],keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:e.metaKey?t.accept():null}}})])]),t._v(" "),i("div",{staticClass:"upload-private-input switch-container"},[i("div",{staticClass:"float-left"},[t._v(t._s(t.$t("Private Model"))+"\n            "),i("help-callout",{attrs:{calloutText:t.$t("Make this model visible to you only")}})],1),t._v(" "),i("div",{staticClass:"switch float-right"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.isPrivate,expression:"isPrivate"}],staticClass:"switch-input",attrs:{type:"checkbox",id:"private-check",name:"IsPrivate",tabindex:"0"},domProps:{checked:Array.isArray(t.isPrivate)?t._i(t.isPrivate,null)>-1:t.isPrivate},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:e.metaKey?t.accept():null},change:function(e){var i=t.isPrivate,s=e.target,a=!!s.checked;if(Array.isArray(i)){var n=t._i(i,null);s.checked?n<0&&(t.isPrivate=i.concat([null])):n>-1&&(t.isPrivate=i.slice(0,n).concat(i.slice(n+1)))}else t.isPrivate=a}}}),t._v(" "),i("label",{staticClass:"switch-paddle",attrs:{for:"private-check"}},[i("span",{staticClass:"show-for-sr"},[t._v(t._s(t.$t("Private Model")))])])])]),t._v(" "),i("div",{staticClass:"upload-comments-input switch-container"},[i("div",{staticClass:"float-left"},[t._v(t._s(t.$t("Disable Comments"))+"\n          ")]),t._v(" "),i("div",{staticClass:"switch float-right"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.disableComments,expression:"disableComments"}],staticClass:"switch-input",attrs:{type:"checkbox",id:"disableCommentcheck",name:"DisableComments",tabindex:"0"},domProps:{checked:Array.isArray(t.disableComments)?t._i(t.disableComments,null)>-1:t.disableComments},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:e.metaKey?t.accept():null},change:function(e){var i=t.disableComments,s=e.target,a=!!s.checked;if(Array.isArray(i)){var n=t._i(i,null);s.checked?n<0&&(t.disableComments=i.concat([null])):n>-1&&(t.disableComments=i.slice(0,n).concat(i.slice(n+1)))}else t.disableComments=a}}}),t._v(" "),i("label",{staticClass:"switch-paddle",attrs:{for:"disableCommentcheck"}},[i("span",{staticClass:"show-for-sr"},[t._v(t._s(t.$t("Disable Comments")))])])])]),t._v(" "),t.allowIsProductToggle?i("div",{staticClass:"is-product switch-container"},[i("div",{staticClass:"float-left"},[t._v(t._s(t.$t("Product Model")))]),t._v(" "),i("help-callout",{attrs:{calloutText:t.$t("A Product model is a real-world product that can be purchased or specified")}}),t._v(" "),i("div",{staticClass:"switch float-right"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.uploadIsProduct,expression:"uploadIsProduct"}],staticClass:"switch-input",attrs:{type:"checkbox",id:"upload-model-is-product",name:"UploadIsProduct"},domProps:{checked:Array.isArray(t.uploadIsProduct)?t._i(t.uploadIsProduct,null)>-1:t.uploadIsProduct},on:{click:t.toggleIsProduct,change:function(e){var i=t.uploadIsProduct,s=e.target,a=!!s.checked;if(Array.isArray(i)){var n=t._i(i,null);s.checked?n<0&&(t.uploadIsProduct=i.concat([null])):n>-1&&(t.uploadIsProduct=i.slice(0,n).concat(i.slice(n+1)))}else t.uploadIsProduct=a}}}),t._v(" "),i("label",{staticClass:"switch-paddle",attrs:{for:"upload-model-is-product"}},[i("span",{staticClass:"show-for-sr"},[t._v(t._s(t.$t("Product Model")))])])])],1):t._e(),t._v(" "),t.uploadIsProduct?i("div",{staticClass:"disable-attributes switch-container"},[i("div",{staticClass:"float-left"},[t._v(t._s(t.$t("Disable Attributes")))]),t._v(" "),i("div",{staticClass:"switch float-right"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.uploadAttributesDisabled,expression:"uploadAttributesDisabled"}],staticClass:"switch-input",attrs:{type:"checkbox",id:"upload-model-disable-attributes",name:"UploadDisableAttributes"},domProps:{checked:Array.isArray(t.uploadAttributesDisabled)?t._i(t.uploadAttributesDisabled,null)>-1:t.uploadAttributesDisabled},on:{click:t.toggleAttributesDisabled,change:function(e){var i=t.uploadAttributesDisabled,s=e.target,a=!!s.checked;if(Array.isArray(i)){var n=t._i(i,null);s.checked?n<0&&(t.uploadAttributesDisabled=i.concat([null])):n>-1&&(t.uploadAttributesDisabled=i.slice(0,n).concat(i.slice(n+1)))}else t.uploadAttributesDisabled=a}}}),t._v(" "),i("label",{staticClass:"switch-paddle",attrs:{for:"upload-model-disable-attributes"}},[i("span",{staticClass:"show-for-sr"},[t._v(t._s(t.$t("Disable Attributes")))])])])]):t._e()]),t._v(" "),i("div",{staticClass:"additional-options client-12 large-5 columns"},[i("div",{staticClass:"category-select"},[i("error-in-context",{attrs:{contextHeader:t.$t("Category")}}),t._v(" "),i("categorization-assignment",{attrs:{category:t.category,domain:t.domain,subdomain:t.subdomain,thumbnailBase64Str:t.uploadThumbnail,id:"upload-cat-assignment"},on:{categorySelectionChanged:t.categorySelectionChanged}})],1),t._v(" "),i("discoverability-bar",{ref:"discBar",attrs:{checkContext:t.checkContext,context:t.selectedContext,domain:t.domain,subdomain:t.subdomain,title:t.title,description:t.description}})],1)]),t._v(" "),i("div",{staticClass:"upload-footer"},[i("button",{staticClass:"upload-file button",class:{"disabled-button":t.acceptDisabled},attrs:{disabled:t.acceptDisabled,tabindex:"0"},on:{click:t.accept}},[t._v("\n        "+t._s(t.uploadLabel)+"\n      ")])])])])}),[],!1,null,"9e45e39a",null).exports,It=i(794),At=function(t,e,i,s){var a,n=arguments.length,o=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,s);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(o=(n<3?a(o):n>3?a(e,i,o):a(e,i))||o);return n>3&&o&&Object.defineProperty(e,i,o),o};let Dt=class UploadSelectorModal extends rt.b{constructor(){super(...arguments),this.dialogName="UploadSelector",this.errorState=!1,this.errorText=null,this.openOnMounted=!0}beforeDestroy(){this.$eventBus.$off(k.Events.UPLOAD_ERROR,this.setError),this.$el.remove()}created(){this.$on(k.Events.UPLOAD_FILES_CHANGED,this.fileChanged),this.$eventBus.$on(k.Events.UPLOAD_ERROR,this.setError)}reset(){this.errorState=!1,this.errorText=null,this.fileUpload.resetFileUpload(!1)}get fileUploadSettings(){return{allowMultipleFiles:this.allowMultiple,maxFileSize:1024*J.e(this.$context.isVerified,this.$store.getters.entitlements),supportedFileTypes:["skp"],allowDropEvent:this.fileDroppedInDropZone}}get titleText(){return this.allowMultiple?this.$t("Upload New Models"):this.$t("Upload New Model")}fileDroppedInDropZone(t,e){return t||this.isOverModal(e)?(this.setError(null),!0):(this.setError(this.$tLabel({text:S.c.DROP_ZONE_ERROR})),setTimeout((()=>{this.setError(null)}),Q.a.DEFAULT_DELAY),!1)}setError(t){this.errorText=t,this.errorState=!!t}fileChanged(){this.fileUpload.fileToUpload&&(this.setError(null),this.closeModal().then((()=>{if(this.acceptCallback){const t=this.fileUpload.filesToUpload,e=this.allowMultiple&&t.length>1?t:t[0].file;this.acceptCallback(e)}})))}dismiss(){this.closeModal(rt.a.SlideOutDown).then((()=>{this.cancelCallback&&this.cancelCallback()}))}isOverModal(t){return!t||k.isDragOverElement(t,"#upload-selector")}get fileUpload(){return this.$refs.fileUpload}};Dt=At([Object(d.b)({props:{cancelCallback:Function,allowMultiple:Boolean},components:{FileUpload:It.a}})],Dt);var Mt=Dt,kt=Object(B.a)(Mt,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"upload-modal upload-selector reveal",attrs:{id:"upload-selector","data-reveal":"","data-close-on-click":"false","data-close-on-esc":"false"}},[i("div",{staticClass:"grid-container"},[i("div",{staticClass:"modal-close-x",attrs:{tabindex:"0"},on:{click:t.dismiss}}),t._v(" "),i("div",{staticClass:"upload-header"},[i("div",{staticClass:"title upload-title"},[i("span",[t._v(t._s(t.titleText))])])])]),t._v(" "),i("div",{staticClass:"upload-content"},[i("div",{staticClass:"modal-error-placeholder",class:{active:t.errorState}},[t.errorState?i("div",{staticClass:"modal-error"},[t._v("\n        "+t._s(t.errorText)+"\n      ")]):t._e()]),t._v(" "),i("file-upload",t._b({ref:"fileUpload",attrs:{handleOwnErrors:!1,acceptableFileFormats:".skp",allowMultipleFiles:t.allowMultiple}},"file-upload",t.fileUploadSettings,!1))],1)])}),[],!1,null,null,null).exports,Lt=function(t,e,i,s){var a,n=arguments.length,o=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,s);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(o=(n<3?a(o):n>3?a(e,i,o):a(e,i))||o);return n>3&&o&&Object.defineProperty(e,i,o),o},$t=function(t,e,i,s){return new(i||(i=Promise))((function(a,n){function o(t){try{l(s.next(t))}catch(t){n(t)}}function r(t){try{l(s.throw(t))}catch(t){n(t)}}function l(t){var e;t.done?a(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,r)}l((s=s.apply(t,e||[])).next())}))};let xt=class UploadFlowController extends c.a{constructor(){super(...arguments),this.name="upload-controller",this.uploading=!1,this.fileToUpload=null,this.uploadType="",this.sketchupClientLoaded=!1,this.clientUpdating=!1,this.allowMultiple=!1}beforeDestroy(){null!=this.bulkUploadDetails&&(this.bulkUploadDetails.$destroy(),this.bulkUploadDetails=null),null!=this.uploadStatusModal&&(this.uploadStatusModal.$destroy(),this.uploadStatusModal=null),null!=this.upgradeClientModal&&(this.upgradeClientModal.$destroy(),this.upgradeClientModal=null),null!=this.uploadDetailsModal&&(this.uploadDetailsModal.$destroy(),this.uploadDetailsModal=null),null!=this.uploadSelectorModal&&(this.uploadSelectorModal.$destroy(),this.uploadSelectorModal=null)}uploadStart(t=!1){const e=this.isBulkUploadEnabled();this.initializeState(e),t?this.checkUrlAction():Z.h()?this.startSketchupWebUpload():Z.l(this.$client)||Z.m(this.$client)?this.isOldClient()||this.inClientUploadFlow(null):this.browserUploadFlow()}isBulkUploadEnabled(){return(this.$isAdmin||this.$inOrgContext)&&(!Z.l(this.$client)||!Z.m(this.$client))}startSketchupWebUpload(){Object(tt.a)("upload-warehouse-model")}initializeState(t){this.uploading=!1,this.fileToUpload=null,this.uploadType="",this.sketchupClientLoaded=!1,this.uploadEntityId=null,this.clientUpdating=!1,this.entity=null,this.allowMultiple=t}browserUploadFlow(){this.uploading=!0,this.setupDetailsModal(),this.setupBulkDetailsModal(),this.uploadSelectorModal?(this.uploadSelectorModal.allowMultiple=this.allowMultiple,this.uploadSelectorModal.reset(),this.uploadSelectorModal.openModal()):(this.uploadSelectorModal=new kt({store:this.$store,propsData:{cancelCallback:this.uploadCanceled,acceptCallback:this.uploadSelected,allowMultiple:this.allowMultiple}}),this.uploadSelectorModal.mountOnPage())}uploadSelected(t){if(this.uploading)return this.fileToUpload=t,this.fileToUpload&&this.allowMultiple&&t.length>1?(this.bulkUploadDetails.acceptCallback=this.bulkUploadDetailsProvided,this.bulkUploadDetails.reset(this.fileToUpload),void this.bulkUploadDetails.openModal()):this.fileToUpload?(this.uploadDetailsModal.acceptCallback=this.uploadDetailsProvided,this.uploadDetailsModal.reset(this.fileToUpload),void this.uploadDetailsModal.openModal()):void this.uploadError()}uploadError(){const t=this.$t("Oops! An error has occurred."),e=k.StatusModalState.Failure;this.uploadStatusModal?(this.uploadStatusModal.currentState=e,this.uploadStatusModal.failureMessage=t,this.uploadStatusModal.acceptCallback=this.uploadCanceled,this.uploadStatusModal.openModal()):(this.uploadStatusModal=new st.a({store:this.$store,propsData:{currentState:e,failureMessage:t,acceptCallback:this.uploadCanceled}}),this.uploadStatusModal.mountOnPage())}uploadDetailsProvided(t,e){return $t(this,void 0,void 0,(function*(){const i=k.StatusModalState.LoadingDeterminate;this.uploadStatusModal?(this.uploadStatusModal.startState=i,this.uploadStatusModal.currentState=i,this.uploadStatusModal.openModal()):(this.uploadStatusModal=new st.a({store:this.$store,propsData:{startSate:i,currentState:i,acceptCallback:this.uploadComplete}}),this.uploadStatusModal.loadDetTitle=" ",this.uploadStatusModal.loadDetMessage=this.$t("Uploading your model"),this.uploadStatusModal.mountOnPage()),this.uploadStatusModal.loadPercent=0,t.file=this.fileToUpload,t.progressCallback=t=>{this.uploadStatusModal.loadPercent=t};const s=t.isPrivate?"private":"public";let a=t.skpFile.sourceBinaryName;const n=this.$api.performAs;this.$api.performAs=e;try{let i=yield it.c(t,this.$api);E.m("web",!0,a,t.skpFile.filename,s),this.sendUploadEventToAmplitude(this.$user,e,t,i),this.uploadEntityId=i,this.uploadStatusModal.currentState=k.StatusModalState.Success,this.uploadStatusModal.successMessage=this.$t("Your model was successfully uploaded!  Please allow a few minutes for the model to be rendered.")}catch(e){E.m("web",!1,a,t.skpFile.filename,s),this.uploadFailed(this.$t("Something went wrong while uploading your model. Please try again."))}finally{this.$api.performAs=n,t.skpFile.cleanUp()}}))}bulkUploadDetailsProvided(t,e){return $t(this,void 0,void 0,(function*(){this.bulkUploadDetails.uploading=!0,this.bulkUploadDetails.canClose=!1;let i=[];t.forEach((t=>{if(t.uploading=!t.fileTooLarge,t.failure=t.fileTooLarge,!t.failure){const s=it.b(t),a=this.$user.id!==e;s.attributes["3dw"]={isProduct:{dataType:"boolean",value:a}},i.push(s)}}));const s=t.filter((t=>!0!==t.fileTooLarge));let a=null;const n=this.$api.performAs;this.$api.performAs=e;try{a=yield this.$api.bulkCreateEntities(i)}catch(t){return this.$api.performAs=n,this.bulkUploadDetails.canClose=!0,void(this.bulkUploadDetails.failure=!0)}let o=a?a.entries:null,r=[];s.forEach(((t,i)=>{if(201===o[i].status){t.progress=30;const s=o[i].headers["WHP-ID"][0];t.progressCallback=e=>{t.progress=e};let a=this.uploadModelToExistingEntity(s,e,t);r.push(a)}else t.failure=!0})),Promise.all(r).then((()=>{})).catch((t=>{})).finally((()=>{this.$api.performAs=n,this.bulkUploadDetails.canClose=!0}))}))}uploadModelToExistingEntity(t,e,i){return $t(this,void 0,void 0,(function*(){i.progressCallback=t=>{i.progress=t};let s=i.skpFile.sourceBinaryName;const a=i.isPrivate?"private":"public";try{yield it.d(t,i,this.$api),E.m("web",!0,s,i.skpFile.filename,a),this.sendUploadEventToAmplitude(this.$user,e,i,t),i.progress=100,i.success=!0}catch(t){E.m("web",!1,s,i.skpFile.filename,a),i.progress=0,i.failure=!0}i.skpFile.cleanUp()}))}uploadComplete(){const t=this.uploadEntityId;this.uploading=!1;const e=this.uploadDetailsModal.title,i=L.p(t,e);window.location.href=i}uploadFailed(t){this.uploading=!1,this.uploadStatusModal.currentState=k.StatusModalState.Failure,this.uploadStatusModal.failureTitle=this.$t("Oops!"),this.uploadStatusModal.failureMessage=t,this.uploadStatusModal.acceptCallback=this.uploadCanceled}uploadCanceled(){this.uploading=!1}inClientUploadFlow(t){this.uploading=!0,this.setupDetailsModal();const e={fileName:t,polygons:this.query.polygons?parseInt(this.query.polygons):0,fileSize:this.query.fsize?parseInt(this.query.fsize):0,updating:this.clientUpdating,title:this.entity?this.entity.title:"",description:this.entity?this.entity.description:"",isPrivate:!!this.entity&&this.entity.isPrivate,isProduct:!!this.entity&&!!K.a.getAttributeValue(this.entity.attributes,"3dw","isProduct"),attributes:this.entity?this.entity.attributes:null,allowComments:!this.entity||this.entity.allowComments,creator:this.clientUpdating?this.entity.creator.id:null};this.checkFileSize(t,e.fileSize)&&(this.uploadDetailsModal.acceptCallback=this.inclientUploadDetailsProvided,this.uploadDetailsModal.uploadFromClient(e),this.uploadDetailsModal.openModal())}checkFileSize(t,e){const i=J.e(this.$context.isVerified,this.$store.getters.entitlements);if(e<=i)return!0;const s=A.a(1024*i),a=this.$tLabel(s).replace(" ",""),n={text:this.$t("That file was too large. Please select a file under: {size}",{size:a})},o={text:S.c.GENERIC_ERROR_TITLE},r=Q.c.WARN,l=new Q.b(n,o,null,r);return this.$store.commit("ADD_MODAL_NOTIFICATION",l),!1}inclientUploadFailed(t){this.uploadStatusModal||(this.uploadStatusModal=new st.a({store:this.$store,propsData:{acceptCallback:this.uploadComplete}}),this.uploadStatusModal.mountOnPage()),this.uploadFailed(t)}inclientUploadDetailsProvided(t,e){const i={startState:k.StatusModalState.LoadingIndeterminate,currentState:k.StatusModalState.LoadingIndeterminate,loadIndetTitle:" ",loadIndetMessage:this.$t("Uploading your model")};this.setUploadStatus(i);const s=this.$api.performAs;this.$api.performAs=e;const a=t.isPrivate?"private":"public";let n;this.clientUpdating?(t.externalUrl=this.entity.externalUrl,n=this.$api.updateEntity(this.uploadEntityId,t)):n=this.$api.createEntity(t),n.then((t=>{this.clientUpdating||(this.uploadEntityId=t);const e="skp:upload@"+this.uploadEntityId;let i=et.d(e);et.e(window,i)}),(()=>{E.m("web",!1,this.clientBinaryType,"nofile",a),this.inclientUploadFailed(this.$t("Something went wrong while uploading your model. Please try again."))})).finally((()=>{this.$api.performAs=s}))}setUploadStatus(t){this.uploadStatusModal?(this.uploadStatusModal.resetModal(t),this.uploadStatusModal.isClosed&&this.uploadStatusModal.openModal()):(this.uploadStatusModal=new st.a({store:this.$store,propsData:t}),this.uploadStatusModal.mountOnPage())}clientUpgrade(){this.upgradeClientModal?this.upgradeClientModal.openModal():(this.upgradeClientModal=new mt({store:this.$store,propsData:{}}),this.upgradeClientModal.mountOnPage())}isOldClient(){return this.clientVersion||(this.clientVersion=q.parseSUVersion()),this.clientVersion.major<k.Constants.MINIMUM_MAJOR_VERSION&&!Z.m(this.$client)&&(this.clientUpgrade(),!0)}updateUrlAction(){this.$router.replace({query:Object.assign(Object.assign({},this.$route.query),{urlActionComplete:"true"})})}checkUrlAction(){if(this.uploadEntityId="",!this.query.urlActionComplete&&!this.isOldClient()){if(this.clientBinaryType=X.c(this.clientVersion.major),"entity"===this.query.subjectClass&&"NEWMODEL"===this.query.task){if(this.updateUrlAction(),!this.isSignedIn){const t={feature:"ModelUpload",message:this.$t("Oops! You need to be signed in to upload a model.")};return void this.$eventBus.$emit(k.Events.SIGN_IN_GUARD,t)}if(!1==!Z.l(this.$client)&&!1==!Z.m(this.$client))return void this.$eventBus.$emit(k.Events.UPLOAD_START);this.uploadEntityId=this.query.subjectId;const t=this.query.fn.trim();return t?(this.setupDetailsModal(),void this.checkModelOwnership(this.uploadEntityId).then((()=>{this.inClientUploadFlow(t)}),(()=>{this.inclientUploadFailed(this.$t("Could not verify model ownership. Try again later."))}))):void this.inclientUploadFailed(this.$t("File not found."))}return"1"===this.query.clientUploadFailure?(this.updateUrlAction(),this.uploadEntityId=this.query.id,E.m("skp",!1,this.clientBinaryType,"dummyfile.skp","unknown"),void this.inclientUploadFailed(this.$t("Client was not able to upload model file. Try again later."))):void 0}}checkModelOwnership(t){if(this.clientUpdating=!1,t){let e={recordEvent:!1};return this.$api.getEntity(t,e).then((t=>(this.entity=t,this.clientUpdating=this.canUpdateEntity(t),this.clientUpdating)),(t=>t.status&&404===t.status?(this.uploadEntityId=null,this.entity=null,Promise.resolve(!1)):Promise.reject(t)))}return Promise.resolve(!0)}canUpdateEntity(t){if(t.creator.id===this.$user.id)return!0;return this.$store.getters.userOrganizations.findIndex((e=>e.id===t.creator.id))>=0}setupDetailsModal(){this.uploadDetailsModal||(this.uploadDetailsModal=new Ot({store:this.$store,propsData:{errorCallback:this.uploadError,cancelCallback:this.uploadCanceled,acceptCallback:this.uploadDetailsProvided}}),this.uploadDetailsModal.mountOnPage()),Z.l(this.$client)||Z.m(this.$client)||it.a(this.$isServer).then((()=>{this.uploadDetailsModal&&this.$nextTick((()=>{this.uploadDetailsModal.sketchupClientLoaded=!0}))}))}setupBulkDetailsModal(){this.bulkUploadDetails||(this.bulkUploadDetails=new ht({store:this.$store,propsData:{canClose:!0,uploading:!1,cancelCallback:this.resetBulkDetails}}),this.bulkUploadDetails.mountOnPage()),it.a(this.$isServer).then((()=>{this.$nextTick((()=>{this.bulkUploadDetails.sketchupClientLoaded=!0}))}))}resetBulkDetails(){this.bulkUploadDetails.uploading=!1,this.bulkUploadDetails.canClose=!0,this.fileToUpload=[]}get isSignedIn(){return null!=this.$user}sendUploadEventToAmplitude(t,e,i,s,a="unknown"){return $t(this,void 0,void 0,(function*(){const n=i.attributes?E.e(i.attributes):null,o=t.id===e?u.ExternalResourceType.User:u.ExternalResourceType.Org,r={"3dw_resource_type":o,dynamic_component:!!i.skpFile&&i.skpFile.isDynamic,event_schema_version:E.b.EVENT_SCHEMA_VERSION,file_type:E.b.SKP_FILE,file_version:i.skpFile?i.skpFile.sourceBinaryName:a,geolocated:!!i.skpFile&&i.skpFile.isGeolocated,host_lang:navigator?navigator.language:"?",lang:t.language||"unknown",material_count:i.skpFile?i.skpFile.materialCount:null,model_id:s,model_name:i.title,model_category:null!=n&&n.domainLabel?n.domainLabel:null,model_productcategory:null!=n&&n.categoryLabel?n.categoryLabel:null,model_subcategory:null!=n&&n.subdomainLabel?n.subdomainLabel:null,polygon_count:i.skpFile?i.skpFile.polygonCount:null,private:i.isPrivate,source_type:E.g(this.$client),upload_type:E.b.MODEL_UPLOAD,user_id:t.trimbleId||"unknown",verified_content:o!==u.ExternalResourceType.User,whp_id:e},l=E.f(this.$client);try{this.$analytics.sendEvent(l.appName,Y.EventTypes3DW.Upload,r,l.id)}catch(t){}}))}};xt=Lt([Object(d.b)({props:{query:Object}})],xt);var Pt,Rt=xt,Nt=Object(B.a)(Rt,(function(){var t=this.$createElement;return(this._self._c||t)("div")}),[],!1,null,null,null).exports,Ut=i(774),Ft=i(53);function Bt(t,e){localStorage.setItem(t,JSON.stringify(e)),localStorage.removeItem(t)}!function(t){t.LoginUser="LoginUser",t.LogoutUser="LogoutUser"}(Pt||(Pt={}));var jt=i(104),Vt=i(768),Ht=function(t,e,i,s){var a,n=arguments.length,o=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,s);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(o=(n<3?a(o):n>3?a(e,i,o):a(e,i))||o);return n>3&&o&&Object.defineProperty(e,i,o),o},Gt=function(t,e,i,s){return new(i||(i=Promise))((function(a,n){function o(t){try{l(s.next(t))}catch(t){n(t)}}function r(t){try{l(s.throw(t))}catch(t){n(t)}}function l(t){var e;t.done?a(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,r)}l((s=s.apply(t,e||[])).next())}))};let zt=class ServerRenderedPage extends c.a{constructor(){super(...arguments),this.hasLocalStorage=!0,this.showPromoModal=!0,this.allowUrlActions=!1,this.api=null,this.modelPreviewModal=null,this.signinModal=null,this.uploadController=null}beforeDestroy(){this.$eventBus.$off(k.Events.UPLOAD_START,this.onUploadStart),this.$eventBus.$off(k.Events.MODEL_QUICK_VIEW,this.openModelPreviewModal),this.$eventBus.$off(k.Events.SIGN_IN_GUARD,this.onSignInGuardTriggered),null!=this.modelPreviewModal&&(this.modelPreviewModal.$destroy(),this.modelPreviewModal=null),null!=this.signinModal&&(this.signinModal.$destroy(),this.signinModal=null),null!=this.uploadController&&(this.uploadController.$destroy(),this.uploadController=null)}created(){!this.$isServer&&this.pageStateKey&&this.restorePageState()}mounted(){this.uploadController=new Nt({store:this.$store,router:this.$router,propsData:{query:this.$route.query}}),this.$eventBus.$on(k.Events.UPLOAD_START,this.onUploadStart),this.$eventBus.$on(k.Events.MODEL_QUICK_VIEW,this.openModelPreviewModal),this.$eventBus.$on(k.Events.SIGN_IN_GUARD,this.onSignInGuardTriggered),this.hasLocalStorage=this.testLocalStorage();const t=this.$route.query.sessionId||null;if(null!=t)try{jt.c(jt.a.SESSION_ID,t)}catch(t){}if(this.isSignedIn&&Vt.a(this.$store,this.$user),this.allowUrlActions&&this.uploadController.uploadStart(!0),this.showPromoModal){const t=L.F();if(!1===s.environment.isSketchupClient(t)&&!1===s.environment.isSketchupMobileClient(t)){const t=[{cookieKey:"sketchup2022cybermonday",imgSrc:"/static/images/SU2022-3DWH-Banner-CyberMonday.jpg",altText:"Cyber Monday 2022",title:this.$t("Cyber deals are on."),promoText:this.$t("One week only; we’ve combined Black Friday + Cyber Monday to offer you 25% off a Pro subscription."),linkRef:"https://www.sketchup.com/plans-and-pricing#commercial",linkLabel:this.$t("Subscribe"),featureToggle:"ENABLE_PROMO_MODAL"}];t.push(this.getSU23LaunchPromo()),this.openPromoModal(t)}}!0==!!this.$route.query.login&&null!=this.$user&&Bt(Pt.LoginUser,{reset:!0}),!0==!!this.$route.query.logout&&null==this.$user&&Bt(Pt.LogoutUser,{logout:!0}),window.addEventListener("storage",(t=>Gt(this,void 0,void 0,(function*(){t.key===Pt.LoginUser&&null!=t.newValue?(yield this.$store.dispatch("FETCH_CURRENT_USER"),this.$store.commit("SET_CURRENT_CONTEXT",{data:this.$user})):t.key===Pt.LogoutUser&&null!=t.newValue&&(yield this.$store.commit("SET_CURRENT_USER",{data:null}),this.$store.commit("SET_CURRENT_CONTEXT",{data:null}))}))))}loadSketchupClient(){return it.a(this.$isServer)}getSU23LaunchPromo(){const t=(new Date).valueOf()%2==1?"A":"B";return{abKey:`su23launchpromo${t}`,cookieKey:"su23launchpromo",imgSrc:`/static/images/SU2023-Launch-Banner-${t}.jpg`,altText:"SketchUp 2023 Launch",promoText:{A:this.$t("Spark creative breakthroughs in 2023 with brand-new updates in SketchUp."),B:this.$t("Go from Revit to SketchUp with ease in SketchUp 2023.")}[t],linkRef:"https://blog.sketchup.com/article/revit-importer-delivers-flexible-workflows",linkLabel:this.$t("Learn more."),featureToggle:"SU23_LAUNCH_PROMO"}}checkSignInAndRoles(){return this.isSignedIn?this.$isAdmin||this.checkRoles():(this.signIn(),!1)}get pageAccessSignInAndRoleBlock(){return!!this.isSignedIn&&(this.$isAdmin||this.checkRoles())}checkRoles(){var t;for(let e of this.requiredRoles)if(!n.userHasRole(null===(t=this.$user)||void 0===t?void 0:t.roles,e))return!1;return!0}get isSales(){var t;return this.isSignedIn&&n.isSales(null===(t=this.$user)||void 0===t?void 0:t.roles)}signIn(){let t=window.location.href;const e=L.F();let i=a.generateWhpSignInUrl(t,t,e);"true"===r.a.get(Ft.a.AUTOMATED_TEST_COOKIE)&&(i+=`&${Ft.a.AUTOMATED_TEST_COOKIE}=true`),window.location.href=i}get pageDescription(){return this.$tLabel({text:S.f})}get currentLanguage(){return this.$store.getters.language}get currentUser(){return this.$user}get isSignedIn(){return null!=this.$user}get isMobileClient(){return Object(Z.m)(this.$client)}savePageState(){if(this.pageStateKey){const t=JSON.stringify(this.pageState);this.setState(this.pageStateKey,t)}}restorePageState(){if(this.pageStateKey){const t=this.getState(this.pageStateKey);t&&(this.pageState=JSON.parse(t)),this.updatePageState()}}updatePageState(){}setState(t,e){if(this.hasLocalStorage)try{window.localStorage.setItem(t,e)}catch(t){}}getState(t){if(!this.hasLocalStorage)return null;try{return window.localStorage.getItem(t)}catch(t){return null}}testLocalStorage(){const t="test_storage_key";try{window.localStorage.setItem(t,"true");const e=window.localStorage.getItem(t);return window.localStorage.removeItem(t),"true"===e}catch(t){return!1}}onSignInGuardTriggered(t){this.signInGuard(t.feature,t.message)}onUploadStart(){this.isSignedIn?this.uploadController.uploadStart(!1):this.signInGuard("ModelUpload",this.$t("Oops. You need to be signed in to upload a new model."))}openModelPreviewModal(t){E.l(E.c.QUICK_VIEW,["Model"]),this.modelPreviewModal?(this.modelPreviewModal.updateModelData(t),this.modelPreviewModal.openModal()):(this.modelPreviewModal=new V({store:this.$store,propsData:{modelId:t}}),this.modelPreviewModal.mountOnPage())}signInGuard(t,e){this.signinModal?(this.signinModal.feature=t,this.signinModal.actionText=e,this.signinModal.returnUrl=window.location.href,this.signinModal.openModal()):(this.signinModal=new W({store:this.$store,propsData:{feature:t,actionText:e,returnUrl:window.location.href}}),this.signinModal.mountOnPage())}get uploading(){return!!this.uploadController&&this.uploadController.uploading}openPromoModal(t){let e=this.$route.query.promo?this.$route.query.promo:"",i=this.$route.query.startDate?this.$route.query.startDate:"",s=this.$route.query.endDate?this.$route.query.endDate:"";new G({store:this.$store,propsData:{override:e,startDate:i,endDate:s,promoContent:t}}).tryToMount()}};zt=Ht([Object(d.b)({components:{},mixins:[Ut.a]})],zt);var Wt=zt,Yt=Object(B.a)(Wt,(function(){var t=this.$createElement;return(this._self._c||t)("div")}),[],!1,null,null,null);e.a=Yt.exports},818:function(t,e,i){"use strict";var s,a=i(0),n=i(755),o=i(734),r=i(771),l=i(772),c=i(756),d=i(773),u=i(729),h=i(12),p=i(8),m=i(153),g=i(70),v=i(769),f=i(10),C=i(738),b=i(103),y=i(3),w=i(9),_=i(795),T=i(776),S=i(778),E=i(677),O=i(6),I=i.n(O),A=i(728),D=function(t,e,i,s){var a,n=arguments.length,o=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,s);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(o=(n<3?a(o):n>3?a(e,i,o):a(e,i))||o);return n>3&&o&&Object.defineProperty(e,i,o),o};!function(t){t.ARRAY="array",t.BOOLEAN="boolean",t.NULL="null",t.NUMBER="number",t.OBJECT="object",t.STRING="string"}(s||(s={}));class JsonNode{constructor(t,e,i,s,a){this.key=t,this.value=e,this.type=i,this.show=s,this.parentNodeType=a}}let M=class VueJson extends I.a{constructor(){super(...arguments),this.structure=[]}created(){this.setupComponentStructure()}mounted(){0===this.nestLevel&&(this.getTextarea().textContent=JSON.stringify(this.data)),window.addEventListener("keydown",(t=>{(t.which||t.keyCode)===E.codes.esc&&this.closePanel()}))}setupComponentStructure(){if(this.findNodeType(this.data)==s.ARRAY)for(const[t,e]of this.data.entries()){const i=this.data[t],a=new JsonNode(e,i,this.findNodeType(i),!this.collapse,s.ARRAY);this.structure.push(a)}else if(this.findNodeType(this.data)==s.OBJECT)for(const t in this.data){const e=this.data[t],i=new JsonNode(t,e,this.findNodeType(e),!this.collapse,s.OBJECT);this.structure.push(i)}}findNodeType(t){return Array.isArray(t)?s.ARRAY:"object"==typeof t&&null!==t?s.OBJECT:null===t?s.NULL:"boolean"==typeof t?s.BOOLEAN:"number"==typeof t?s.NUMBER:"string"==typeof t?s.STRING:""}nodeTypeIsString(t){return t===s.STRING}nodeTypeIsNumber(t){return t===s.NUMBER}nodeTypeIsBoolean(t){return t===s.BOOLEAN}nodeTypeIsNull(t){return t===s.NULL}nodeTypeIsArray(t){return t===s.ARRAY}nodeTypeIsObject(t){return t===s.OBJECT}isBaseType(t){return t===s.STRING||t===s.NUMBER||t===s.BOOLEAN||t===s.NULL}nodeValueOutput(t){let e="";switch(t.type){case s.STRING:e='"'+t.value+'"';break;case s.NUMBER:case s.BOOLEAN:e=t.value;break;case s.NULL:e="null"}return e}toggleNodeVisibility(t){for(const[e,i]of this.structure.entries())if(i.key===t.key){const t=new JsonNode(i.key,i.value,i.type,!i.show,i.parentNodeType);this.structure.splice(e,1,t)}}startingToken(t){let e="";return this.nodeTypeIsObject(t.type)?e="{":this.nodeTypeIsArray(t.type)&&(e="["),t.show||(e+=" ..."),e}endingToken(t){let e="";return this.nodeTypeIsObject(t.type)?e="}":this.nodeTypeIsArray(t.type)&&(e="]"),e}addToClipboard(){const t=this.getTextarea();t.style.display="block",t.select(),document.execCommand("copy"),t.style.display="none"}getTextarea(){return document.getElementById(this.textareaId)}get textareaId(){return this.id+"-copy-container"}closePanel(){this.$eventBus.$emit(y.Events.CLOSE_DEBUG_PANEL,this.id)}calcChevronMarginLeft(){return"-"+(16*(this.nestLevel+1)+2)+"px"}calcChevronMarginRight(t){let e=10;return this.nodeTypeIsObject(t.type)&&this.nodeTypeIsArray(t.parentNodeType)&&(e=16),16*(this.nestLevel+1)-2-e+"px"}};M=D([Object(h.b)({components:{IconChevron:A.a},props:{id:String,data:Object,nestLevel:{type:Number,default:0},collapse:{type:Boolean,default:!0}}})],M);var k=M,L=i(28),$=Object(L.a)(k,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"json"},[0===t.nestLevel?i("div",{staticClass:"action copy-action",on:{click:t.addToClipboard}},[t._v("Copy")]):t._e(),t._v(" "),0===t.nestLevel?i("div",{staticClass:"action close-action",on:{click:t.closePanel}},[t._v("X")]):t._e(),t._v(" "),t._l(t.structure,(function(e,s){return i("div",{key:t.id+"_"+t.nestLevel+"_"+s,staticClass:"json-node",class:{"flex-row":t.isBaseType(e.type)}},[t.isBaseType(e.type)?[t.nodeTypeIsArray(e.parentNodeType)?i("span",[t._v("\n        "+t._s(t.nodeValueOutput(e))+"\n      ")]):i("div",{staticClass:" display-flex-row"},[i("div",[t._v(t._s('"'+e.key+'": '))]),t._v(" "),i("div",[t._v(t._s(t.nodeValueOutput(e)))])])]:t.nodeTypeIsArray(e.type)||t.nodeTypeIsObject(e.type)?[i("div",{staticClass:"display-flex-row"},[i("div",{staticClass:"arrow",style:{"margin-left":t.calcChevronMarginLeft(),"margin-right":t.calcChevronMarginRight(e)},on:{click:function(i){return t.toggleNodeVisibility(e)}}},[e.show?i("icon-chevron",{attrs:{thin:!0}}):i("icon-chevron",{attrs:{thin:!0,direction:"right"}})],1),t._v(" "),t.nodeTypeIsArray(e.parentNodeType)?t._e():i("div",[t._v(t._s('"'+e.key+'":'))]),t._v(" "),i("div",{staticClass:"starting-token",on:{click:function(i){return t.toggleNodeVisibility(e)}}},[t._v("\n          "+t._s(t.startingToken(e))+"\n        ")])]),t._v(" "),e.show?i("vue-json",{attrs:{data:e.value,nestLevel:t.nestLevel+1}}):t._e(),t._v(" "),i("div",[t._v(t._s(t.endingToken(e)))])]:[i("div",[t._v(t._s('"error":'))])]],2)})),t._v(" "),0===t.nestLevel?i("textarea",{staticClass:"copy-container",attrs:{id:t.textareaId}}):t._e()],2)}),[],!1,null,null,null).exports,x=function(t,e,i,s){var a,n=arguments.length,o=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,s);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(o=(n<3?a(o):n>3?a(e,i,o):a(e,i))||o);return n>3&&o&&Object.defineProperty(e,i,o),o},P=function(t,e,i,s){return new(i||(i=Promise))((function(a,n){function o(t){try{l(s.next(t))}catch(t){n(t)}}function r(t){try{l(s.throw(t))}catch(t){n(t)}}function l(t){var e;t.done?a(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,r)}l((s=s.apply(t,e||[])).next())}))};let R=class SearchResultCard extends _.a{constructor(){super(...arguments),this.isSelected=!1,this.adminMarkup="",this.downloadDisabled=!1,this.showSearchScoreExpanded=!1,this.isMounted=!1}beforeDestroy(){this.$eventBus.$off(y.Events.CLOSE_DEBUG_PANEL,this.onCloseDebugPanel)}created(){this.downloadDisabled=!f.n(this.$client)&&f.m(this.$client)}mounted(){this.$isAdmin&&this.setAdminMarkup(),this.$eventBus.$on(y.Events.CLOSE_DEBUG_PANEL,this.onCloseDebugPanel),this.isSelected=this.collectionElement.isSelected,this.isMounted=!0}get downloadButton(){return this.isMounted?this.$refs.downloadButton:null}get formattedContainedCount(){let t=this.collectionElement;return this.formatUnitString(t.containedItemsCount)}get downloadsCountShort(){let t=this.collectionElement;return this.formatUnitString(t.downloads)}get likesCountShort(){return this.formatUnitString(this.collectionElement.likes)}get materialsEnabled(){return!1}get thumbnailUrl(){return this.collectionElement.tinyThumbnailUrl}get webpThumbnailUrl(){return this.collectionElement.webpTinyThumbnailUrl}get finalSearchScore(){const t=this.collectionElement.searchScore.finalScore;return this.formatScore(t)}get originalSearchScore(){const t=this.collectionElement.searchScore.originalScore;return this.formatScore(t)}formatScore(t,e=3){return isNaN(t)||null==t?"---":t.toFixed(e)}get inMlTraining(){return this.mlName>""}get mlSelectors(){var t,e,i;return null!==(i=null===(e=null===(t=this.collectionElement.searchScore)||void 0===t?void 0:t.source)||void 0===e?void 0:e.values)&&void 0!==i?i:[]}get mlName(){var t,e,i;return null!==(i=null===(e=null===(t=this.collectionElement.searchScore)||void 0===t?void 0:t.source)||void 0===e?void 0:e.name)&&void 0!==i?i:""}setSelection(){this.isSelected=!0,this.collectionElement.isSelected=!0}cancelSelection(){this.isSelected=!1,this.collectionElement.isSelected=!1}get verifiedOverlayText(){let t=this.$t("This content is from a verified provider.");return this.isOwner&&(t+=" "+this.$t("Migrate this content to a private folder.")),t}get showIcons(){return this.isGeolocated||this.isLiveComponent||this.isDynamicComponent||this.isCertifiedContent}get isCertifiedContentEnabled(){return C.a.getCertifiedContentEnabled(this.$store)}onSetMlValue(t){var e;return P(this,void 0,void 0,(function*(){const i=null===(e=this.collectionElement.searchScore)||void 0===e?void 0:e.source;try{let e={endpoint:a.AttributeEndpoint.Entities,subjectId:this.collectionElement.id,category:i.category,name:i.manualLabel,dataType:i.dataType,value:t};yield this.$api.setAttribute(e),this.collectionElement.searchScore.originalScore=t,this.$pushSnackbar("Training value set.",y.SnackbarMessageTypes.success,y.SnackbarIcons.SUCCESS)}catch(t){this.$pushSnackbar("Could not set training value.",y.SnackbarMessageTypes.failure,y.SnackbarIcons.ALERT)}}))}onCatalogSearch(t){this.actionCallback&&this.actionCallback(this.getActionContext(y.ContextAction.CatalogSearch,t))}onConvertToFolder(t){this.actionCallback&&this.actionCallback(this.getActionContext(y.ContextAction.ConvertFolder,t))}onManageContent(t){this.actionCallback&&this.actionCallback(this.getActionContext(y.ContextAction.ManageContent,t))}onCardClicked(t){this.selectableCard&&!this.showVerifiedOverlay&&(this.isSelected=!this.isSelected,this.collectionElement.isSelected=this.isSelected,this.actionCallback&&this.actionCallback(this.getActionContext(y.ContextAction.Toggle,t)))}onRightClick(t){this.selectableCard&&this.actionCallback&&(t.stopImmediatePropagation(),t.preventDefault(),this.isSelected?this.actionCallback(this.getActionContext(y.ContextAction.RightClick,t)):(this.onCardClicked(t),this.$nextTick((()=>{this.actionCallback(this.getActionContext(y.ContextAction.RightClick,t))}))))}getActionContext(t,e){return{action:t,item:this.collectionElement,event:e}}onDownloadClicked(){document.dispatchEvent(new Event("click")),this.downloadButton&&this.downloadButton.onDownloadButtonClicked()}onImageClicked(t){const e=this.isModel?Object(y.calculateBreakpoint)():"";!(this.isModel&&this.enableQuickViewButton)||"small"===e||"medium"===e||this.isLiveComponent?window.location.href=w.j(t):this.$eventBus.$emit(y.Events.MODEL_QUICK_VIEW,t.id)}downloadFromEntity(){this.$api.getEntity(this.collectionElement.id,{recordEvent:!1}).then((t=>{let e=new m.c(t);this.downloadModel(e)}),(t=>{g.a.error(JSON.stringify(t.toString()))}))}openMaterialsPanel(){this.$eventBus.$emit(y.Events.BROWSE_ITEMS_OPEN,y.BrowseTypes.Materials,this.collectionElement)}formatUnitString(t){let e=b.c(t||0);return this.$tLabel(e).replace(" ","")}setAdminMarkup(){if(this.collectionElement.attributes){const t="null",e=p.a.getAttributeValue(this.collectionElement.attributes,"skp","sourceBinary"),i=p.a.getAttributeValue(this.collectionElement.attributes,"categories","domain")||t,s=p.a.getAttributeValue(this.collectionElement.attributes,"categories","subdomain")||t;this.adminMarkup=i+"/"+s+"; "+e}}toggleSearchScoreExpandedPanel(){this.showSearchScoreExpanded=!this.showSearchScoreExpanded}onEntitlementUpdated(){this.$store.dispatch("FETCH_CURRENT_USER")}onCloseDebugPanel(t){this.collectionElement.id===t&&(this.showSearchScoreExpanded=!1)}};R=x([Object(h.b)({components:{DownloadButton:T.a,IconBadgeVerified:o.a,IconCertifiedContent:n.a,IconDynamicComponent:r.a,IconGeolocated:d.a,IconLiveComponent:l.a,IconLock:c.a,IconNavFolders:u.a,IconMaterials:{functional:!0,render:function(t,e){var i=e._c;return i("svg",{class:[e.data.class,e.data.staticClass],style:[e.data.style,e.data.staticStyle],attrs:{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[i("rect",{staticClass:"border",attrs:{width:"18",height:"18",fill:"none",stroke:"#474655"}}),i("rect",{staticClass:"square",attrs:{x:"0",y:"0",width:"6",height:"6",fill:"#474655"}}),i("rect",{staticClass:"square",attrs:{x:"12",y:"0",width:"6",height:"6",fill:"#474655"}}),i("rect",{staticClass:"square",attrs:{x:"6",y:"6",width:"6",height:"6",fill:"#474655"}}),i("rect",{staticClass:"square",attrs:{x:"0",y:"12",width:"6",height:"6",fill:"#474655"}}),i("rect",{staticClass:"square",attrs:{x:"12",y:"12",width:"6",height:"6",fill:"#474655"}})])}},LazyPicture:S.a,VueJson:$},props:{collectionElement:Object,isCarousel:Boolean,enableQuickViewButton:Boolean,selectableCard:Boolean,actionCallback:Function,compact:{type:Boolean,default:!1},isShowAdminMarkup:Boolean,showVerifiedOverlay:{type:Boolean,default:!1},isOwner:{type:Boolean,default:!1},isCuratedMaterial:{type:Boolean,default:!1}},mixins:[v.a],inheritAttrs:!1})],R);var N=R,U=Object(L.a)(N,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"search-result-card",class:{managed:t.selectableCard,compact:t.compact}},[i("div",{staticClass:"card-content",class:t.collectionElement.subjectClass,on:{contextmenu:function(e){return t.onRightClick(e)}}},[t.isCollection?i("div",{staticClass:"shadow far"}):t._e(),t._v(" "),t.isCollection?i("div",{staticClass:"shadow near"}):t._e(),t._v(" "),t.selectableCard?i("div",{staticClass:"clickable",on:{click:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"left",37,e.key,["Left","ArrowLeft"])||"button"in e&&0!==e.button?null:(e.stopPropagation(),e.preventDefault(),t.onCardClicked(e))}}},[t.isMaterial?i("div",{style:{cursor:t.materialsEnabled?"pointer":"default"}},[i("div",{staticClass:"thumbnail"},[i("lazy-picture",{attrs:{defaultSource:t.thumbnailUrl,webpSource:t.webpThumbnailUrl,showWebpSource:t.collectionElement.missingCustomImageBinary}})],1)]):i("div",[t.isCollection&&!t.isCatalog?i("div",{staticClass:"collection-card-count"},[t._v("\n          "+t._s(t.formattedContainedCount)+"\n        ")]):t._e(),t._v(" "),t.collectionElement.isPrivate?i("div",{staticClass:"private-card-icon"},[i("IconLock")],1):t._e(),t._v(" "),i("div",{staticClass:"thumbnail"},[i("lazy-picture",{attrs:{defaultSource:t.thumbnailUrl,webpSource:t.webpThumbnailUrl,showWebpSource:t.collectionElement.missingCustomImageBinary}})],1)])]):t._e(),t._v(" "),t.isMaterial?i("div",[i("a",{style:{cursor:t.materialsEnabled?"pointer":"default"},attrs:{tabindex:"0",href:!!t.materialsEnabled&&t.collectionElement.detailsPageUrl},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),function(){}.apply(null,arguments)}}},[i("div",{staticClass:"thumbnail"},[i("lazy-picture",{attrs:{defaultSource:t.thumbnailUrl,webpSource:t.webpThumbnailUrl,showWebpSource:t.collectionElement.missingCustomImageBinary}})],1)])]):i("div",{staticClass:"collection-card"},[null!=t.collectionElement.searchScore?i("div",{staticClass:"debug-info",on:{click:t.toggleSearchScoreExpandedPanel}},[i("div",[t._v(t._s(t.finalSearchScore))]),t._v(" "),i("div",[t._v(t._s(t.originalSearchScore))])]):t._e(),t._v(" "),t.showSearchScoreExpanded?i("div",{staticClass:"debug-info-expanded"},[t.inMlTraining?t._e():i("vue-json",{attrs:{id:t.collectionElement.id,data:t.collectionElement.searchScore,collapse:!1}}),t._v(" "),t.inMlTraining?i("div",{staticClass:"ml-training-selectors",on:{click:t.toggleSearchScoreExpandedPanel}},[i("div",{staticClass:"ml-title"},[t._v(t._s(t.mlName))]),t._v(" "),t._l(t.mlSelectors,(function(e){return i("div",{key:e.label,staticClass:"ml-select",style:{"background-color":e.color},on:{click:function(i){return t.onSetMlValue(e.value)}}},[t._v("\n            "+t._s(e.label)+"\n          ")])}))],2):t._e()],1):t._e(),t._v(" "),t.isCollection&&!t.isCatalog?i("div",{staticClass:"collection-card-count"},[t._v("\n        "+t._s(t.formattedContainedCount)+"\n      ")]):t._e(),t._v(" "),t.collectionElement.isPrivate?i("div",{staticClass:"private-card-icon"},[i("IconLock")],1):t._e(),t._v(" "),i("div",{staticClass:"thumbnail",on:{click:function(e){return t.onImageClicked(t.collectionElement)}}},[t.isCarousel?i("picture",[i("source",{attrs:{srcset:t.webpThumbnailUrl,type:"image/webp"}}),t._v(" "),i("img",{attrs:{src:t.thumbnailUrl,onerror:"this.style.display='none'"}})]):i("lazy-picture",{attrs:{defaultSource:t.thumbnailUrl,webpSource:t.webpThumbnailUrl,showWebpSource:t.collectionElement.missingCustomImageBinary}})],1)]),t._v(" "),i("div",{staticClass:"card-container"},[i("div",{staticClass:"card-details",class:{"live-component-card-details":t.isLiveComponent}},[i("div",{staticClass:"details-column"},[i("div",{staticClass:"card-detail-row"},[t.selectableCard?i("div",{staticClass:"clickable",on:{click:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"left",37,e.key,["Left","ArrowLeft"])||"button"in e&&0!==e.button?null:(e.stopPropagation(),e.preventDefault(),t.onCardClicked(e))}}},[i("span",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.collectionElement.title,expression:"collectionElement.title"}],staticClass:"card-title title"},[t._v("\n                "+t._s(t.collectionElement.title)+"\n              ")])]):i("div",[t.isMaterial?i("a",{style:{cursor:t.materialsEnabled?"pointer":"default"},attrs:{href:!!t.materialsEnabled&&t.collectionElement.detailsPageUrl},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),function(){}.apply(null,arguments)}}},[i("span",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.collectionElement.title,expression:"collectionElement.title"}],staticClass:"card-title title"},[t._v("\n                  "+t._s(t.collectionElement.title)+"\n                ")])]):i("a",{attrs:{href:t.collectionElement.detailsPageUrl}},[i("span",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.collectionElement.title,expression:"collectionElement.title"}],staticClass:"card-title title"},[t._v("\n                  "+t._s(t.collectionElement.title)+"\n                ")])])])]),t._v(" "),t.isMaterial||t.compact?t._e():i("div",{staticClass:"card-detail-row"},[t.selectableCard?i("span",{staticClass:"card-creator clickable",on:{click:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"left",37,e.key,["Left","ArrowLeft"])||"button"in e&&0!==e.button?null:(e.stopPropagation(),e.preventDefault(),t.onCardClicked(e))}}},[t.collectionElement.creatorVerifiedOrOrg?i("IconBadgeVerified"):t._e(),t._v(" "),i("div",{staticClass:"creator-displayname"},[t._v(t._s(t.collectionElement.creatorDisplayName))])],1):i("a",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.collectionElement.creatorDisplayName,expression:"collectionElement.creatorDisplayName"}],staticClass:"card-creator",attrs:{tabindex:"-1",target:"_blank",rel:"noopener",href:t.collectionElement.creatorPageUrl}},[t.collectionElement.creatorVerifiedOrOrg?i("IconBadgeVerified"):t._e(),t._v(" "),i("div",{staticClass:"creator-displayname"},[t._v(t._s(t.collectionElement.creatorDisplayName))])],1)])]),t._v(" "),t.selectableCard||t.isCollection?t._e():i("div",{staticClass:"download-column"},[t.downloadDisabled?t._e():i("div",{staticClass:"card-detail-row search-card-download",class:{"card-detail-row-materials":t.isCuratedMaterial}},[t.isCuratedMaterial?i("span",{staticClass:"svg-icon materials-icon",on:{click:t.openMaterialsPanel}},[i("IconMaterials")],1):t._e(),t._v(" "),t.isLiveComponent?t._e():i("download-button",{ref:"downloadButton",attrs:{entity:t.collectionElement,iconMode:!0,source:"searchResultPage"},on:{"update:Entitlement":t.onEntitlementUpdated}})],1),t._v(" "),t.compact?t._e():i("div",{staticClass:"card-detail-row"},[t.showIcons?i("div",{staticClass:"icon-container"},[t.isCertifiedContentEnabled&&t.isCertifiedContent?i("div",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.$t("Certified Content"),expression:"$t('Certified Content')"}],staticClass:"svg-icon certified-content"},[i("IconCertifiedContent")],1):t._e(),t._v(" "),t.isDynamicComponent?i("div",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.$t("Dynamic Component"),expression:"$t('Dynamic Component')"}],staticClass:"svg-icon dynamic-component"},[i("IconDynamicComponent")],1):t._e(),t._v(" "),t.isLiveComponent?i("div",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.$t("Live Component"),expression:"$t('Live Component')"}],staticClass:"svg-icon live-component"},[i("IconLiveComponent")],1):t._e(),t._v(" "),t.isGeolocated?i("div",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.$t("Geolocated"),expression:"$t('Geolocated')"}],staticClass:"svg-icon geolocated"},[i("IconGeolocated")],1):t._e()]):t._e()])])])]),t._v(" "),i("div",{staticClass:"selected-overlay",class:{selected:t.selectableCard&&t.isSelected},on:{click:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"left",37,e.key,["Left","ArrowLeft"])||"button"in e&&0!==e.button?null:(e.stopPropagation(),e.preventDefault(),t.onCardClicked(e))},contextmenu:function(e){return t.onRightClick(e)}}}),t._v(" "),t.showVerifiedOverlay?i("div",{staticClass:"verified-content-overlay",on:{click:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"left",37,e.key,["Left","ArrowLeft"])||"button"in e&&0!==e.button?null:(e.stopPropagation(),e.preventDefault(),t.onCardClicked(e))}}},[i("div",{staticClass:"verified-warning"},[t._v("\n        "+t._s(t.verifiedOverlayText)+"\n        "),t.isOwner?i("div",{staticClass:"verified-actions"},[i("div",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.$t("Migrate to a Folder"),expression:"$t('Migrate to a Folder')"}],staticClass:"action folder",on:{click:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"left",37,e.key,["Left","ArrowLeft"])||"button"in e&&0!==e.button?null:(e.stopPropagation(),e.preventDefault(),t.onConvertToFolder(e))}}},[i("IconNavFolders")],1)]):t._e()])]):t._e()])])}),[],!1,null,null,null);e.a=U.exports},819:function(t,e,i){"use strict";var s=i(674),a=i(2),n=i(743),o=i(3),r=i(726),l=function(t,e,i,s){var a,n=arguments.length,o=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,s);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(o=(n<3?a(o):n>3?a(e,i,o):a(e,i))||o);return n>3&&o&&Object.defineProperty(e,i,o),o},c=function(t,e,i,s){return new(i||(i=Promise))((function(a,n){function o(t){try{l(s.next(t))}catch(t){n(t)}}function r(t){try{l(s.throw(t))}catch(t){n(t)}}function l(t){var e;t.done?a(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,r)}l((s=s.apply(t,e||[])).next())}))};let d=class DownloadMeteringModal extends r.b{constructor(){super(...arguments),this.openOnMounted=!0,this.loading=!1}beforeDestroy(){this.$el.remove()}getWarningTitle(){switch(this.limitTier){case n.b.DAILY_LIMIT_EXCEEDED:case n.b.MONTHLY_LIMIT_EXCEEDED:case n.b.NEARING_DAILY_LIMIT:case n.b.NEARING_MONTHLY_LIMIT:return this.$t("Whoa, there!");case n.b.APPROACHING_DAILY_LIMIT:case n.b.APPROACHING_MONTHLY_LIMIT:return this.$t("Heads up!");default:return""}}getWarningText(){switch(this.limitTier){case n.b.DAILY_LIMIT_EXCEEDED:return this.$t("You have exceeded the number of downloads allowed per day. To access unlimited 3D Warehouse models, subscribe to SketchUp.");case n.b.MONTHLY_LIMIT_EXCEEDED:return this.$t("You have exceeded the number of downloads allowed per month. To access unlimited 3D Warehouse models, subscribe to SketchUp.");case n.b.NEARING_DAILY_LIMIT:return this.$t("You're about to exceed the number of downloads allowed per day. To access unlimited 3D Warehouse models, subscribe to SketchUp.");case n.b.NEARING_MONTHLY_LIMIT:return this.$t("You're about to exceed the number of downloads allowed per month. To access unlimited 3D Warehouse models, subscribe to SketchUp.");case n.b.APPROACHING_DAILY_LIMIT:return this.$t("You have reached 75% of your allotted daily downloads. To access unlimited 3D Warehouse models, subscribe to SketchUp.");case n.b.APPROACHING_MONTHLY_LIMIT:return this.$t("You have reached 75% of your allotted monthly downloads. To access unlimited 3D Warehouse models, subscribe to SketchUp.");default:return""}}getLinkMessage(){return this.$t("Check out your options here.")}refreshEntitlement(){return c(this,void 0,void 0,(function*(){this.loading=!0;try{yield this.$api.refreshUserEntitlement(this.$user.id),this.$pushSnackbar(this.$t("Success!"),o.SnackbarMessageTypes.success,o.SnackbarIcons.SUCCESS),this.onEntitlementRefreshed()}catch(t){this.$pushSnackbar(this.$t(a.c.GENERIC_ERROR_TITLE),o.SnackbarMessageTypes.failure,o.SnackbarIcons.ALERT)}this.loading=!1,this.closeAndReset()}))}closeAndReset(){this.closeModal()}};l([Object(s.d)()],d.prototype,"limitTier",void 0),l([Object(s.d)()],d.prototype,"onEntitlementRefreshed",void 0),d=l([Object(s.a)({})],d);var u=d,h=i(28),p=Object(h.a)(u,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"download-metering-modal modal-dialog reveal",attrs:{id:"download-metering-modal","data-reveal":"","data-close-on-click":"true","data-close-on-esc":"true","data-animation-in":"fade-in fast"}},[i("h1",{staticClass:"title"},[t._v(t._s(t.getWarningTitle()))]),t._v(" "),i("div",{staticClass:"description"},[t._v("\n    "+t._s(t.getWarningText())+"\n    "),i("a",{staticClass:"purchase-link",attrs:{id:"subscription-link",href:"https://www.sketchup.com/plans-and-pricing#for-professional"}},[t._v("\n      "+t._s(t.getLinkMessage())+"\n    ")])]),t._v(" "),i("div",{staticClass:"modal-dialog-footer"},[i("button",{staticClass:"primary",attrs:{id:"close-metering-modal",disabled:t.loading},on:{click:t.closeAndReset}},[t._v("\n      "+t._s(t.$t("Close"))+"\n    ")])])])}),[],!1,null,"7ff1a8ef",null);e.a=p.exports},820:function(t,e,i){"use strict";var s=i(734),a=i(733),n=i(729),o=i(731),r=i(674),l=i(3),c=i(728),d=i(767),u=function(t,e,i,s){var a,n=arguments.length,o=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,s);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(o=(n<3?a(o):n>3?a(e,i,o):a(e,i))||o);return n>3&&o&&Object.defineProperty(e,i,o),o};let h=class AddToCollectionItem extends r.e{constructor(){super(...arguments),this.contained=!1}beforeDestroy(){this.$eventBus.$off(l.Events.ADDED_TO_COLLECTION,this.onAddedToCollection),this.$eventBus.$off(l.Events.REMOVE_COLLECTIONELEMENT,this.onRemoveCollectionElement),this.$eventBus.$off(l.Events.COLLECTION_CONTAINED_CHANGE,this.onCollectionContainedChange)}created(){this.contained=this.isContained(this.collection),this.$eventBus.$on(l.Events.ADDED_TO_COLLECTION,this.onAddedToCollection),this.$eventBus.$on(l.Events.REMOVE_COLLECTIONELEMENT,this.onRemoveCollectionElement),this.$eventBus.$on(l.Events.COLLECTION_CONTAINED_CHANGE,this.onCollectionContainedChange)}get containsModel(){return this.contained}isContained(t){return this.isSingle&&!0===this.containedInIds[t.id]}get isTargetFavorite(){return"FAV_ROOT"===this.collection.subtype}get isTargetFolder(){return!this.collection.subtype&&this.collection.isPrivate}get isTargetCollection(){return!this.collection.subtype&&!this.collection.isPrivate}onAddedToCollection(t){t.id===this.collection.id&&(this.contained=!0)}onRemoveCollectionElement(t){t.id===this.collection.id&&(this.contained=!1)}onCollectionContainedChange(t){t[this.collection.id]?this.contained=t[this.collection.id]:this.contained=!1}onSelected(){return this.collection}};u([Object(r.d)()],h.prototype,"collection",void 0),u([Object(r.d)()],h.prototype,"isSingle",void 0),u([Object(r.d)()],h.prototype,"containedInIds",void 0),u([Object(r.b)("onSelected")],h.prototype,"onSelected",null),h=u([Object(r.a)({components:{IconCheck:s.a,IconChevron:c.a,IconFavorite:o.a,IconFolder:d.a,IconNavCollection:a.a,IconNavFolder:n.a}})],h);var p=h,m=i(28),g=Object(m.a)(p,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"collection-item"},[t.containsModel?i("span",{staticClass:"svg-icon icon"},[i("IconCheck")],1):i("div",{on:{click:function(e){return t.onSelected()}}},[t.isTargetFavorite?i("span",{staticClass:"svg-icon icon"},[i("IconFavorite")],1):t.isTargetFolder?i("span",{staticClass:"svg-icon icon"},[i("IconNavFolder")],1):t.isTargetCollection?i("span",{staticClass:"svg-icon icon"},[i("IconNavCollection")],1):t._e()]),t._v(" "),i("div",{staticClass:"text",on:{click:function(e){return t.onSelected()}}},[t._v(t._s(t.collection.title))])])}),[],!1,null,"792d0141",null);e.a=g.exports},821:function(t,e,i){"use strict";e.a={functional:!0,render:function(t,e){var i=e._c;return i("svg",{class:[e.data.class,e.data.staticClass],style:[e.data.style,e.data.staticStyle],attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"}},[i("path",{attrs:{fill:"#363545","fill-rule":"evenodd",d:"M12 15.75A1.125 1.125 0 1 1 12 18a1.125 1.125 0 0 1 0-2.25zm.75-2.25a.75.75 0 1 1-1.5 0V5.25a.75.75 0 1 1 1.5 0v8.25zM12 24C5.373 24 0 18.627 0 12S5.373 0 12 0s12 5.373 12 12-5.373 12-12 12zm0-1.5c5.799 0 10.5-4.701 10.5-10.5S17.799 1.5 12 1.5 1.5 6.201 1.5 12 6.201 22.5 12 22.5z"}})])}}},822:function(t,e,i){"use strict";e.a={functional:!0,render:function(t,e){var i=e._c;return i("svg",{class:[e.data.class,e.data.staticClass],style:[e.data.style,e.data.staticStyle],attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"}},[i("path",{staticClass:"pathFill",attrs:{fill:"#363545",stroke:"none","fill-rule":"evenodd",d:"M5 17.5h2.25a.75.75 0 1 1 0 1.5H5v2.5a1 1 0 0 0 1 1h13a1 1 0 0 0 1-1v-19a1 1 0 0 0-1-1H6a1 1 0 0 0-1 1v3h2.25a.75.75 0 0 1 0 1.5H5v4.5h2.25a.75.75 0 1 1 0 1.5H5v4.5zM3.5 19h-.75a.75.75 0 1 1 0-1.5h.75V13h-.75a.75.75 0 1 1 0-1.5h.75V7h-.75a.75.75 0 0 1 0-1.5h.75v-3A2.5 2.5 0 0 1 6 0h13a2.5 2.5 0 0 1 2.5 2.5v19A2.5 2.5 0 0 1 19 24H6a2.5 2.5 0 0 1-2.5-2.5V19z"}})])}}},823:function(t,e,i){"use strict";e.a={functional:!0,render:function(t,e){var i=e._c;return i("svg",{class:[e.data.class,e.data.staticClass],style:[e.data.style,e.data.staticStyle],attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"}},[i("path",{staticClass:"pathFill",attrs:{fill:"#363545","fill-rule":"evenodd",d:"M12.75 22.37l.06-.023 9.077-3.56a1.02 1.02 0 0 0 .613-.973V6.169a1.02 1.02 0 0 0-.005-.125l-9.745 3.82V22.37zm-1.5-.002V9.865l-9.744-3.82a1.092 1.092 0 0 0-.006.141v11.645c-.01.414.234.793.595.947l9.1 3.569.055.02zM12.02 24a.764.764 0 0 1-.042 0 3.704 3.704 0 0 1-1.33-.257l-9.121-3.577A2.507 2.507 0 0 1 0 17.814V6.204a2.511 2.511 0 0 1 1.521-2.37l.022-.008L10.641.259a3.684 3.684 0 0 1 2.712-.001l9.12 3.576a2.518 2.518 0 0 1 1.057.846c.31.432.483.958.47 1.506v11.61a2.52 2.52 0 0 1-1.543 2.378l-9.1 3.57c-.43.168-.883.253-1.336.256zm9.173-19.057l-8.39-3.29a2.188 2.188 0 0 0-1.612.001L2.805 4.942 12 8.547l9.193-3.604z"}})])}}},824:function(t,e,i){"use strict";i.d(e,"b",(function(){return p})),i.d(e,"a",(function(){return m})),i.d(e,"c",(function(){return g}));var s=i(15),a=i(39),n=i(18),o=i(391),r=i(150),l=i.n(r),c=i(149),d=i(53),u=i(9),h=function(t,e,i,s){return new(i||(i=Promise))((function(a,n){function o(t){try{l(s.next(t))}catch(t){n(t)}}function r(t){try{l(s.throw(t))}catch(t){n(t)}}function l(t){var e;t.done?a(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,r)}l((s=s.apply(t,e||[])).next())}))};function p(t){const e=window.location.href,i=u.F();let s=o.generateWhpSignInUrl(e,e,i);const a=c.c.SIGNED_IN_FOR_FEATURE;c.l(a,[t,"true"]),"true"===l.a.get(d.a.AUTOMATED_TEST_COOKIE)&&(s+=`&${d.a.AUTOMATED_TEST_COOKIE}=true`),u.J(s)}function m(t){let e=window.location.href,i=u.r();t=t||"";const r=a.AccountsLanguage[t.toLowerCase()]||a.AccountsLanguage.en;if(c=e,s.parseStack(c)===s.LOCALDEV){let t=`${function(t,e=!1){let i;i=e?new n.Uri(o.SKETCHUP_IDP_PREFIX):new n.Uri(o.SKETCHUP_IDP_PREFIX_STAGE);return i.setPath(t+o.SKETCHUP_IDP_LOGIN),i.toString()}(r)}?destination=${e}&failureDestination=${i}`;u.J(t)}else{const s=u.F();let a=o.generateWhpSignInUrl(e,i,s,t);"true"===l.a.get(d.a.AUTOMATED_TEST_COOKIE)&&(a+=`&${d.a.AUTOMATED_TEST_COOKIE}=true`),u.J(a)}var c}function g(t){return h(this,void 0,void 0,(function*(){l.a.remove(d.a.LANGUAGE),l.a.remove(d.a.REDIRECT),l.a.remove(d.a.TOS_ACCEPT_DATE),l.a.remove(d.a.TOS_ACCEPTED_VERSION),l.a.remove(d.a.CURRENT_CONTEXT,{path:"/",domain:".sketchup.com"});const e=window.location.href,i=u.r(),s=u.F(),a=o.generateWhpSignOutUrl(e,i,s,t);u.J(a)}))}},825:function(t,e,i){"use strict";var s=i(821),a=i(766),n=i(753),o=i(733),r=i(729),l=i(731),c=i(759),d=i(6),u=i.n(d),h=i(12),p=i(3),m=function(t,e,i,s){var a,n=arguments.length,o=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,s);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(o=(n<3?a(o):n>3?a(e,i,o):a(e,i))||o);return n>3&&o&&Object.defineProperty(e,i,o),o};let g=class SnackbarNotification extends u.a{constructor(){super(...arguments),this.show=!1}created(){this.show=this.enabled}timeout_calc(){switch(this.length){case p.Constants.SNACKBAR_LONG:return p.Constants.SNACKBAR_TIMELONG;case p.Constants.SNACKBAR_MEDIUM:return p.Constants.SNACKBAR_TIMEMEDIUM;default:return p.Constants.SNACKBAR_TIMESHORT}}get setColor(){switch(this.type){case p.SnackbarMessageTypes.success:return p.Constants.SNACKBAR_SUCCESS;case p.SnackbarMessageTypes.warning:return p.Constants.SNACKBAR_WARNING;default:return p.Constants.SNACKBAR_FAILURE}}get setTiming(){if(this.show)switch(this.length){case p.Constants.SNACKBAR_LONG:return p.Constants.SNACKBAR_SHOWLONG;case p.Constants.SNACKBAR_MEDIUM:return p.Constants.SNACKBAR_SHOWMEDIUM;default:return p.Constants.SNACKBAR_SHOWSHORT}return""}closeSnackbar(){this.show=!1,this.$emit("snackbarClosed")}};g=m([Object(h.b)({components:{IconAlert:s.a,IconDelete:a.a,IconFavorite:l.a,IconLike:n.a,IconNavCollections:o.a,IconNavFolders:r.a,IconSuccess:{functional:!0,render:function(t,e){var i=e._c;return i("svg",{class:[e.data.class,e.data.staticClass],style:[e.data.style,e.data.staticStyle],attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"}},[i("path",{attrs:{fill:"#4A821F","fill-rule":"evenodd",d:"M12 24C5.373 24 0 18.627 0 12S5.373 0 12 0s12 5.373 12 12-5.373 12-12 12zm0-1.5c5.799 0 10.5-4.701 10.5-10.5S17.799 1.5 12 1.5 1.5 6.201 1.5 12 6.201 22.5 12 22.5zM7.775 12.112l1.89 1.938 7.065-6.763a1.022 1.022 0 0 1 1.47.052c.392.43.37 1.106-.05 1.507l-7.8 7.467c-.41.392-1.05.381-1.445-.025l-2.6-2.667a1.086 1.086 0 0 1 0-1.509 1.022 1.022 0 0 1 1.47 0z"}})])}},IconX:c.a},props:{message:String,enabled:Boolean,length:{type:String,default:p.Constants.SNACKBAR_SHORT},type:{type:Number,default:p.SnackbarMessageTypes.failure},icon:{type:String,default:p.SnackbarIcons.ALERT}},watch:{show:function(t){!0===t&&setTimeout((()=>{this.closeSnackbar()}),this.timeout_calc())},enabled:function(t){!0===this.enabled&&(this.show=this.enabled)}},data:()=>({Constants:p.Constants,SnackbarIcons:p.SnackbarIcons})})],g);var v=g,f=i(28),C=Object(f.a)(v,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"snackbar-notification",class:[{show:t.show},t.setTiming,t.setColor],attrs:{id:"snackbar-notification"}},[i("div",{staticClass:"info-icon"},[t.icon===t.SnackbarIcons.DELETE?i("IconDelete"):t.icon===t.SnackbarIcons.COLLECTION?i("IconNavCollections"):t.icon===t.SnackbarIcons.FOLDER?i("IconNavFolders"):t.icon===t.SnackbarIcons.FAVORITE?i("IconFavorite"):t.icon===t.SnackbarIcons.LIKE?i("IconLike"):t.icon===t.SnackbarIcons.SUCCESS?i("IconSuccess"):i("IconAlert")],1),t._v(" "),i("div",{staticClass:"message"},[t._v(t._s(t.message))]),t._v(" "),i("div",{staticClass:"close",on:{click:t.closeSnackbar}},[i("IconX")],1)])}),[],!1,null,"e6801fd0",null);e.a=C.exports},826:function(t,e,i){"use strict";var s=i(57),a=i(0),n=i(734),o=i(6),r=i.n(o),l=i(674),c=i(727),d=i(53),u=i(10),h=i(54),p=i(3),m=i(9),g=function(t,e,i,s){var a,n=arguments.length,o=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,s);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(o=(n<3?a(o):n>3?a(e,i,o):a(e,i))||o);return n>3&&o&&Object.defineProperty(e,i,o),o};let v=class EditProfileHeader extends r.a{constructor(){super(...arguments),this.name="edit-profile-header",this.alignment="",this.profileThumbnail="",this.manageProfileUrl=""}created(){this.profileThumbnail=this.getProfileThumbnail(),this.alignment=p.DropdownAlignments.RIGHT}mounted(){const t=this.$context.id;this.manageProfileUrl=Object(u.c)(t,this.$isAdmin,this.isOrgContext),this.$store.watch(((t,e)=>e.currentContext),(()=>{this.profileThumbnail=this.getProfileThumbnail()}))}getProfileThumbnail(){let t;return this.dataOwner&&(t=this.dataOwner.avatarUrl),t||"/static/images/icon-profile.svg"}setGenericProfileThumbnail(){this.profileThumbnail="/static/images/icon-profile.svg"}get showContextDropdown(){return this.userHasOrgs&&this.enableContextDropdown}get isOrgContext(){return null!=this.$context&&this.$user.id!==this.$context.id}get displaynameUrl(){return this.linkToProfile?this.viewProfileUrl:"/user"}get viewProfileUrl(){return Object(m.C)(this.dataOwner.id,this.dataOwner.externalResourceType)}get showManageUrl(){return!!this.showManage&&(!!this.$isAdmin||(!this.$inOrgContext||Object(h.i)(this.$store.getters.permissions,h.b.ORG_EDIT_PROFILE)))}get selectedContext(){return null===this.$context?this.$user.id:this.$context.id}set selectedContext(t){let e,i;t!==this.$user.id?(i=t,e=a.ExternalResourceType.Org):(i=this.$user.id,e=a.ExternalResourceType.User),this.$eventBus.$emit(p.Events.TOGGLE_LOADING_OVERLAY),this.$store.dispatch("GET_CURRENT_CONTEXT",{id:i,type:e}).then((()=>{if(s.set(d.a.CURRENT_CONTEXT,this.$context.id,d.a.CURRENT_CONTEXT_DURATION,"/",".sketchup.com"),this.$route.name.includes("ucm")){let e="";e=t===this.$user.id?Object(m.A)(t,a.ExternalResourceType.User):Object(m.A)(t,a.ExternalResourceType.Org),window.location.href=e}else window.location.reload()}))}get userOrganizations(){const t=[];t.push({value:this.$user.id,label:this.$t("My Account")});for(let e of this.$store.getters.userOrganizations)t.push({value:e.id,label:e.displayName});return t}get userHasOrgs(){return this.userOrganizations.length>1}};g([Object(l.d)()],v.prototype,"dataOwner",void 0),g([Object(l.d)({default:!0})],v.prototype,"showEmail",void 0),g([Object(l.d)({default:!0})],v.prototype,"showManage",void 0),g([Object(l.d)({default:!0})],v.prototype,"showViewText",void 0),g([Object(l.d)({default:!1})],v.prototype,"linkToProfile",void 0),g([Object(l.d)({default:!1})],v.prototype,"enableContextDropdown",void 0),v=g([Object(l.a)({components:{IconBadgeVerified:n.a,ItemSelector:c.a}})],v);var f=v,C=i(28),b=Object(C.a)(f,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"edit-profile-header"},[i("div",{staticClass:"thumbnail",class:{"verified-thumbnail":t.dataOwner.isVerified}},[i("img",{staticClass:"profile-thumbnail",attrs:{src:t.profileThumbnail},on:{error:t.setGenericProfileThumbnail}})]),t._v(" "),i("div",{staticClass:"username",class:{verified:t.dataOwner.isVerified},attrs:{title:t.dataOwner.displayName}},[i("div",{staticClass:"displayname-container"},[t.dataOwner.isVerified?i("IconBadgeVerified"):t._e(),t._v(" "),i("a",{staticClass:"displayname",attrs:{href:t.displaynameUrl}},[t._v("\n        "+t._s(t.dataOwner.displayName)+"\n      ")])],1)]),t._v(" "),t.showEmail?i("div",{staticClass:"signed-in-label"},[t._v("\n    "+t._s(t.$t("Signed in with"))+"\n  ")]):t._e(),t._v(" "),t.showEmail?i("div",{staticClass:"email-address-pill"},[i("div",{staticClass:"emailAddress"},[t._v(t._s(this.$user.emailAddress))])]):t._e(),t._v(" "),t.isOrgContext&&this.$user.id!==t.dataOwner.id&&t.showViewText?i("div",{staticClass:"viewing-org-label"},[t._v("\n    "+t._s(t.$t("Viewing an Organization"))+"\n  ")]):i("div",[t.$isAdmin&&t.showEmail&&null!=t.dataOwner.emailAddress&&this.$user.id!==t.dataOwner.id&&t.showViewText?i("div",[i("div",{staticClass:"signed-in-label"},[t._v("\n        "+t._s(t.$t("Viewing User With Email"))+"\n      ")]),t._v(" "),i("div",{staticClass:"email-address-pill"},[i("div",{staticClass:"emailAddress"},[t._v(t._s(t.dataOwner.emailAddress))])])]):t._e()]),t._v(" "),t.showContextDropdown?i("item-selector",{staticClass:"organization-dropdown",attrs:{id:"organization-selector",items:t.userOrganizations,isContextClass:!0,align:t.alignment,minDropdownWidth:150,maxDropdownWidth:250,dropdownWidthShouldMatchSelectorWidth:!0},model:{value:t.selectedContext,callback:function(e){t.selectedContext=e},expression:"selectedContext"}}):t._e(),t._v(" "),t.showManageUrl?i("a",{staticClass:"manage-link",attrs:{id:"manage-profile-link",href:t.manageProfileUrl,target:"_blank",rel:"noopener"}},[t._v("\n    "+t._s(t.$t("Edit Profile"))+"\n  ")]):t._e()],1)}),[],!1,null,null,null);e.a=b.exports},827:function(t,e,i){"use strict";e.a={functional:!0,render:function(t,e){var i=e._c;return i("svg",{class:[e.data.class,e.data.staticClass],style:[e.data.style,e.data.staticStyle],attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"}},[i("path",{staticClass:"pathFill",attrs:{fill:"#8c8b96","fill-rule":"evenodd",d:"M10.535 22.442h2.182V10.535h-2.182v11.907zm3.74 0h2.182v-7.7c0-.704.571-1.276 1.276-1.277h2.745c.706 0 1.278.572 1.278 1.278v7.699h.716a.78.78 0 0 1 0 1.558H.779a.78.78 0 0 1 0-1.558h.717v-3.21c0-.707.572-1.279 1.278-1.279h2.744c.705 0 1.278.572 1.278 1.278v3.21h2.18V10.256c0-.706.572-1.278 1.278-1.278h2.744c.706 0 1.278.572 1.278 1.278v12.187zm3.74 0h2.183v-7.419h-2.182v7.419zm-14.96 0h2.182v-2.93H3.054v2.93zM2.666 8.263l3.351-3.348a2.275 2.275 0 1 1 4.516-.39l3.367.9a2.272 2.272 0 0 1 2.873-.69l2.702-2.112a2.275 2.275 0 1 1 .767 1.379l-2.404 1.88a2.275 2.275 0 1 1-4.368 1.042l-3.477-.93a2.27 2.27 0 0 1-1.735.802 2.266 2.266 0 0 1-1.42-.498L4.052 9.083a2.275 2.275 0 1 1-1.384-.82zm-.116 1.58a.717.717 0 1 0 0 0zm5.05-5.04a.717.717 0 1 0 0 0zm14.124-1.81a.717.717 0 1 0 0-1.435.717.717 0 0 0 0 1.434zM15.74 7.48a.717.717 0 1 0 0-1.434.717.717 0 0 0 0 1.434z"}})])}}},828:function(t,e,i){"use strict";e.a={functional:!0,render:function(t,e){var i=e._c;return i("svg",{class:[e.data.class,e.data.staticClass],style:[e.data.style,e.data.staticStyle],attrs:{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[i("path",{staticClass:"pathFill",attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M4.5 4.5C3.67157 4.5 3 5.17157 3 6C3 6.82843 3.67157 7.5 4.5 7.5C5.32843 7.5 6 6.82843 6 6C6 5.17157 5.32843 4.5 4.5 4.5ZM1.5 6C1.5 4.34315 2.84315 3 4.5 3C6.15685 3 7.5 4.34315 7.5 6C7.5 7.65685 6.15685 9 4.5 9C2.84315 9 1.5 7.65685 1.5 6Z",fill:"#363545"}}),i("path",{staticClass:"pathFill",attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M1.31802 10.318C2.16193 9.47411 3.30653 9 4.5 9C4.91421 9 5.25 9.33579 5.25 9.75C5.25 10.1642 4.91421 10.5 4.5 10.5C3.70435 10.5 2.94129 10.8161 2.37868 11.3787C1.81607 11.9413 1.5 12.7044 1.5 13.5V15H2.25C2.62824 15 2.94729 15.2817 2.99421 15.657L3.66209 21H6C6.41421 21 6.75 21.3358 6.75 21.75C6.75 22.1642 6.41421 22.5 6 22.5H3C2.62176 22.5 2.30271 22.2183 2.25579 21.843L1.58791 16.5H0.75C0.335786 16.5 0 16.1642 0 15.75V13.5C0 12.3065 0.474106 11.1619 1.31802 10.318Z",fill:"#363545"}}),i("path",{staticClass:"pathFill",attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M19.5 4.5C18.6716 4.5 18 5.17157 18 6C18 6.82843 18.6716 7.5 19.5 7.5C20.3284 7.5 21 6.82843 21 6C21 5.17157 20.3284 4.5 19.5 4.5ZM16.5 6C16.5 4.34315 17.8431 3 19.5 3C21.1569 3 22.5 4.34315 22.5 6C22.5 7.65685 21.1569 9 19.5 9C17.8431 9 16.5 7.65685 16.5 6Z",fill:"#363545"}}),i("path",{staticClass:"pathFill",attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M18.75 9.75C18.75 9.33579 19.0858 9 19.5 9C20.6935 9 21.8381 9.47411 22.682 10.318C23.5259 11.1619 24 12.3065 24 13.5V15.75C24 16.1642 23.6642 16.5 23.25 16.5H22.4121L21.7442 21.843C21.6973 22.2183 21.3782 22.5 21 22.5H18C17.5858 22.5 17.25 22.1642 17.25 21.75C17.25 21.3358 17.5858 21 18 21H20.3379L21.0058 15.657C21.0527 15.2817 21.3718 15 21.75 15H22.5V13.5C22.5 12.7043 22.1839 11.9413 21.6213 11.3787C21.0587 10.8161 20.2957 10.5 19.5 10.5C19.0858 10.5 18.75 10.1642 18.75 9.75Z",fill:"#363545"}}),i("path",{staticClass:"pathFill",attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M12 1.5C10.7574 1.5 9.75 2.50736 9.75 3.75C9.75 4.99264 10.7574 6 12 6C13.2426 6 14.25 4.99264 14.25 3.75C14.25 2.50736 13.2426 1.5 12 1.5ZM8.25 3.75C8.25 1.67893 9.92893 0 12 0C14.0711 0 15.75 1.67893 15.75 3.75C15.75 5.82107 14.0711 7.5 12 7.5C9.92893 7.5 8.25 5.82107 8.25 3.75Z",fill:"#363545"}}),i("path",{staticClass:"pathFill",attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M7.75736 9.25736C8.88258 8.13214 10.4087 7.5 12 7.5C13.5913 7.5 15.1174 8.13214 16.2426 9.25736C17.3679 10.3826 18 11.9087 18 13.5V15.75C18 16.1642 17.6642 16.5 17.25 16.5H15.6787L14.9963 23.3246C14.9579 23.708 14.6353 24 14.25 24H9.75C9.36469 24 9.04206 23.708 9.00372 23.3246L8.32126 16.5H6.75C6.33579 16.5 6 16.1642 6 15.75V13.5C6 11.9087 6.63214 10.3826 7.75736 9.25736ZM12 9C10.8065 9 9.66193 9.47411 8.81802 10.318C7.97411 11.1619 7.5 12.3065 7.5 13.5V15H9C9.38531 15 9.70794 15.292 9.74628 15.6754L10.4287 22.5H13.5713L14.2537 15.6754C14.2921 15.292 14.6147 15 15 15H16.5V13.5C16.5 12.3065 16.0259 11.1619 15.182 10.318C14.3381 9.47411 13.1935 9 12 9Z",fill:"#363545"}})])}}},829:function(t,e,i){"use strict";e.a={functional:!0,render:function(t,e){var i=e._c;return i("svg",{class:[e.data.class,e.data.staticClass],style:[e.data.style,e.data.staticStyle],attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"}},[i("path",{staticClass:"pathFill",attrs:{fill:"#8c8b96","fill-rule":"evenodd",d:"M9.05 1.901a1.21 1.21 0 0 0-2.104.87l.067 1.398a2.71 2.71 0 0 1-2.846 2.85l-1.398-.07a1.208 1.208 0 0 0-.87 2.103l1.04.944a2.712 2.712 0 0 1 0 4.024l-1.04.94a1.209 1.209 0 0 0 .874 2.103l1.4-.07a2.709 2.709 0 0 1 2.845 2.844l-.072 1.397a1.21 1.21 0 0 0 2.103.87l.944-1.04a2.71 2.71 0 0 1 4.022 0l.939 1.038a1.21 1.21 0 0 0 2.1-.866l-.07-1.4a2.71 2.71 0 0 1 2.843-2.846l1.401.071a1.21 1.21 0 0 0 .873-2.105l-1.043-.94a2.712 2.712 0 0 1 0-4.026l1.043-.94a1.21 1.21 0 0 0-.87-2.105l-1.402.07a2.709 2.709 0 0 1-2.838-2.842l.071-1.4a1.21 1.21 0 0 0-2.107-.871l-.944 1.035a2.708 2.708 0 0 1-4.023.001l-.939-1.037zm2.05.03a1.208 1.208 0 0 0 1.8-.001l.943-1.037a2.71 2.71 0 0 1 4.718 1.955l-.071 1.4a1.209 1.209 0 0 0 1.264 1.269l1.402-.071a2.71 2.71 0 0 1 1.95 4.718l-1.042.94a1.21 1.21 0 0 0 0 1.797l1.043.941a2.71 2.71 0 0 1-1.955 4.718l-1.401-.07a1.208 1.208 0 0 0-1.269 1.269l.071 1.405a2.71 2.71 0 0 1-4.71 1.948l-.941-1.042a1.21 1.21 0 0 0-1.797.001l-.946 1.042a2.71 2.71 0 0 1-4.712-1.952l.072-1.4a1.209 1.209 0 0 0-1.27-1.27l-1.399.071a2.71 2.71 0 0 1-1.958-4.715l1.041-.94a1.21 1.21 0 0 0-.001-1.799L.89 10.163A2.71 2.71 0 0 1 2.842 5.45l1.402.07a1.208 1.208 0 0 0 1.27-1.275l-.067-1.403A2.71 2.71 0 0 1 10.16.892l.94 1.04zm.9 15.325a5.253 5.253 0 1 1 0-10.505 5.253 5.253 0 0 1 0 10.505zm0-1.5a3.752 3.752 0 1 0-.001-7.504 3.752 3.752 0 0 0 0 7.504z"}})])}}},830:function(t,e,i){"use strict";var s=i(675),a=i(55),n=i(49),o=i(763),r=i(6),l=i.n(r),c=i(12),d=i(149),u=i(10),h=i(732),p=i(3),m=(i(730),i(150)),g=i.n(m),v=i(739),f=function(t,e,i,s){var a,n=arguments.length,o=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,s);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(o=(n<3?a(o):n>3?a(e,i,o):a(e,i))||o);return n>3&&o&&Object.defineProperty(e,i,o),o};let C=class April2023SalesNewsItem extends v.a{constructor(){super(...arguments),this.template="#april-2023-sales-promo-news-item-template",this.name="april-2023-sales-promo",this.isClient=!1}mounted(){this.isClient=u.g(this.$client)}getStartTime(){return new Date(Date.UTC(2023,3,17,7))}getEndTime(){return new Date(Date.UTC(2023,3,29,7))}getMarketingLink(){return`https://www.sketchup.com/${this.$store.getters.language}/plans-and-pricing?utm_source=3DWH&utm_medium=direct&utm_campaign=april-promo`}userHasEntitlement(){var t;const e=null!==(t=this.$store.getters.entitlements)&&void 0!==t?t:[];return a.EntitlementsHandler.permitWithMinimumOrHigherEntitlement(e,a.Entitlements.SILVER)}get shouldShow(){return!this.userHasEntitlement()&&(!this.isClient&&(!!this.shouldShowOnCurrentPage()&&(!!this.isUrlOverridePresent()||this.isActive()&&!g.a.get(this.getCookieName()))))}};C=f([Object(c.b)({inheritAttrs:!1})],C);var b=C,y=i(28),w=Object(y.a)(b,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"show",rawName:"v-show",value:t.shouldShow,expression:"shouldShow"}],staticClass:"news-item-container",class:{dismissed:t.dismissed},attrs:{id:"april-2023-sales-promo-message"}},[i("div",{staticClass:"content-container"},[t._v("\n    "+t._s(t.$t("Take your creativity further in 2023 with 23% off a Pro subscription."))+"\n    "),i("a",{attrs:{href:t.getMarketingLink(),target:"_blank"}},[t._v(t._s(t.$t("Buy now")))])]),t._v(" "),i("span",{staticClass:"news-item-close-button modal-close-x",on:{click:t.closeNewsItem}})])}),[],!1,null,null,null).exports,_=i(104),T=function(t,e,i,s){var a,n=arguments.length,o=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,s);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(o=(n<3?a(o):n>3?a(e,i,o):a(e,i))||o);return n>3&&o&&Object.defineProperty(e,i,o),o};let S=class EndOfService2019NewsItem extends v.a{constructor(){super(...arguments),this.template="#end-of-service-2019-template",this.isInvalidClientVersion=!1,this.isSessionEmpty=!1}mounted(){this.isInvalidClientVersion=u.j(),this.isSessionEmpty=!_.b(_.a.NEWS_ITEMS_EOS_2019)}getStartTime(){return new Date(Date.UTC(2022,10,30,18))}getEndTime(){return new Date(Date.UTC(2100,10,30,18))}getHelpCenterArticleLink(){return`https://help.sketchup.com/${this.$store.getters.language}/admin/end-of-support-policy`}getUpdateSketchupLink(){return"https://www.sketchup.com/products/all"}get shouldShow(){return!1!==this.isInvalidClientVersion&&(!!this.shouldShowOnCurrentPage()&&(!!this.isUrlOverridePresent()||this.isActive()&&this.isSessionEmpty))}closeNewsItem(t,e){_.c(_.a.NEWS_ITEMS_EOS_2019,"true"),this.isDismissed=!0,this.$emit("newsItemDismissed",this),this.onNewsItemClosed()}};S=T([Object(c.b)({inheritAttrs:!1})],S);var E=S,O=Object(y.a)(E,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"show",rawName:"v-show",value:t.shouldShow,expression:"shouldShow"}],staticClass:"news-item-container",class:{dismissed:t.dismissed},attrs:{id:"format-deprecation-message"}},[i("div",{staticClass:"content-container"},[i("div",[i("div",[t._v(t._s(t.$t("To keep using 3D Warehouse, Update SketchUp.")))]),t._v(" "),i("div",{staticClass:"news-item-message"},[t._v(t._s(t.$t("3D Warehouse will be disabled on this version of SketchUp on Jan 31, 2023. Web services, like 3D Warehouse, need to be turned off in unsupported versions of SketchUp to maintain security.")))])]),t._v(" "),i("div",{staticClass:"news-item-links"},[i("a",{attrs:{href:t.getHelpCenterArticleLink(),target:"_blank"}},[t._v(t._s(t.$t("Tell Me More")))]),t._v(" "),i("a",{attrs:{href:t.getUpdateSketchupLink(),target:"_blank"}},[t._v(t._s(t.$t("Update SketchUp")))])])]),t._v(" "),i("span",{staticClass:"news-item-close-button modal-close-x",on:{click:t.closeNewsItem}})])}),[],!1,null,null,null).exports,I=function(t,e,i,s){var a,n=arguments.length,o=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,s);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(o=(n<3?a(o):n>3?a(e,i,o):a(e,i))||o);return n>3&&o&&Object.defineProperty(e,i,o),o};let A=class EndOfService2020NewsItem extends v.a{constructor(){super(...arguments),this.template="#end-of-service-2020-template",this.name="eos_2020",this.isInvalidClientVersion=!1,this.isSessionEmpty=!1}mounted(){this.isInvalidClientVersion=u.k(),this.isSessionEmpty=!_.b(_.a.NEWS_ITEMS_EOS_2020)}getCookieName(){return"newsitem_"+this.name+"_refresh"}getStartTime(){return new Date(Date.UTC(2023,4,31,18))}getEndTime(){return new Date(Date.UTC(2100,10,30,18))}getHelpCenterArticleLink(){return`https://help.sketchup.com/${this.$store.getters.language}/admin/end-of-support-policy`}getUpdateSketchupLink(){return"https://www.sketchup.com/products/all"}get shouldShow(){return!1!==this.isInvalidClientVersion&&(!!this.shouldShowOnCurrentPage()&&(!!this.isUrlOverridePresent()||this.isActive()&&this.isSessionEmpty))}closeNewsItem(t,e){_.c(_.a.NEWS_ITEMS_EOS_2020,"true"),this.isDismissed=!0,this.$emit("newsItemDismissed",this),this.onNewsItemClosed()}};A=I([Object(c.b)({inheritAttrs:!1})],A);var D=A,M=Object(y.a)(D,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"show",rawName:"v-show",value:t.shouldShow,expression:"shouldShow"}],staticClass:"news-item-container",class:{dismissed:t.dismissed},attrs:{id:"format-deprecation-message"}},[i("div",{staticClass:"content-container"},[i("div",[i("div",[t._v(t._s(t.$t("To keep using 3D Warehouse, Update SketchUp.")))]),t._v(" "),i("div",{staticClass:"news-item-message"},[t._v(t._s(t.$t("3D Warehouse will be disabled on this version of SketchUp on June 30, 2023. Web services, like 3D Warehouse, need to be turned off in unsupported versions of SketchUp to maintain security.")))])]),t._v(" "),i("div",{staticClass:"news-item-links"},[i("a",{attrs:{href:t.getHelpCenterArticleLink(),target:"_blank"}},[t._v(t._s(t.$t("Tell Me More")))]),t._v(" "),i("a",{attrs:{href:t.getUpdateSketchupLink(),target:"_blank"}},[t._v(t._s(t.$t("Update SketchUp")))])])]),t._v(" "),i("span",{staticClass:"news-item-close-button modal-close-x",on:{click:t.closeNewsItem}})])}),[],!1,null,null,null).exports,k=i(11),L=function(t,e,i,s){var a,n=arguments.length,o=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,s);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(o=(n<3?a(o):n>3?a(e,i,o):a(e,i))||o);return n>3&&o&&Object.defineProperty(e,i,o),o};let $=class MaintenanceNewsItem extends v.a{constructor(){super(...arguments),this.template="#maintenance-template",this.timeOfMaintenance=new Date(Date.UTC(2020,11,12,20)),this.duration=60,this.name="maintenance"+k.dateUtil.format("YYYYMMDD",this.timeOfMaintenance.getTime())}getStartTime(){return k.dateUtil.subtract(this.timeOfMaintenance,7,"d")}getEndTime(){return k.dateUtil.add(this.timeOfMaintenance,this.getDuration(),"m")}getDuration(){return this.duration}};$=L([Object(c.b)({inheritAttrs:!1})],$);var x=$,P=Object(y.a)(x,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.shouldShow?i("div",{staticClass:"news-item-container",class:{dismissed:t.dismissed},attrs:{id:"maintenance-message"}},[i("div",{staticClass:"content-container"},[t._v("\n    "+t._s(t.$t("Please Note: This site is scheduled to undergo maintenance on {datetime}.",{datetime:t.timeOfMaintenance.toLocaleString()}))+"\n    "),i("br"),t._v("\n    "+t._s(t.$t("We expect the site to be down for approximately {duration} minutes. We apologize for any inconvenience.",{duration:t.getDuration()}))+"\n  ")]),t._v(" "),i("span",{staticClass:"news-item-close-button modal-close-x",on:{click:t.closeNewsItem}})]):t._e()}),[],!1,null,null,null).exports,R=function(t,e,i,s){var a,n=arguments.length,o=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,s);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(o=(n<3?a(o):n>3?a(e,i,o):a(e,i))||o);return n>3&&o&&Object.defineProperty(e,i,o),o};let N=class NewsBar extends l.a{constructor(){super(...arguments),this.activeNewsItemCount=0}mounted(){for(let t of this.$children){t.shouldShow&&this.activeNewsItemCount++}this.$emit("newsItemsChanged",this)}onNewsItemDismissed(t){this.activeNewsItemCount--,window.setTimeout((()=>{this.$emit("newsItemsChanged",this)}),500)}};N=R([Object(c.b)({components:{maintenancenewsitem:P,"end-of-service-2019-news-item":O,"end-of-service-2020-news-item":M,"april-2023-sales-promo-news-item":w}})],N);var U=N,F=Object(y.a)(U,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"show",rawName:"v-show",value:t.activeNewsItemCount>0,expression:"activeNewsItemCount > 0"}],attrs:{id:"news-bar-container"}},[i("april-2023-sales-promo-news-item",{ref:"april2023SaleNewsItem",on:{newsItemDismissed:t.onNewsItemDismissed}}),t._v(" "),i("end-of-service-2020-news-item",{ref:"eos2020NewsItem",on:{newsItemDismissed:t.onNewsItemDismissed}}),t._v(" "),i("end-of-service-2019-news-item",{ref:"eos2019NewsItem",on:{newsItemDismissed:t.onNewsItemDismissed}}),t._v(" "),i("maintenancenewsitem",{ref:"maintenancenewsitem",on:{newsItemDismissed:t.onNewsItemDismissed}})],1)}),[],!1,null,null,null).exports,B=i(19),j=i(0),V=i(677),H=i(676),G=i.n(H),z=i(727),W=i(14),Y=i(7),q=i(9),K=function(t,e,i,s){var a,n=arguments.length,o=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,s);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(o=(n<3?a(o):n>3?a(e,i,o):a(e,i))||o);return n>3&&o&&Object.defineProperty(e,i,o),o};let X=class SearchBar extends l.a{constructor(){super(...arguments),this.searchTerms="",this.domain="",this.isMounted=!1,this.autoSuggestions=[],this.autoSuggestTerm="",this.lastSuggestTerm="",this.suggestBaseTerm="",this.typedTextCache="",this.isSuggestingHashtags=!1,this.currentRow=-1,this.searchBarFocused=!1,this.autoSuggestionsOpen=!1,this.suggestPromise=void 0,this.domainOptions=W.k(!0),this.searchKeyWords=["author:","title:"]}get boundDomain(){return this.domain}set boundDomain(t){this.domain=t,this.directSearch||this.$eventBus.$emit(p.Events.SEARCHBAR_DOMAIN_CHANGED,t)}get domainSelectorOpen(){if(!this.isMounted)return!1;return this.$refs.domainSelector.isOpen}get hasSearchTerms(){return!!this.searchTerms}get showAutoSuggestions(){return this.autoSuggestionsOpen}set showAutoSuggestions(t){this.autoSuggestionsOpen=!1}get autoSuggestTermLength(){return this.autoSuggestTerm.length}setupPageState(){if(this.directSearch)return;let t=Y.getSearchParameters(this.$route.fullPath,this.$isAdmin);this.domain=t.domain||"",this.searchTerms=t.searchTerms,this.typedTextCache=this.searchTerms,this.resetAutoSuggestions()}beforeDestroy(){this.$eventBus.$off(p.Events.PAGE_OVERLAY_CLICK,this.onPageHeaderOrOverlayClick),this.$eventBus.$off(p.Events.PAGE_HEADER_CLICK,this.onPageHeaderOrOverlayClick)}created(){this.setupPageState(),this.searchBarFocused=this.autoFocus}mounted(){if(this.$eventBus.$on(p.Events.PAGE_OVERLAY_CLICK,this.onPageHeaderOrOverlayClick),this.$eventBus.$on(p.Events.PAGE_HEADER_CLICK,this.onPageHeaderOrOverlayClick),this.$watch("$route",(function(){this.setupPageState()})),this.debouncedInput=G()((t=>{this.onSearchInput(t)}),p.Constants.DEBOUNCE_EXTRA_SHORT),this.isMounted=!0,this.autoFocus){let t=this.$refs.input,e=t.value;t.focus(),t.value="",t.value=e}}domainSelected(){this.$refs.input.focus(),this.submitSearchTerms()}autoSuggestLinkClick(t){this.searchTerms=t,this.submitSearchTerms()}clearSearchTerms(){this.searchTerms="",this.typedTextCache=this.searchTerms,this.resetAutoSuggestions()}onSearchInputDebounce(t){this.debouncedInput(t)}onSearchInput(t){this.typedTextCache=this.searchTerms,this.suggestBaseTerm=this.parseBaseSuggestTerm(),this.autoSuggestTerm=this.suggestBaseTerm.replace(/[^\w'\\\\#-]+/g," ").trim(),this.autoSuggestTerm!==this.lastSuggestTerm&&this.getAutoSuggestions(t)}submitSearchTerms(){if(this.searchTerms){if(q.H(this.searchTerms)&&q.G(this.searchTerms))return void q.J(this.searchTerms)}const t=this.currentRow>-1;!0===t&&d.l(d.c.AUTO_SUGGESTION,[this.currentRow.toString()]),d.l(d.c.PERFORM_SEARCH,[t.toString()]),this.directSearch?this.performDirectSearch():this.$eventBus.$emit(p.Events.SEARCHBAR_TERMS_CHANGED,this.searchTerms),this.resetAutoSuggestions()}performDirectSearch(){let t={domain:this.domain,searchTerms:this.searchTerms};q.J(q.y(t,"",!0))}resetAutoSuggestions(t=!1){t&&(this.searchTerms=this.typedTextCache),this.autoSuggestTerm="",this.suggestBaseTerm="",this.autoSuggestions=[],this.currentRow=-1,this.showAutoSuggestions=!1}getAutoSuggestions(t){if(this.cancelCurrentSuggestPromise(),B.isEmptyOrWhiteSpace(this.suggestBaseTerm)||this.searchTerms.length>30)return void this.resetAutoSuggestions();if(this.isSuggestingHashtags=this.isHashTagSearch(this.suggestBaseTerm),this.isSuggestingHashtags){let e=this.getCursorPosition(t);if(!this.isValidHashTagSearch(this.suggestBaseTerm,e))return void this.resetAutoSuggestions()}let e=this.performAutoSuggestionsRequest(this.autoSuggestTerm);this.suggestPromise=e,e.then((t=>{e.cancelled||this.updateSearchSuggestions(t)}),(()=>{e.cancelled||this.resetAutoSuggestions()}))}parseBaseSuggestTerm(){if(B.isEmptyOrWhiteSpace(this.searchTerms))return"";const t={searchTerms:this.trimLeadingWhiteSpace(this.searchTerms)};try{q.b(t)}catch(t){}let e=this.getFirstKeywordIndex(t.searchTerms,this.searchKeyWords);return e>=0&&(t.searchTerms=t.searchTerms.substr(0,e)),t.searchTerms.trim()}getFirstKeywordIndex(t,e){let i=-1;for(let s of e){const e=t.indexOf(s);e>=0&&(i<0||e<i)&&(i=e)}return i}performAutoSuggestionsRequest(t){let e={q:t,contentType:j.ContentType.Warehouse3D,count:7,recordEvent:!1};return this.isSuggestingHashtags&&(e.q=t.substring(1),e.property="tags"),this.$api.getAutoCompleteSuggestions(e)}onKeyDown(t){t.keyCode===V.codes.tab&&(this.cancelCurrentSuggestPromise(),this.resetAutoSuggestions(!0)),t.keyCode===V.codes.l&&t.shiftKey&&t.ctrlKey&&this.putCurrentUrlInSearchbar()}onKeyUp(t){if(t.keyCode===V.codes.esc||t.keyCode===V.codes.tab)return this.cancelCurrentSuggestPromise(),void this.resetAutoSuggestions(!0);if(t.keyCode!==V.codes.enter){if(this.autoSuggestions.length>0){if(t.keyCode===V.codes.down)return void this.updateSearchBarIndex(this.currentRow+1);if(t.keyCode===V.codes.up)return void this.updateSearchBarIndex(this.currentRow-1)}}else this.submitSearchTerms()}getCursorPosition(t){if(!t||!t.target)return 0;let e=t.target;return e?e.selectionStart:0}putCurrentUrlInSearchbar(){this.searchTerms=window.location.href}isHashTagSearch(t){return t&&t.split("#").length>1}isValidHashTagSearch(t,e){return!(t.split("#").length>2)&&(!/^\s+$/.test(t)&&"#"!==t)}updateSearchSuggestions(t){this.lastSuggestTerm=this.autoSuggestTerm,this.resetAutoSuggestions();let e=this.isSuggestingHashtags;if(t&&t.suggestions&&t.suggestions.length>0){this.showAutoSuggestions=!0;let i=[];for(let s of t.suggestions){let t=e?`#${s.q}`:s.q;i.push(t)}this.autoSuggestions=i}}updateSearchBarIndex(t){let e=this.autoSuggestions.length?this.autoSuggestions.length:1;this.currentRow=(t+this.autoSuggestions.length)%e,this.searchTerms=this.autoSuggestions[this.currentRow]}cancelCurrentSuggestPromise(){this.suggestPromise&&(this.suggestPromise.cancelled=!0)}trimLeadingWhiteSpace(t){return t.replace(/^\s+/g,"")}onPageHeaderOrOverlayClick(){this.resetAutoSuggestions(!0)}};X=K([Object(c.b)({components:{ItemSelector:z.a},props:{autoFocus:{type:Boolean,default:!0},directSearch:{type:Boolean,default:!0}}})],X);var Z=X,J=Object(y.a)(Z,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"searchbar row columns",class:{"non-empty":t.hasSearchTerms,"searchbar-focused":t.searchBarFocused,"domain-open":t.domainSelectorOpen}},[i("div",{staticClass:"searchbar-content"},[i("item-selector",{ref:"domainSelector",attrs:{id:"searchbar-domains",translateText:!0,items:t.domainOptions},on:{input:t.domainSelected},model:{value:t.boundDomain,callback:function(e){t.boundDomain=e},expression:"boundDomain"}}),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.searchTerms,expression:"searchTerms"}],ref:"input",attrs:{id:"searchbar-input",autofocus:t.autoFocus,type:"text",placeholder:t.$t("Search for Products, Models, Collections, or Catalogs"),autocomplete:"off"},domProps:{value:t.searchTerms},on:{keyup:t.onKeyUp,keydown:t.onKeyDown,focus:function(e){t.searchBarFocused=!0},blur:function(e){t.searchBarFocused=!1},input:[function(e){e.target.composing||(t.searchTerms=e.target.value)},t.onSearchInputDebounce]}}),t._v(" "),i("div",{staticClass:"searchbar-icon searchbar-search-icon",on:{click:t.submitSearchTerms}},[i("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"26",height:"26",viewBox:"-1 -1 27 27"}},[i("ellipse",{attrs:{cx:"8.453",cy:"8.071",rx:"8.453",ry:"8"}}),t._v(" "),i("path",{attrs:{d:"M15.517 13.1l8.211 7.771a.532.532 0 0 1 0 .8l-.845.8a.607.607 0 0 1-.845 0l-8.272-7.714"}})])])],1),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.showAutoSuggestions,expression:"showAutoSuggestions"}],staticClass:"search-auto-suggestions"},[i("ul",t._l(t.autoSuggestions,(function(e,s){return i("li",{key:s,attrs:{selected:s===t.currentRow},on:{mouseenter:function(e){t.currentRow=s}}},[i("div",{attrs:{id:"auto-suggestion-"+s},on:{click:function(i){return t.autoSuggestLinkClick(e)}}},[i("span",{staticClass:"prefix"},[t._v(t._s(t.autoSuggestTerm))]),i("span",{staticClass:"suffix"},[t._v(t._s(e.substr(t.autoSuggestTermLength,e.length)))])])])})),0)])])}),[],!1,null,null,null).exports,Q=i(827),tt=i(753),et=i(822),it=i(733),st=i(729),at=i(823),nt=i(828),ot=i(829),rt=i(731),lt=i(54),ct=i(824),dt=i(826),ut=function(t,e,i,s){var a,n=arguments.length,o=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,s);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(o=(n<3?a(o):n>3?a(e,i,o):a(e,i))||o);return n>3&&o&&Object.defineProperty(e,i,o),o};let ht=class UserBadge extends l.a{constructor(){super(...arguments),this.showBadge=!1,this.isClientGreaterThan18=!1,this.isClientSketchupWeb=!1,this.isMobileEditorClient=!1,this.profileThumbnail="",this.inClient=!1,this.isMobile=!1,this.isLoggedIn=!1,this.isMouseOverItemSelector=!1,this.actions=[],this.TOP_OFFSET=72,this.BASE_HEIGHT=232}beforeDestroy(){this.$eventBus.$off(p.Events.ITEM_SELECTOR_DROPDOWN_MOUSEOVER,this.onItemSelectorDropdownMouseOver),document.removeEventListener("touchstart",this.onDocumentTouched),window.removeEventListener("resize",this.calculateHeight)}created(){this.inClient=u.l(this.$client),this.profileThumbnail=this.getProfileThumbnail(),this.isClientSketchupWeb=u.h(this.$store.getters.embeddedString)}mounted(){document.addEventListener("touchstart",this.onDocumentTouched),this.isClientGreaterThan18=u.f(),this.isMobileEditorClient=u.n(this.$client),window.addEventListener("resize",this.calculateHeight),this.calculateHeight(),null==this.$context&&(this.isLoggedIn=!1),this.$eventBus.$on(p.Events.ITEM_SELECTOR_DROPDOWN_MOUSEOVER,this.onItemSelectorDropdownMouseOver),this.$store.watch((t=>t.currentContext),(()=>{this.profileThumbnail=this.getProfileThumbnail(),this.calculateHeight()}))}createActions(){const t=Object(p.calculateBreakpoint)();this.isMobile="small"===t||"medium"===t,this.actions=[{id:"my-public-page",label:this.isOrgSelectedContext?this.$t("Organization's Public Page"):this.$t("My Public Page"),href:this.publicProfileUrl,icon:"public-profile",visible:!0},{id:"manage-my-content",label:this.isOrgSelectedContext?this.$t("Organization's Content"):this.$t("My Content"),href:this.modelsUrl,icon:"model",visible:!0},{id:"bulk-content-link",label:this.$t("Bulk Content Manager"),href:this.manageContentUrl,icon:"bulk-upload",visible:this.$isAdmin||this.isOrgSelectedContext,target:"_blank"}];const e=Object(lt.i)(this.$store.getters.permissions,lt.b.UCM_ORG_MANAGEMENT);(this.$isAdmin||this.isOrgSelectedContext&&e||!1===this.isOrgSelectedContext)&&this.actions.push({id:"settings-link",label:this.$t("3D Warehouse Settings"),href:this.editWarehouseSettingsUrl,icon:"settings",visible:!0}),this.isOrgSelectedContext&&(this.$isAdmin||e)&&this.actions.splice(1,0,{id:"manage-my-organizations-members",label:this.$t("Organization's Members"),href:q.v(this.$context.id),icon:"org-members",visible:!0})}get currentContextDisplayName(){var t,e;return null!==(e=null===(t=this.$context)||void 0===t?void 0:t.displayName)&&void 0!==e?e:""}get visibleActions(){return this.actions.filter((t=>t.visible))}get langCode(){return this.$store.getters.language}get isSignedIn(){return null!==this.$user}get canSignOut(){return!this.isClientGreaterThan18&&!this.isClientSketchupWeb&&!this.isMobileEditorClient}getProfileThumbnail(){let t;return this.$context&&(t=this.$context.avatarUrl||"/static/images/icon-profile.svg"),t||"/static/images/icon-profile.svg"}setGenericProfileThumbnail(){this.profileThumbnail="/static/images/icon-profile.svg"}get modelsUrl(){return(this.$user.id===this.$context.id?q.A(this.$user.id,j.ExternalResourceType.User):q.A(this.$context.id,j.ExternalResourceType.Org))+"?nav=models"}get editWarehouseSettingsUrl(){return(this.$user.id===this.$context.id?q.A(this.$user.id,j.ExternalResourceType.User):q.A(this.$context.id,j.ExternalResourceType.Org))+"?nav=settings"}get manageContentUrl(){return"/managecontent.html"}get publicProfileUrl(){return this.$user.id===this.$context.id?q.C(this.$user.id,j.ExternalResourceType.User):q.C(this.$context.id,j.ExternalResourceType.Org)}get isOrgSelectedContext(){return null!=this.$context&&null!=this.$user&&this.$user.id!==this.$context.id}onItemSelectorDropdownMouseOver(t){this.isMouseOverItemSelector=t}onBadgeMouseEnter(){this.resetBadgeTimeout(),this.showBadge=!0}onBadgeMouseLeave(){this.resetBadgeTimeout(),this.badgeTimeOut=window.setTimeout((()=>{this.isMouseOverItemSelector||this.$eventBus.$emit(p.Events.CLOSE_CONTEXT_SELECTOR),this.showBadge=!1}),p.Constants.POPUP_FOCUS_LOSS_TIMEOUT)}resetBadgeTimeout(){null!==this.badgeTimeOut&&window.clearTimeout(this.badgeTimeOut),this.badgeTimeOut=null}signIn(){ct.a(this.langCode)}signOut(){ct.c(this.langCode)}onDocumentTouched(t){let e=this.$refs.userBadge,i=t.target;i===e||e.contains(i)?this.showBadge=!0:this.showBadge=!1}calculateHeight(){if(this.$user){this.createActions();let t=this.$refs.scrollContainer;t.style.top=null,t.style.maxHeight=null;const e=this.BASE_HEIGHT+this.visibleActions.length*p.Constants.FIELD_HEIGHT;e+this.TOP_OFFSET>window.innerHeight&&(t.style.top="0",e>window.innerHeight&&(t.style.maxHeight=window.innerHeight-16+"px"))}}};ht=ut([Object(c.b)({components:{EditProfileHeader:dt.a,IconAnalytics:Q.a,IconHeart:tt.a,IconNavCatalog:et.a,IconNavCollections:it.a,IconNavFolders:st.a,IconNavModels:at.a,IconOrgMembers:nt.a,IconPublicProfile:{functional:!0,render:function(t,e){var i=e._c;return i("svg",{class:[e.data.class,e.data.staticClass],style:[e.data.style,e.data.staticStyle],attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"}},[i("path",{attrs:{fill:"#363545","fill-rule":"evenodd",d:"M6.56 21.086c1.59.954 3.451 1.502 5.44 1.502 1.989 0 3.85-.548 5.44-1.502C17.314 18.48 14.926 16.4 12 16.4c-2.927 0-5.315 2.08-5.44 4.686zm-1.425-1.024C5.775 17.175 8.605 15 12 15s6.226 2.175 6.865 5.062A10.565 10.565 0 0 0 22.588 12c0-5.848-4.74-10.588-10.588-10.588C6.152 1.412 1.412 6.152 1.412 12c0 3.228 1.445 6.12 3.723 8.062zM12 24C5.373 24 0 18.627 0 12S5.373 0 12 0s12 5.373 12 12-5.373 12-12 12zm0-10a4 4 0 1 1 0-8 4 4 0 0 1 0 8zm0-1.412a2.588 2.588 0 1 0 0-5.176 2.588 2.588 0 0 0 0 5.176z"}})])}},IconSettings:ot.a,IconStar:rt.a,IconUploadMultiple:{functional:!0,render:function(t,e){var i=e._c;return i("svg",{class:[e.data.class,e.data.staticClass],style:[e.data.style,e.data.staticStyle],attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"}},[i("path",{staticClass:"pathStroke",attrs:{stroke:"#363545",fill:"none","fill-rule":"evenodd","stroke-width":"1.5","stroke-linecap":"round",d:"M6 2 l-5 5 M6 2 l5 5 M6 2 v14 M18 2 l-5 5 M18 2 l5 5 M18 2 v14 M1 18 v2 a3 3 0 0 0 3 3 h16 a3 3 0 0 0 3 -3 v-2"}})])}}}})],ht);var pt=ht,mt=Object(y.a)(pt,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"userBadge",staticClass:"sign-in-menu-item profile-menu",class:{"logged-in":t.isLoggedIn,"logged-out":!t.isLoggedIn},on:{mouseenter:t.onBadgeMouseEnter,mouseleave:t.onBadgeMouseLeave}},[i("h3",{staticClass:"context-display-name"},[t._v(" "+t._s(t.currentContextDisplayName)+" ")]),t._v(" "),i("a",{staticClass:"profile-button",class:{"verified-profile-button":t.isOrgSelectedContext}},[i("img",{staticClass:"profile-thumbnail",attrs:{src:t.profileThumbnail},on:{error:t.setGenericProfileThumbnail}})]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.showBadge||t.isMouseOverItemSelector,expression:"showBadge || isMouseOverItemSelector"}],ref:"scrollContainer",staticClass:"profile-badge",attrs:{id:"scroller"}},[t.isSignedIn?i("div",{staticClass:"profile-info"},[i("edit-profile-header",{attrs:{dataOwner:t.$context,showEmail:!1,linkToProfile:!0,enableContextDropdown:!0,showViewText:!1}}),t._v(" "),i("div",{staticClass:"line-seperator top"}),t._v(" "),i("ul",t._l(t.visibleActions,(function(e){return i("li",{key:e.id},[i("a",{attrs:{id:e.id,href:e.href,target:e.target||"_self"}},[i("span",{staticClass:"svg-icon"},["model"===e.icon?i("IconNavModels"):t._e(),t._v(" "),"folder"===e.icon?i("IconNavFolders"):t._e(),t._v(" "),"collection"===e.icon?i("IconNavCollections"):t._e(),t._v(" "),"favorite"===e.icon?i("IconStar"):t._e(),t._v(" "),"liked"===e.icon?i("IconHeart",{staticClass:"icon-heart"}):t._e(),t._v(" "),"analytics"===e.icon?i("IconAnalytics"):t._e(),t._v(" "),"manage"===e.icon?i("IconNavCatalog"):t._e(),t._v(" "),"settings"===e.icon?i("IconSettings"):t._e(),t._v(" "),"public-profile"===e.icon?i("IconPublicProfile"):t._e(),t._v(" "),"bulk-upload"===e.icon?i("IconUploadMultiple",{staticClass:"bulk-content-manager"}):t._e(),t._v(" "),"org-members"===e.icon?i("IconOrgMembers"):t._e()],1),t._v("\n            "+t._s(e.label)+"\n          ")])])})),0),t._v(" "),i("div",{staticClass:"line-seperator bottom"}),t._v(" "),t.canSignOut?i("div",[i("button",{staticClass:"lightup-button",attrs:{id:"sign-out-button"},on:{click:function(e){return e.preventDefault(),t.signOut.apply(null,arguments)}}},[t._v("\n          "+t._s(t.$t("Sign Out"))+"\n        ")])]):t._e()],1):i("div",{staticClass:"profile-authentication"},[i("p",[t._v(t._s(t.$t("Get started on 3D Warehouse")))]),t._v(" "),i("button",{on:{click:function(e){return e.preventDefault(),t.signIn.apply(null,arguments)}}},[t._v("\n        "+t._s(t.$t("Sign In | Create Account"))+"\n      ")])])])])}),[],!1,null,"a2478cc6",null),gt=mt.exports,vt=function(t,e,i,s){var a,n=arguments.length,o=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,s);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(o=(n<3?a(o):n>3?a(e,i,o):a(e,i))||o);return n>3&&o&&Object.defineProperty(e,i,o),o};let ft=class HeaderPanel extends l.a{constructor(){super(...arguments),this.coverHeader=!1,this.inClient=!1,this.inMobileClient=!1,this.inSketchupWeb=!1,this.showPageOverlay=!1,this.showLoadingOverlay=!1,this.useNewUpload=!1,this.clientUploadUrl=h.a.UPLOAD_MODEL,this.isLoggedIn=!1,this.singleNewsItem=!1,this.multipleNewsItems=!1}get singleNewsItemShown(){return this.singleNewsItem}get multipleNewsItemsShown(){return this.multipleNewsItems}get showSwitchToLabsButton(){return!1}get showUploadIcon(){return!1}emitPageHeaderClick(){this.$eventBus.$emit(p.Events.PAGE_HEADER_CLICK)}emitPageOverlayClick(){this.$eventBus.$emit(p.Events.PAGE_OVERLAY_CLICK)}togglePageOverlay(t){return this.showPageOverlay=void 0===t?!this.showPageOverlay:t,this.toggleBodyOverlayClass(),this.showPageOverlay||(this.coverHeader=!1),this.showPageOverlay}toggleBodyOverlayClass(){document&&document.body&&document.body.classList.toggle("page-overlay-visible",this.showPageOverlay)}beforeDestroy(){this.$eventBus.$off(p.Events.TOGGLE_MAIN_OVERLAY,this.onToggleMainOverlay),this.$eventBus.$off(p.Events.TOGGLE_LOADING_OVERLAY,this.onToggleLoadingOverlay)}created(){this.inClient=u.l(this.$client),this.inSketchupWeb=u.h(this.$store.getters.embeddedString),this.inMobileClient=u.m(this.$client)}mounted(){this.$eventBus.$on(p.Events.UPLOAD_TRIGGER,this.startUpload),this.$eventBus.$on(p.Events.TOGGLE_MAIN_OVERLAY,this.onToggleMainOverlay),this.$eventBus.$on(p.Events.TOGGLE_LOADING_OVERLAY,this.onToggleLoadingOverlay),null!==this.$user&&(this.isLoggedIn=!0)}redirectToTrialFlow(){try{const t=document.title.split(" | 3D Warehouse")[0];let e={page_url:this.$route.fullPath,page_title:t,host_lang:navigator?navigator.language:"?",lang:this.$user.language,source_type:d.a.WAREHOUSE,user_id:null,whp_id:this.$user.id};this.$analytics.sendEvent(n.ApplicationNames.Warehouse3D,s.EventTypes3DW.TrySketchup,e)}catch(t){}window.open("https://www.sketchup.com/try-sketchup","_blank")}onNewsItemsChanged(t){this.singleNewsItem=1===t.activeNewsItemCount,this.multipleNewsItems=t.activeNewsItemCount>1}startUpload(){this.$eventBus.$emit(p.Events.UPLOAD_START)}onToggleMainOverlay(t){this.coverHeader=(null==t?void 0:t.coverHeader)||!1,this.togglePageOverlay(null!=t?null==t?void 0:t.showOverlay:void 0)}onToggleLoadingOverlay(){this.showLoadingOverlay=!this.showLoadingOverlay}get userHasPaidEntitlement(){var t;const e=null!==(t=this.$store.getters.entitlements)&&void 0!==t?t:[];return a.EntitlementsHandler.permitWithMinimumOrHigherEntitlement(e,a.Entitlements.SILVER)}};ft=vt([Object(c.b)({props:{searchBarAutoFocus:{type:Boolean,default:!0},searchBarDirectSearch:{type:Boolean,default:!0}},components:{userbadge:gt,searchbar:J,newsbar:F,IconHeaderLogo:{functional:!0,render:function(t,e){var i=e._c;return i("svg",{class:[e.data.class,e.data.staticClass],staticStyle:{"enable-background":"new 0 0 733.6 109.1"},style:[e.data.style,e.data.staticStyle],attrs:{version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 733.6 109.1","xml:space":"preserve"}},[i("g",[i("g",[i("path",{staticClass:"st0",attrs:{d:"M131.1,76.8l8.2-6.6c4.8,6.3,10.8,8.5,17.5,8.5c8.6,0,14.1-3.3,14.1-10.7c0-8.7-6.3-12-19.4-12h-3.2v-9.6h3.5\n\t\t\tc13.6,0,17.2-4,17.2-10.2c0-5.5-3.3-8.7-11.9-8.7c-5.9,0-11.9,2.4-16.1,6.7l-6.9-7.3c5.7-6,14.5-9.9,24.1-9.9\n\t\t\tc14.9,0,22.4,7.2,22.4,17.6c0,8.4-4.7,14.1-12.8,16.3c10.2,2.1,14.8,8.4,14.8,17.7c0,12.5-10.1,20.6-25.6,20.6\n\t\t\tC145.9,89.1,137,84.8,131.1,76.8z"}}),i("path",{staticClass:"st0",attrs:{d:"M189.1,87.7V18.2h19.8c21.8,0,36.1,10.2,36.1,34.5c0,24.8-14.6,35.1-36.1,35.1H189.1z M200.8,77.2h9.1\n\t\t\tc15.9,0,23.3-7,23.3-24.5c0-16.7-7.5-23.6-23.5-23.6h-8.9V77.2z"}}),i("path",{staticClass:"st0",attrs:{d:"M283.1,87.7l-18.5-69.6h11.8l8.8,36c1.4,5.5,2.7,10.7,3.7,16.2h0.2c0.9-5.4,2.2-10.5,3.6-16.1l8.4-36.1h11.3\n\t\t\tl8.6,36.3c1.5,5.9,2.6,10.1,3.7,15.9h0.2c1-6,2.1-9.7,3.4-15.6l8.6-36.6h11l-18.3,69.6h-10.2l-12.5-53.3h-0.2l-13.2,53.3H283.1z"}}),i("path",{staticClass:"st0",attrs:{d:"M346.5,75.7c0-10.8,9.2-18,32.5-20.7v-1.5c0-5-2.6-7.1-8.2-7.1c-7,0-12.6,3.4-16.8,6.8l-5.6-7.2\n\t\t\tc5.4-4.9,13.7-9,24.1-9c13.3,0,18,6.4,18,18v20.6c0,6,0.4,9.7,1.4,12.2h-11.7c-0.7-2.1-1.1-3.6-1.1-6.4c-5.1,5.2-11,7.1-18.4,7.1\n\t\t\tC352.5,88.5,346.5,84,346.5,75.7z M379,73.8v-11c-13.8,1.9-21.1,5.3-21.1,10.7c0,3.9,2.7,6,7,6C370.8,79.6,375.4,77.3,379,73.8z"}}),i("path",{staticClass:"st0",attrs:{d:"M399.4,87.7V37.8H411V46h0.2c3.1-5,8.5-9.1,18-9.1h0.8l-0.4,10.6c-0.6-0.1-2.4-0.2-3.1-0.2\n\t\t\tc-7.4,0-12.1,3.5-15.4,8.8v31.6H399.4z"}}),i("path",{staticClass:"st0",attrs:{d:"M432,62.8c0-19,13.4-25.9,23.8-25.9c11.2,0,21.9,6.7,21.9,27v2.7h-34.1c0.5,9,6,13,13.3,13\n\t\t\tc6.5,0,10.2-2.2,14-5.8l6.1,6c-5.2,5.7-12,9-21,9C443.6,88.8,432,81.2,432,62.8z M467.1,57.9c-0.7-7.6-4.4-11.7-11.4-11.7\n\t\t\tc-5.6,0-10.8,3.2-11.9,11.7H467.1z"}}),i("path",{staticClass:"st0",attrs:{d:"M484.5,87.7V18.2h11.7v26.4c3.2-3.4,9.2-7.7,18.2-7.7c8.7,0,14.4,5.2,14.4,15v35.8h-11.7V54.8\n\t\t\tc0-5.5-2.3-8.1-7.4-8.1s-9.3,2.6-13.5,6.5v34.5H484.5z"}}),i("path",{staticClass:"st0",attrs:{d:"M535.2,62.8c0-18.4,12.1-25.9,24.3-25.9c12.1,0,24.3,7.5,24.3,25.9c0,18.2-12.2,25.9-24.3,25.9\n\t\t\tS535.2,81.1,535.2,62.8z M572.2,62.8c0-9.3-3.9-16.1-12.7-16.1c-8.4,0-12.7,6-12.7,16.1c0,9.5,3.9,16.3,12.7,16.3\n\t\t\tC567.9,79.1,572.2,73.1,572.2,62.8z"}}),i("path",{staticClass:"st0",attrs:{d:"M589.7,73.6V37.8h11.7v33.1c0,5.5,2.3,8.1,7.4,8.1c5.1,0,9.3-2.6,13.5-6.5V37.8h11.7v49.9h-11.7V81\n\t\t\tc-3.2,3.4-9.2,7.7-18.2,7.7C595.3,88.7,589.7,83.5,589.7,73.6z"}}),i("path",{staticClass:"st0",attrs:{d:"M640.7,80.9l6.3-7c3.8,3.2,9.3,5.9,15.7,5.9c6.2,0,10-1.6,10-5.7c0-4-5.1-5.3-11.1-6.7\n\t\t\tc-8.6-2-18.8-4.2-18.8-15.8c0-8.7,7.5-14.7,18.5-14.7c9.5,0,15.3,2.7,20.5,7l-5.5,7.5c-3.7-3-9.6-5.5-14.1-5.5\n\t\t\tc-6.4,0-8.5,2.3-8.5,5.1c0,4,5,5.3,10.9,6.6c8.6,1.9,19,4,19,15.7c0,10.5-9.5,15.4-20.9,15.4C653.5,88.8,645.2,85.5,640.7,80.9z"}}),i("path",{staticClass:"st0",attrs:{d:"M687.9,62.8c0-19,13.4-25.9,23.8-25.9c11.2,0,21.9,6.7,21.9,27v2.7h-34.1c0.5,9,6,13,13.3,13\n\t\t\tc6.5,0,10.2-2.2,14-5.8l6.1,6c-5.2,5.7-12,9-21,9C699.4,88.8,687.9,81.2,687.9,62.8z M722.9,57.9c-0.7-7.6-4.4-11.7-11.4-11.7\n\t\t\tc-5.6,0-10.8,3.2-11.9,11.7H722.9z"}})])]),i("g",[i("polygon",{staticClass:"st1",attrs:{points:"52.4,68.7 65,61.4 65,47 52.4,54.1 \t"}}),i("polygon",{staticClass:"st1",attrs:{points:"35,47 35,61.5 47.4,68.6 47.4,54.1 \t"}}),i("path",{staticClass:"st1",attrs:{d:"M82.5,60.8V34.1l-23-13.2c-2-1.1-5.2-2.1-9.5-2.1c-4.9,0-8,1.3-10,2.3L17.6,34v27c0,3.6,2.8,11.6,9.2,16\n\t\tL50,90.4L73,77.2C80.1,72.6,82.5,64,82.5,60.8z M70,64.6L50,76L30.1,64.6l0-22.9l20-11.6L70,41.6V64.6z"}}),i("polygon",{staticClass:"st1",attrs:{points:"37.5,42.6 50,49.8 62.5,42.7 50,35.5 \t"}}),i("path",{staticClass:"st1",attrs:{d:"M12.5,60.7V34.1L0,26.9v39.4c0,0,0.5,6.5,4.4,13.2c4.3,7.3,9.7,10.6,9.7,10.6l33.2,19.1V94.7L24.6,81.6\n\t\tC14.1,74.5,12.5,63,12.5,60.7z"}}),i("path",{staticClass:"st1",attrs:{d:"M37.6,16.9c3.1-1.8,8.4-3,12.6-3c3.5,0,8.8,0.9,12,2.7l22.9,13.2l12.5-7.2L65.1,3.9c0,0-5.9-3.5-15-3.5\n\t\tc-9.7,0-15,3.5-15,3.5L2.6,22.5l12.5,7.2L37.6,16.9z"}}),i("path",{staticClass:"st1",attrs:{d:"M100,27l-12.6,7.2l0,25.7c0,3.7-1.4,13.9-11.4,21.4L52.4,94.7v14.5L85,90.6c0,0,6-3.2,10.6-11.1\n\t\tc4.2-7.2,4.4-13.3,4.4-13.3V27z"}})])])}},IconHeaderLogoMobile:{functional:!0,render:function(t,e){var i=e._c;return i("svg",{class:[e.data.class,e.data.staticClass],staticStyle:{"enable-background":"new 0 0 100 115.42"},style:[e.data.style,e.data.staticStyle],attrs:{version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 100 115.42","xml:space":"preserve"}},[i("g",[i("polygon",{staticClass:"st1",attrs:{points:"52.36,71.77 64.98,64.53 64.98,50.09 52.36,57.25 \t"}}),i("polygon",{staticClass:"st1",attrs:{points:"34.94,50.1 34.94,64.6 47.38,71.67 47.36,57.24 \t"}}),i("path",{staticClass:"st1",attrs:{d:"M82.49,63.85V37.19L59.52,24.04c-1.96-1.07-5.25-2.1-9.47-2.1c-4.91,0-8.01,1.26-9.97,2.33L17.51,37.13v27.04\n\t\tc0,3.61,2.82,11.56,9.21,15.98l23.22,13.34L73,80.31C80.05,75.67,82.49,67.06,82.49,63.85z M69.95,67.7L49.94,79.12L30.08,67.65\n\t\tl0-22.92l19.97-11.55l19.9,11.5V67.7z"}}),i("polygon",{staticClass:"st1",attrs:{points:"37.48,45.74 49.97,52.93 62.44,45.79 49.97,38.56 \t"}}),i("path",{staticClass:"st1",attrs:{d:"M12.48,63.78V37.15L0,29.96v39.42c0,0,0.52,6.46,4.45,13.21c4.25,7.3,9.72,10.56,9.72,10.56l33.23,19.1V97.81\n\t\tL24.59,84.67C14.06,77.62,12.48,66.13,12.48,63.78z"}}),i("path",{staticClass:"st1",attrs:{d:"M37.51,19.97c3.15-1.83,8.39-2.96,12.59-2.96c3.48,0,8.82,0.87,11.97,2.7L85.02,32.9l12.49-7.16l-32.4-18.7\n\t\tc0,0-5.93-3.52-15.02-3.52c-9.69,0-15.03,3.49-15.03,3.49L2.53,25.62l12.49,7.21L37.51,19.97z"}}),i("path",{staticClass:"st1",attrs:{d:"M100,30.06l-12.56,7.17l0.03,25.71c0.02,3.73-1.36,13.9-11.41,21.37L52.4,97.78v14.49l32.55-18.56\n\t\tc0,0,6.03-3.22,10.6-11.08c4.18-7.19,4.44-13.26,4.44-13.26V30.06z"}})])])}},UploadIcon:o.a}})],ft);var Ct=ft,bt=Object(y.a)(Ct,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"page-header-container",class:{"single-news-item":t.singleNewsItemShown,"multiple-news-items":t.multipleNewsItemsShown}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.showPageOverlay,expression:"showPageOverlay"}],staticClass:"page-overlay",class:{"cover-header":t.coverHeader},attrs:{id:"pageOverlay"},on:{click:t.emitPageOverlayClick}}),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.showLoadingOverlay,expression:"showLoadingOverlay"}],staticClass:"loading-page-overlay"},[i("div",{staticClass:"loading"})]),t._v(" "),i("div",{staticClass:"page-header-panel"},[i("newsbar",{on:{newsItemsChanged:t.onNewsItemsChanged}}),t._v(" "),i("header",{on:{click:t.emitPageHeaderClick}},[i("nav",{staticClass:"top-bar",attrs:{"data-topbar":"",role:"navigation"}},[i("section",{staticClass:"top-bar-section"},[i("div",{attrs:{id:"title-container"}},[i("a",{attrs:{href:"/",id:"warehouse-logo"}},[i("span",{staticClass:"logo",attrs:{id:"wh-logo"}},[i("IconHeaderLogo",{staticClass:"regular-logo"}),t._v(" "),i("IconHeaderLogoMobile",{staticClass:"mobile-logo"})],1)])]),t._v(" "),i("div",{attrs:{id:"search-bar-container"}},[i("searchbar",{attrs:{autoFocus:t.searchBarAutoFocus,directSearch:t.searchBarDirectSearch}})],1),t._v(" "),i("div",{attrs:{id:"sign-in-menu-container"}},[t.showUploadIcon?i("div",[t.inClient||t.inMobileClient?t.inMobileClient?t._e():i("a",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.$t("Upload a Model"),expression:"$t('Upload a Model')"}],staticClass:"sign-in-menu-item",attrs:{href:t.clientUploadUrl,id:"upload-button"}},[i("upload-icon")],1):i("a",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.$t("Upload a Model"),expression:"$t('Upload a Model')"}],staticClass:"sign-in-menu-item",attrs:{href:"#",id:"upload-button"},on:{click:t.startUpload}},[i("upload-icon")],1)]):t._e(),t._v(" "),i("userbadge",{staticClass:"sign-in-menu-item",class:{"logged-in":t.isLoggedIn}})],1)])])])],1)])}),[],!1,null,null,null);e.a=bt.exports},831:function(t,e,i){"use strict";e.a={functional:!0,render:function(t,e){var i=e._c;return i("svg",{class:[e.data.class,e.data.staticClass],style:[e.data.style,e.data.staticStyle],attrs:{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"6",height:"24",viewBox:"0 0 6 24"}},[i("path",{staticClass:"pathFill",attrs:{fill:"#8C8B96","fill-rule":"nonzero",d:"M3 6a3 3 0 1 1 0-6 3 3 0 0 1 0 6zm0 9a3 3 0 1 1 0-6 3 3 0 0 1 0 6zm0 9a3 3 0 1 1 0-6 3 3 0 0 1 0 6z"}})])}}},832:function(t,e,i){"use strict";var s=i(754),a=i(6),n=i.n(a),o=i(12),r=function(t,e,i,s){var a,n=arguments.length,o=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,s);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(o=(n<3?a(o):n>3?a(e,i,o):a(e,i))||o);return n>3&&o&&Object.defineProperty(e,i,o),o};let l=class NoResultsCard extends n.a{constructor(){super(...arguments),this.name="no-results-card"}get noResultsImage(){return"/static/images/icon-empty-desert.svg"}get noResultsTitle(){return this.$t("It's Empty")}get havingPun(){let t=this.$store.getters.language;return!t||"en"===t.toLowerCase()}};l=r([Object(o.b)({components:{IconEmptyFolder:s.a},props:{text:String},inheritAttrs:!1})],l);var c=l,d=i(28),u=Object(d.a)(c,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"no-results"},[i("div",{staticClass:"no-results-image"},[i("IconEmptyFolder")],1),t._v(" "),i("div",{staticClass:"no-results-title"},[t._v(t._s(t.noResultsTitle))]),t._v(" "),i("div",{staticClass:"no-results-text"},[t._v(t._s(t.text))])])}),[],!1,null,null,null);e.a=u.exports},833:function(t,e,i){"use strict";var s=i(6),a=i.n(s),n=i(12),o=i(674),r=function(t,e,i,s){var a,n=arguments.length,o=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,s);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(o=(n<3?a(o):n>3?a(e,i,o):a(e,i))||o);return n>3&&o&&Object.defineProperty(e,i,o),o};let l=class FooterPanel extends a.a{constructor(){super(...arguments),this.today=new Date,this.currentYear=this.today.getFullYear(),this.breakPoint_=""}};r([Object(o.d)({default:!0})],l.prototype,"showTOS",void 0),r([Object(o.d)({default:!0})],l.prototype,"showCCPA",void 0),l=r([Object(n.b)({})],l);var c=l,d=i(28),u=Object(d.a)(c,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("footer",[i("div",{staticClass:"footer-content"},[t._m(0),t._v(" "),i("div",{attrs:{id:"footer-links"}},[i("div",{attrs:{id:"footer-copyright"}},[t._v("© "+t._s(t.currentYear)+" Trimble Inc")]),t._v(" "),i("div",[i("a",{attrs:{href:"http://www.trimble.com/privacy.aspx",target:"_blank",rel:"noopener",id:"privacy",title:t.$t("Privacy Policy")}},[t._v("\n          "+t._s(t.$t("Privacy"))+"\n        ")])]),t._v(" "),t.showTOS?i("div",[i("a",{attrs:{href:"/tos/",id:"footer-terms",title:t.$t("Terms of Use")}},[t._v(t._s(t.$t("Terms of Use")))])]):t._e(),t._v(" "),t.showCCPA?i("div",[i("a",{attrs:{href:"https://get.sketchup.com/ccpa-do-not-sell-information.html",target:"_blank",rel:"noopener",id:"footer-CCPA",title:t.$t("CCPA Policy")}},[i("span",{staticClass:"mobile-cppa"},[t._v("\n              CCPA\n            ")]),t._v(" "),i("span",{staticClass:"footer-cppa"},[t._v("\n              "+t._s(t.$t("Do Not Sell My Personal Information"))+"\n            ")])])]):t._e()])])])}),[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"footer-logo"},[i("a",{attrs:{href:"http://www.trimble.com",target:"_blank",rel:"noopener",id:"footer-logo"}},[t._v("Trimble Inc.")])])}],!1,null,"6a27043a",null);e.a=u.exports},835:function(t,e,i){"use strict";e.a={functional:!0,render:function(t,e){var i=e._c;return i("svg",{class:[e.data.class,e.data.staticClass],style:[e.data.style,e.data.staticStyle],attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"}},[i("path",{staticClass:"pathFill",attrs:{fill:"inherit","fill-rule":"evenodd",d:"M19.409 2.469L21.53 4.59l.53-.53a1.5 1.5 0 0 0-2.12-2.122l-.531.531zm-1.061 1.06l-7.778 7.779-.353 2.475 2.474-.354L20.47 5.65 18.348 3.53zm-5.197 11.35l-3.712.53a.75.75 0 0 1-.848-.848l.53-3.713a.75.75 0 0 1 .212-.424L18.879.878A3 3 0 0 1 23.12 5.12l-9.546 9.546a.75.75 0 0 1-.424.212zM18 14.25a.75.75 0 1 1 1.5 0v7.5A2.25 2.25 0 0 1 17.25 24h-15A2.25 2.25 0 0 1 0 21.75v-15A2.25 2.25 0 0 1 2.25 4.5h7.5a.75.75 0 1 1 0 1.5h-7.5a.75.75 0 0 0-.75.75v15c0 .414.336.75.75.75h15a.75.75 0 0 0 .75-.75v-7.5z"}})])}}},836:function(t,e,i){"use strict";i.d(e,"a",(function(){return CollectionsDataBrowser}));var s=i(0),a=i(3),n=i(752);class CollectionsDataBrowser extends n.b{constructor(t,e=null,i=null){super(t,e),this.implementsDelete=!0,this.dataOwnerForDirectApi=i}open(t=n.a.CONTENT_SCROLL_INCREMENT){return this.useStore?this.openFromStore():0===this.items.length?this.loadMore(t):Promise.resolve(this.items)}loadMore(t=n.a.CONTENT_SCROLL_INCREMENT){if(!this.isValidLoadRequest())return Promise.resolve(this.items);if(this.isLoading=!0,this.useStore)return this.loadFromStore(t);if(this.filter_)return this.loadFilteredCollections(t);let e={show:s.PrivacyLevel.Public,showBinaryMetadata:!0,offset:this.offset,count:t+this.deletions.length,contentType:s.ContentType.Warehouse3D,recordEvent:!1,sortBy:this.sortBy};return this.browseType===a.BrowseTypes.ContainingCollections?this.loadContainingCollections(e,t):this.loadAuthorCollections(e,t)}loadFilteredCollections(t){this.filter_.recordEvent=!1,this.filter_.count=t+this.deletions.length,this.filter_.offset=this.offset,this.filter_.showBinaryMetadata=!0,this.filter_.contentType=s.ContentType.Warehouse3D,this.filter_.sortBy=this.sortBy;let e=null;return e=null!=this.dataOwnerForDirectApi?this.dataOwnerForDirectApi.externalResourceType===s.ExternalResourceType.Org?this.handler.getDirectOrganizationCollections(this.dataOwnerForDirectApi.id,this.filter_):this.handler.getDirectUserCollections(this.dataOwnerForDirectApi.id,this.filter_):this.handler.getCollections(this.filter_),e.then((e=>this.processResponse(e,t,!0)),(t=>(this.isLoading=!1,Promise.reject(t))))}loadContainingCollections(t,e){return t.fq=`containsEntityId==${this.source.id};`+this.fqSubtypeFilter(),this.handler.getCollections(t).then((t=>this.processResponse(t,e)),(t=>(this.isLoading=!1,Promise.reject(t))))}loadAuthorCollections(t,e){return t.fq=`creatorId==${this.source.creatorId};`+this.fqSubtypeFilter(),this.handler.getCollections(t).then((t=>this.processResponse(t,e)),(t=>(this.isLoading=!1,Promise.reject(t))))}fqSubtypeFilter(){return'(subtype=exists=false,subtype=="")'}}},837:function(t,e,i){"use strict";i.d(e,"a",(function(){return ModelsDataBrowser}));var s=i(0),a=i(3),n=i(752);class ModelsDataBrowser extends n.b{constructor(t,e=null,i=null){super(t,e),this.implementsDelete=!0,this.dataOwnerForDirectApi=i}open(t=n.a.CONTENT_SCROLL_INCREMENT){return this.useStore?this.openFromStore():0===this.items.length?this.loadMore(t):Promise.resolve(this.items)}loadMore(t=n.a.CONTENT_SCROLL_INCREMENT){if(!this.isValidLoadRequest())return Promise.resolve(this.items);if(this.isLoading=!0,this.useStore)return this.loadFromStore(t);if(this.filter_)return this.loadFilteredModels(t);let e={show:s.PrivacyLevel.Public,showBinaryMetadata:!0,offset:this.offset,count:t+this.deletions.length,contentType:s.ContentType.Warehouse3D,recordEvent:!1,sortBy:this.sortBy,showAttributes:!0};return this.browseType===a.BrowseTypes.RelatedModels?this.loadRelatedModels(e,t):this.loadCreatorModels(e,t)}loadFilteredModels(t){this.filter_.recordEvent=!1,this.filter_.count=t+this.deletions.length,this.filter_.offset=this.offset,this.filter_.showBinaryMetadata=!0,this.filter_.contentType=s.ContentType.Warehouse3D,this.filter_.sortBy=this.sortBy,this.filter_.showAttributes=!0;let e=null;return e=null!=this.dataOwnerForDirectApi?this.dataOwnerForDirectApi.externalResourceType===s.ExternalResourceType.Org?this.handler.getDirectOrganizationEntities(this.dataOwnerForDirectApi.id,this.filter_):this.handler.getDirectUserEntities(this.dataOwnerForDirectApi.id,this.filter_):this.handler.getEntities(this.filter_),e.then((e=>this.processResponse(e,t,!0)),(t=>(this.isLoading=!1,Promise.reject(t))))}loadRelatedModels(t,e){let i=`/entities/${this.source.id}/related`;return this.handler.performApiRequest(i,t).then((t=>this.processResponse(t.data,e,!0)),(t=>(this.isLoading=!1,Promise.reject(t))))}loadCreatorModels(t,e){return t.fq=`creatorId==${this.source.creatorId};id!=${this.source.id}`,this.handler.getEntities(t).then((t=>this.processResponse(t,e)),(t=>(this.isLoading=!1,Promise.reject(t))))}}},838:function(t,e,i){"use strict";e.a={functional:!0,render:function(t,e){var i=e._c;return i("svg",{class:[e.data.class,e.data.staticClass],style:[e.data.style,e.data.staticStyle],attrs:{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"24",height:"24",viewBox:"0 0 24 24"}},[i("path",{attrs:{fill:"#363545",d:"M20.4686937,11.3322788 C19.8784491,10.7141386 19.2072197,10.0955905 18.4689365,9.51908395 C16.3811757,7.88880459 14.1862378,6.91666667 12,6.91666667 C9.81376217,6.91666667 7.61882431,7.88880459 5.53106347,9.51908395 C4.79278034,10.0955905 4.12155092,10.7141386 3.53130633,11.3322788 C3.36047541,11.5111833 3.2069173,11.6792104 3.07158581,11.8333333 C3.2069173,11.9874563 3.36047541,12.1554833 3.53130633,12.3343879 C4.12155092,12.952528 4.79278034,13.5710762 5.53106347,14.1475827 C7.61882431,15.7778621 9.81376217,16.75 12,16.75 C14.1862378,16.75 16.3811757,15.7778621 18.4689365,14.1475827 C19.2072197,13.5710762 19.8784491,12.952528 20.4686937,12.3343879 C20.6395246,12.1554833 20.7930827,11.9874563 20.9284142,11.8333333 C20.7930827,11.6792104 20.6395246,11.5111833 20.4686937,11.3322788 Z M21.7674138,12.3924926 C21.6024503,12.5839094 21.4101113,12.7964957 21.1919313,13.0249871 C20.5699363,13.6763782 19.8635095,14.3273613 19.0843968,14.9357506 C16.836741,16.6908879 14.4454288,17.75 12,17.75 C9.55457116,17.75 7.16325902,16.6908879 4.91560319,14.9357506 C4.1364905,14.3273613 3.43006366,13.6763782 2.80806867,13.0249871 C2.58988872,12.7964957 2.39754969,12.5839094 2.2325862,12.3924926 C2.13222518,12.2760378 2.06241266,12.1913728 2.02470735,12.1437651 C1.88065311,11.9618784 1.88065311,11.7047882 2.02470735,11.5229016 C2.06241266,11.4752938 2.13222518,11.3906289 2.2325862,11.2741741 C2.39754969,11.0827572 2.58988872,10.8701709 2.80806867,10.6416795 C3.43006366,9.99028845 4.1364905,9.33930535 4.91560319,8.73091605 C7.16325902,6.97577875 9.55457116,5.91666667 12,5.91666667 C14.4454288,5.91666667 16.836741,6.97577875 19.0843968,8.73091605 C19.8635095,9.33930535 20.5699363,9.99028845 21.1919313,10.6416795 C21.4101113,10.8701709 21.6024503,11.0827572 21.7674138,11.2741741 C21.8677748,11.3906289 21.9375873,11.4752938 21.9752927,11.5229016 C22.1193469,11.7047882 22.1193469,11.9618784 21.9752927,12.1437651 C21.9375873,12.1913728 21.8677748,12.2760378 21.7674138,12.3924926 Z M14.8333333,11.8333333 C14.8333333,10.2681162 13.5649981,9 12,9 C10.4350019,9 9.16666667,10.2681162 9.16666667,11.8333333 C9.16666667,13.3985505 10.4350019,14.6666667 12,14.6666667 C13.5649981,14.6666667 14.8333333,13.3985505 14.8333333,11.8333333 Z M15.8333333,11.8333333 C15.8333333,13.9508739 14.1172442,15.6666667 12,15.6666667 C9.88275577,15.6666667 8.16666667,13.9508739 8.16666667,11.8333333 C8.16666667,9.71579276 9.88275577,8 12,8 C14.1172442,8 15.8333333,9.71579276 15.8333333,11.8333333 Z M12,10.6666667 C11.7238576,10.6666667 11.5,10.442809 11.5,10.1666667 C11.5,9.89052429 11.7238576,9.66666667 12,9.66666667 C13.1967266,9.66666667 14.1666667,10.6369417 14.1666667,11.8333333 C14.1666667,13.0297249 13.1967266,14 12,14 C10.8032734,14 9.83333333,13.0297249 9.83333333,11.8333333 C9.83333333,11.557191 10.057191,11.3333333 10.3333333,11.3333333 C10.6094757,11.3333333 10.8333333,11.557191 10.8333333,11.8333333 C10.8333333,12.4775175 11.3556355,13 12,13 C12.6443645,13 13.1666667,12.4775175 13.1666667,11.8333333 C13.1666667,11.1891492 12.6443645,10.6666667 12,10.6666667 Z"}})])}}},839:function(t,e,i){"use strict";var s=i(831),a=i(6),n=i.n(a),o=i(12),r=function(t,e,i,s){var a,n=arguments.length,o=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,s);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(o=(n<3?a(o):n>3?a(e,i,o):a(e,i))||o);return n>3&&o&&Object.defineProperty(e,i,o),o};let l=class IconSupplemental extends n.a{constructor(){super(...arguments),this.name="icon-supplemental"}};l=r([Object(o.b)({components:{OverflowMenuIcon:s.a},props:{orientation:{type:String,default:"vertical"}}})],l);var c=l,d=i(28),u=Object(d.a)(c,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("span",{staticClass:"svg-icon icon-supplemental",class:{horizontal:"horizontal"===t.orientation}},[i("OverflowMenuIcon")],1)}),[],!1,null,null,null);e.a=u.exports},840:function(t,e,i){"use strict";var s=i(801).a,a=i(28),n=Object(a.a)(s,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("nav",{attrs:{"aria-label":"Pagination"}},[i("div",[i("div",{staticClass:"pagination"},[i("div",{staticClass:"pagination-first",class:{disabled:!t.showLowerEllipsis},on:{click:function(e){return t.goToPage(0)}}},[i("a",{attrs:{"aria-label":"First"}},[i("icon-double-chevron",{attrs:{direction:"left",thin:!0}})],1)]),t._v(" "),i("div",{staticClass:"pagination-previous",class:{disabled:!t.showPrevious},on:{click:t.prevPage}},[i("a",{attrs:{"aria-label":"Previous"}},[i("icon-chevron",{attrs:{direction:"left",thin:!0}})],1)]),t._v(" "),t.showLowerEllipsis?i("div",{staticClass:"ellipsis-wrapper"},[i("a",{staticClass:"ellipsis",class:{disabled:!t.enableGoto},attrs:{id:"lower-ellipse"},on:{click:function(e){return t.setPageListBefore(!0)}}})]):t._e(),t._v(" "),t.showLowerEllipsis&&t.enableGoto?i("div",{ref:"lowerSelect",staticClass:"ellipsis-select",class:{ellipsisScroller:t.getPagesBefore().length>2},style:{display:t.pageListBefore?"visible":"hidden"},attrs:{id:"lower-select"}},[i("ul",{staticClass:"page-list"},t._l(t.getPagesBefore(),(function(e,s){return i("li",{key:s},[i("a",{on:{click:function(i){return t.goToPage(e)}}},[t._v(t._s(t.$t("Page {pageListNumber}",{pageListNumber:e})))])])})),0)]):t._e(),t._v(" "),t._l(t.getPagesNumbers(t.pageCount),(function(e,s){return i("div",{key:s},[i("a",{class:{current:e==t.page+1},attrs:{"aria-label":"Page "+e},on:{click:function(i){return t.goToPage(e)}}},[t._v("\n            "+t._s(e)+"\n          ")])])})),t._v(" "),t.showUpperEllipsis?i("div",{staticClass:"ellipsis-wrapper"},[i("a",{class:{ellipsis:!0,disabled:!t.enableGoto},attrs:{id:"upper-ellipse"},on:{click:function(e){return t.setPageListAfter(!0)}}})]):t._e(),t._v(" "),t.showUpperEllipsis&&t.enableGoto?i("div",{ref:"upperSelect",staticClass:"ellipsis-select",class:{ellipsisScroller:t.getPagesAfter().length>2},style:{display:t.pageListAfter?"visible":"hidden"},attrs:{id:"upper-select"}},[i("ul",{staticClass:"page-list"},t._l(t.getPagesAfter(),(function(e,s){return i("li",{key:s},[i("a",{on:{click:function(i){return t.goToPage(e)}}},[t._v(t._s(t.$t("Page {pageListNumber}",{pageListNumber:e})))])])})),0)]):t._e(),t._v(" "),i("div",{staticClass:"pagination-next",class:{disabled:!t.showNext},on:{click:t.nextPage}},[i("a",{attrs:{"aria-label":"Next"}},[i("icon-chevron",{attrs:{direction:"right",thin:!0}})],1)]),t._v(" "),i("div",{staticClass:"pagination-last",class:{disabled:!t.showUpperEllipsis},on:{click:function(e){return t.goToPage(t.pageCount)}}},[i("a",{attrs:{"aria-label":"Last"}},[i("icon-double-chevron",{attrs:{direction:"right",thin:!0}})],1)])],2)])])])}),[],!1,null,null,null);e.a=n.exports},841:function(t,e,i){"use strict";e.a={functional:!0,render:function(t,e){var i=e._c;return i("svg",{class:[e.data.class,e.data.staticClass],style:[e.data.style,e.data.staticStyle],attrs:{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20"}},[i("g",{attrs:{stroke:"#8c8b96","stroke-width":"1","stroke-linecap":"round","stroke-miterlimit":"10"}},[i("path",{staticClass:"pathStroke",attrs:{d:"M 10 0.5 A 9.5 9.5 0 1 0 10 19.5 A 9.5 9.5 0 1 0 10 0.5 Z M 5 10 L 15 10Z"}})])])}}},842:function(t,e,i){"use strict";var s=i(755),a=i(734),n=i(766),o=i(756),r=i(729),l=i(831),c=i(841),d=i(731),u=i(12),h=i(2),p=i(774),m=i(738),g=i(48),v=i(3),f=i(9),C=i(775),b=i(795),y=i(779),w=i(781),_=i(782),T=i(778),S=i(809),E=function(t,e,i,s){var a,n=arguments.length,o=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,s);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(o=(n<3?a(o):n>3?a(e,i,o):a(e,i))||o);return n>3&&o&&Object.defineProperty(e,i,o),o},O=function(t,e,i,s){return new(i||(i=Promise))((function(a,n){function o(t){try{l(s.next(t))}catch(t){n(t)}}function r(t){try{l(s.throw(t))}catch(t){n(t)}}function l(t){var e;t.done?a(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,r)}l((s=s.apply(t,e||[])).next())}))};let I=class CollectionElementGridCard extends b.a{constructor(){super(...arguments),this.isSelected=!1,this.preventCardClickEvent=!1,this.zIndexOverlay=!1,this.supplementalMenu=[]}beforeDestroy(){this.$eventBus.$off(g.m.EDITED_ITEM,this.editItem),this.$eventBus.$off(v.Events.UPDATE_THUMBNAIL,this.updateThumbnail),this.$eventBus.$off(v.Events.ALL_MODEL_SELECTIONS_TOGGLED,this.toggleAllModels),this.$eventBus.$off(v.Events.DRAG_SELECTION_CHANGED,this.changeDragSelection),null!=this.confirmModal&&(this.confirmModal.$destroy(),this.confirmModal=null)}get isNotOwnerAndVerified(){return this.collectionElement.creatorVerifiedOrOrg&&this.collectionElement.creatorId!==this.$user.id}get titleTooltip(){return this.showVerifiedOverlay?this.$t("Verified Content"):this.isFolder?this.$t(g.u(g.d.EDIT,this.collectionElement,this.useRemove)):this.$t(g.u(g.d.VIEW,this.collectionElement,this.useRemove))}get showVerifiedOverlay(){return this.hasVerifiedContent&&this.isNotOwnerAndVerified&&!this.isInFolder}get verifiedOverlayText(){let t="";return t=this.isModel?this.$t("model"):this.$t("collection"),this.$t(`This ${t} belongs to a verified content provider and cannot be in your collection.`)}get removeAuthor(){return this.isFavorites||this.isLikedContent||!this.showAuthorName}get isCertifiedContentEnabled(){return m.a.getCertifiedContentEnabled(this.$store)}mounted(){this.isSelected=this.collectionElement.isSelected||!1,this.setupSupplementalMenu(),this.$eventBus.$on(g.m.EDITED_ITEM,this.editItem),this.$eventBus.$on(v.Events.UPDATE_THUMBNAIL,this.updateThumbnail),this.$eventBus.$on(v.Events.ALL_MODEL_SELECTIONS_TOGGLED,this.toggleAllModels),this.$eventBus.$on(v.Events.DRAG_SELECTION_CHANGED,this.changeDragSelection)}editItem(t){t.original.id===this.collectionElement.id&&(null!=t.edited.isPrivate&&t.original.isPrivate!==t.edited.isPrivate&&(this.collectionElement.isPrivate=t.edited.isPrivate),null!=t.edited.title&&t.original.subjectClass===this.collectionElement.subjectClass&&t.original.title!==t.edited.title&&(this.collectionElement.title=t.edited.title))}changeDragSelection(t,e,i){const s=this.$parent.$parent;if(s.id===i){const i=t.filter((t=>t.id===this.collectionElement.id)).length>0;e?!this.isSelected&&i&&(this.isSelected=i,this.collectionElement.isSelected=this.isSelected,this.$eventBus.$emit(v.Events.MODEL_SELECTION_TOGGLED,this.collectionElement,s.id,i)):(this.isSelected&&!i||!this.isSelected&&i)&&(this.isSelected=!this.isSelected,this.collectionElement.isSelected=this.isSelected,this.$eventBus.$emit(v.Events.MODEL_SELECTION_TOGGLED,this.collectionElement,s.id,this.isSelected))}}toggleAllModels(t,e,i,s){const a=this.$parent.$parent;if(t===a.id&&s===v.CollectionElementViewTypes.GRID&&a.id===t){if(i.length>0){if(!(i.filter((t=>t.id===this.collectionElement.id)).length>0))return}(!this.isSelected&&e||this.isSelected&&!e)&&(this.isSelected=e,this.collectionElement.isSelected=this.isSelected,this.$eventBus.$emit(v.Events.MODEL_SELECTION_TOGGLED,this.collectionElement,a.id,e))}}updateThumbnail(t,e){this.collectionElement.id===t.id&&(this.collectionElement.thumbnailUrl=e.thumbnailUrl)}get canEdit(){return this.$isAdmin||this.isOwner||this.isPartOfOrg}get isOwner(){return this.isSignedIn&&this.$user.id===this.collectionElement.creatorId}get isPartOfOrg(){return this.isSignedIn&&this.$context.id===this.collectionElement.creatorId}get isSignedIn(){return null!=this.$user}get isFavorites(){return"FAV_ROOT"===this.collectionElement.subtype}get isLikedContent(){return"LIKED"===this.collectionElement.subtype}onCardClicked(t,e){const i=this.$parent.$parent;if(this.preventCardClickEvent)return void(this.preventCardClickEvent=!1);this.isSelected=!this.collectionElement.isSelected,this.collectionElement.isSelected=this.isSelected,this.$eventBus.$emit(v.Events.MODEL_SELECTION_TOGGLED,this.collectionElement,i.id,this.isSelected);const s=this.getActionContext(v.ContextAction.Toggle,t);this.actionCallback?this.actionCallback(s):this.$emit("clicked",s)}updateZIndexOverlay(t){this.zIndexOverlay=t}get viewPageURL(){return this.isCatalog?f.g(this.collectionElement.id):this.isModel?f.p(this.collectionElement.id):this.isFolder?f.i(this.collectionElement.creatorId,this.collectionElement.creator.externalResourceType,this.collectionElement):f.k(this.collectionElement.id)}getActionContext(t,e,i){return{action:t,item:this.collectionElement,options:i,event:e}}setupSupplementalMenu(){this.supplementalMenu=[],!1===g.r(this.collectionElement)&&this.supplementalMenu.push({eventName:g.t(g.d.VIEW,this.collectionElement),title:this.$t(g.u(g.d.VIEW,this.collectionElement,this.useRemove)),value:this.collectionElement.id}),this.canEdit&&(this.supplementalMenu.push({eventName:g.t(g.d.EDIT,this.collectionElement),title:this.$t(g.u(g.d.EDIT,this.collectionElement,this.useRemove)),value:this.collectionElement.id}),this.supplementalMenu.push({eventName:g.t(g.d.DELETE,this.collectionElement),title:this.$t(g.u(g.d.DELETE,this.collectionElement,this.useRemove)),value:this.collectionElement}))}favoriteItemFromCollection(){const t=this.$t("Favorite & Remove"),e=this.$t("You're about to favorite and remove the model from the collection.")+" "+this.$t("This can't be undone."),i=this.favoriteItem,s=y.a.Alert;this.confirmModal?(this.confirmModal.title="",this.confirmModal.message=e,this.confirmModal.confirmButtonText=t,this.confirmModal.acceptCallback=i,this.confirmModal.cancelCallback=()=>{},this.confirmModal.icon=s,this.confirmModal.openModal()):(this.confirmModal=new y.b({store:this.$store,propsData:{message:e,confirmButtonText:t,acceptCallback:i,cancelCallback:()=>{},icon:s}}),this.confirmModal.mountOnPage())}removeItemFromCollection(){const t=this.$t("Remove"),e=this.$t("You're about to remove the model from the collection.")+" "+this.$t("This can't be undone."),i=this.removeItem,s=y.a.Alert;this.confirmModal?(this.confirmModal.title="",this.confirmModal.message=e,this.confirmModal.confirmButtonText=t,this.confirmModal.acceptCallback=i,this.confirmModal.cancelCallback=()=>{},this.confirmModal.icon=s,this.confirmModal.openModal()):(this.confirmModal=new y.b({store:this.$store,propsData:{message:e,confirmButtonText:t,acceptCallback:i,cancelCallback:()=>{},icon:s}}),this.confirmModal.mountOnPage())}favoriteItem(){return O(this,void 0,void 0,(function*(){if(this.$store.getters.favorites){try{const t=this.$store.getters.favorites.id;yield this.$api.addCollectionChildren(t,[this.collectionElement.id]),this.$eventBus.$emit(g.m.FAVORITED,this.collectionElement)}catch(t){if(400!==t.status)return void this.setSnackbar(h.c.GENERIC_TRY_AGAIN,!1,v.SnackbarIcons.ALERT)}this.setSnackbar(this.$t("Added to Favorites"),!0,v.SnackbarIcons.FAVORITE),this.removeItem()}else this.setSnackbar("Favorites not available.",!1,v.SnackbarIcons.ALERT)}))}removeItem(){return O(this,void 0,void 0,(function*(){this.isModel?this.$eventBus.$emit(g.m.REMOVE_COLLECTION_ENTITY,this.collectionElement):this.$eventBus.$emit(g.m.REMOVE_COLLECTION_COLLECTION,this.collectionElement)}))}get containedItemsCount(){return this.collectionElement.containedItemsCount.toString()}};I=E([Object(u.b)({components:{AddToCollection:C.a,IconBadgeVerified:a.a,IconCertifiedContent:s.a,IconDelete:n.a,IconFavorite:d.a,IconFavorites:w.a,IconLiked:_.a,IconLock:o.a,IconNavFolders:r.a,IconOverflow:l.a,IconRemove:c.a,LazyPicture:T.a,SupplementalMenu:S.a},mixins:[p.a],props:{collectionElement:Object,actionCallback:Function,context:String,fullCardSelectable:Boolean,selectableCard:Boolean,hasSupplementalMenu:Boolean,hasVerifiedContent:Boolean,id:String,isInFolder:Boolean,dataOwner:Object,showAuthorName:Boolean,useRemove:{type:Boolean,default:!1}}})],I);var A=I,D=i(28),M=Object(D.a)(A,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:t.id+"-collection-element-grid-card",staticClass:"collection-element-grid-card",attrs:{id:t.id}},[i("div",{staticClass:"card-content"},[t.isCollection?i("div",{staticClass:"shadow far"}):t._e(),t._v(" "),t.isCollection?i("div",{staticClass:"shadow near"}):t._e(),t._v(" "),t.fullCardSelectable?i("div",{staticClass:"clickable-overlay",on:{click:function(e){return t.onCardClicked(e,!0)}}}):t._e(),t._v(" "),t.selectableCard?i("label",{staticClass:"container",attrs:{for:"checkbox-"+t.id}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.isSelected,expression:"isSelected"}],attrs:{id:"checkbox-"+t.id,type:"checkbox"},domProps:{checked:Array.isArray(t.isSelected)?t._i(t.isSelected,null)>-1:t.isSelected},on:{change:[function(e){var i=t.isSelected,s=e.target,a=!!s.checked;if(Array.isArray(i)){var n=t._i(i,null);s.checked?n<0&&(t.isSelected=i.concat([null])):n>-1&&(t.isSelected=i.slice(0,n).concat(i.slice(n+1)))}else t.isSelected=a},function(e){return t.onCardClicked(e,!1)}]}}),t._v(" "),i("span",{staticClass:"checkmark"})]):t._e(),t._v(" "),t.isCollection&&!t.isCatalog?i("div",{staticClass:"collection-card-count"},[t._v("\n      "+t._s(t.containedItemsCount)+"\n    ")]):t._e(),t._v(" "),i("div",{staticClass:"thumbnail",attrs:{title:t.titleTooltip}},[t.showVerifiedOverlay?i("div",{staticClass:"verified-content-overlay",class:{"z-index-overlay-primary":t.zIndexOverlay}},[i("div",{staticClass:"verified-warning"},[t._v("\n          "+t._s(t.verifiedOverlayText)+"\n        ")]),t._v(" "),i("div",{staticClass:"verified-actions"},[i("div",{staticClass:"action margin-right",attrs:{title:t.$t("Favorite and Remove")},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.favoriteItemFromCollection.apply(null,arguments)}}},[i("IconFavorite")],1),t._v(" "),i("div",{staticClass:"action margin-right"},[i("add-to-collection",{staticClass:"icon",attrs:{items:[t.collectionElement],id:"collection-element-grid-card-folders",target:"folder"},on:{isopenchanged:t.updateZIndexOverlay}})],1),t._v(" "),i("div",{staticClass:"action",attrs:{title:t.$t("Remove")},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.removeItemFromCollection.apply(null,arguments)}}},[i("IconRemove")],1)])]):t._e(),t._v(" "),i("a",{attrs:{href:t.viewPageURL}},[i("lazy-picture",{attrs:{defaultSource:t.collectionElement.thumbnailUrl,webpSource:t.collectionElement.webpThumbnailUrl,showWebpSource:t.collectionElement.missingCustomImageBinary,onload:function(t){var e=null!=t.composedPath?t.composedPath():t.path;null!=e&&(e[0].style.display="inline-block")},performAs:!0}})],1)]),t._v(" "),(t.isModel||t.isCatalog)&&t.collectionElement.isPrivate?i("div",{staticClass:"private-card-icon"},[i("IconLock")],1):t._e(),t._v(" "),i("div",{staticClass:"cardfooter"},[i("div",{staticClass:"info",class:{"justify-content-center":t.removeAuthor}},[i("a",{staticClass:"title",attrs:{title:t.titleTooltip,href:t.viewPageURL}},[t._v("\n          "+t._s(t.collectionElement.title)+"\n        ")]),t._v(" "),t.removeAuthor?t._e():i("a",{staticClass:"author",attrs:{target:"_blank",rel:"noopener",title:t.$t("View Author"),href:t.collectionElement.creatorPageUrl}},[t.collectionElement.creatorVerifiedOrOrg?i("IconBadgeVerified"):t._e(),t._v(" "),i("div",{staticClass:"name"},[t._v("\n            "+t._s(t.collectionElement.creatorDisplayName)+"\n          ")])],1)]),t._v(" "),i("div",{staticClass:"cardfooter-supplemental"},[t.isCertifiedContentEnabled&&t.isCertifiedContent?i("div",{staticClass:"certified",attrs:{title:t.$t("Certified Content")}},[i("IconCertifiedContent")],1):t._e(),t._v(" "),i("supplemental-menu",{directives:[{name:"show",rawName:"v-show",value:!t.fullCardSelectable&&t.hasSupplementalMenu&&t.canEdit,expression:"!fullCardSelectable && hasSupplementalMenu && canEdit"}],attrs:{menu:t.supplementalMenu,context:t.context}})],1)])])])}),[],!1,null,"752a249d",null);e.a=M.exports},843:function(t,e,i){"use strict";e.a={functional:!0,render:function(t,e){var i=e._c;return i("svg",{class:[e.data.class,e.data.staticClass],style:[e.data.style,e.data.staticStyle],attrs:{xmlns:"http://www.w3.org/2000/svg",width:"35",height:"35",viewBox:"0 0 35 35"}},[i("path",{attrs:{fill:"inherit","fill-rule":"evenodd",d:"M20 15h12.5a2.5 2.5 0 1 1 0 5H20v12.5a2.5 2.5 0 1 1-5 0V20H2.5a2.5 2.5 0 1 1 0-5H15V2.5a2.5 2.5 0 1 1 5 0V15z"}})])}}},844:function(t,e,i){"use strict";i.d(e,"a",(function(){return CatalogsDataBrowser}));var s=i(0),a=i(1),n=i.n(a),o=i(7),r=i(48),l=i(3),c=i(752);class CatalogsDataBrowser extends c.b{constructor(t,e=null,i=null){super(t,e),this.implementsDelete=!0,this.dataOwnerForDirectApi=i}open(t=c.a.CONTENT_SCROLL_INCREMENT){return this.useStore?this.openFromStore():0===this.items.length?this.loadMore(t):Promise.resolve(this.items)}loadMore(t=c.a.CONTENT_SCROLL_INCREMENT){if(!this.isValidLoadRequest())return Promise.resolve(this.items);if(this.isLoading=!0,this.useStore)return this.loadFromStore(t);if(this.filter_)return this.loadFilteredCatalogs(t);let e={show:s.PrivacyLevel.Public,showBinaryMetadata:!0,offset:this.offset,count:t+this.deletions.length,contentType:s.ContentType.Warehouse3D,recordEvent:!1,sortBy:this.sortBy};return this.loadAuthorCatalogs(e,t)}loadFilteredCatalogs(t){this.filter_.recordEvent=!1,this.filter_.count=t+this.deletions.length,this.filter_.offset=this.offset,this.filter_.showBinaryMetadata=!0,this.filter_.contentType=s.ContentType.Warehouse3D,this.filter_.sortBy=this.sortBy;let e=null;return e=null!=this.dataOwnerForDirectApi?this.dataOwnerForDirectApi.externalResourceType===s.ExternalResourceType.Org?this.handler.getDirectOrganizationCollections(this.dataOwnerForDirectApi.id,this.filter_):this.handler.getDirectUserCollections(this.dataOwnerForDirectApi.id,this.filter_):this.handler.getCollections(this.filter_),e.then((e=>this.processResponse(e,t)),(t=>(this.isLoading=!1,Promise.reject(t))))}loadAuthorCatalogs(t,e){const i=`creatorId==${this.source.creatorId}`,s=`subtype==${r.b.CATALOG}`;let a="";const c=n.a.utc().subtract(1,"year"),d=o.Constants.URL_DATE_TIME_FORMAT;switch(this.browseType){case l.BrowseTypes.CatalogsCurrent:a=`modifyTime>=${c.format(d)}`;break;case l.BrowseTypes.CatalogsExpired:a=`modifyTime<${c.format(d)}`;break;case l.BrowseTypes.CatalogsExpiring:let t=c.add(1,"month");a=`(modifyTime>=${c.format(d)};modifyTime<${t.format(d)})`}const u=[i,s,a];return t.fq=u.filter((t=>t)).join(";"),this.handler.getCollections(t).then((t=>this.processResponse(t,e)),(t=>(this.isLoading=!1,Promise.reject(t))))}}},845:function(t,e,i){"use strict";i.d(e,"a",(function(){return CuratedMaterialsDataBrowser}));var s=i(0),a=i(752);class CuratedMaterialsDataBrowser extends a.b{constructor(t,e=null,i=null){super(t,e),this.implementsDelete=!0,this.dataOwnerForDirectApi=i}open(t=a.a.CONTENT_SCROLL_INCREMENT){return 0===this.items.length?this.loadMore(t):Promise.resolve(this.items)}loadMore(t=a.a.CONTENT_SCROLL_INCREMENT){return this.isValidLoadRequest()&&this.filter_?(this.isLoading=!0,this.loadFilteredMaterials(t)):Promise.resolve(this.items)}loadFilteredMaterials(t){this.filter_.recordEvent=!1,this.filter_.count=t+this.deletions.length,this.filter_.offset=this.offset,this.filter_.showBinaryMetadata=!0,this.filter_.contentType=s.ContentType.Warehouse3D,this.filter_.sortBy=this.sortBy,this.filter_.showAttributes=!0;return this.handler.getEntities(this.filter_).then((e=>this.processResponse(e,t,!0)),(t=>(this.isLoading=!1,Promise.reject(t))))}}},846:function(t,e,i){"use strict";i.d(e,"a",(function(){return DataOwnerDataBrowser}));var s=i(74),a=i(3),n=i(752),o=function(t,e,i,s){return new(i||(i=Promise))((function(a,n){function o(t){try{l(s.next(t))}catch(t){n(t)}}function r(t){try{l(s.throw(t))}catch(t){n(t)}}function l(t){var e;t.done?a(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,r)}l((s=s.apply(t,e||[])).next())}))};class DataOwnerDataBrowser extends n.b{constructor(t){super(t)}open(t=n.a.CONTENT_SCROLL_INCREMENT){return 0===this.items.length?this.loadMore(t):Promise.resolve(this.items)}loadMore(t=n.a.CONTENT_SCROLL_INCREMENT){return o(this,void 0,void 0,(function*(){if(!this.isValidLoadRequest())return Promise.resolve(this.items);this.isLoading=!0;const e=this.buildParams(t);return(this.isFetchOrgsEnabled()?this.handler.fetchOrgs(e):this.handler.getUsers(e)).then((e=>this.processResponse(e,t)),(t=>(this.isLoading=!1,Promise.reject(t))))}))}buildParams(t){const e=[];if(this.isFetchOrgsEnabled()){const t=`type=="${s.d.SKETCHUP}"`;e.push(t)}else{const t="isVerified==true";e.push(t)}if(null!=this.filter_.domain){const t=`attribute:categories:domain:string==${this.filter_.domain}`;e.push(t)}if(null!=this.filter_.subdomain){const t='attribute:categories:subdomain:string=any=("'+this.filter_.subdomain.split(",").join('","')+'")';e.push(t)}const i={recordEvent:!1,fq:e.filter((t=>t)).join(";"),count:t,offset:this.offset,sortBy:this.sortBy};return null!=this.filter_.fq&&(i.fq=[i.fq,this.filter_.fq].filter((t=>t)).join(";")),i}isFetchOrgsEnabled(){return this.browseType===a.BrowseTypes.Organizations}}},847:function(t,e,i){},848:function(t,e,i){"use strict";var s=i(855),a=i(799),n=(i(856),i(28)),o=Object(n.a)(a.default,s.a,s.b,!1,null,null,null);e.default=o.exports},849:function(t,e,i){},850:function(t,e,i){"use strict";var s=i(766),a=i(835),n=i(838),o=i(674),r=i(151),l=i(48),c=i(3),d=i(778),u=i(809),h=function(t,e,i,s){var a,n=arguments.length,o=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,s);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(o=(n<3?a(o):n>3?a(e,i,o):a(e,i))||o);return n>3&&o&&Object.defineProperty(e,i,o),o};let p=class CollectionElementListView extends o.e{beforeDestroy(){this.$eventBus.$off(c.Events.ALL_MODEL_SELECTIONS_TOGGLED,this.toggleAllModels)}mounted(){this.$eventBus.$on(c.Events.ALL_MODEL_SELECTIONS_TOGGLED,this.toggleAllModels)}toggleAllModels(t,e,i,s){if(t===this.presenterId&&s===c.CollectionElementViewTypes.LIST){const t=this.$parent;for(let i of this.listData)i.isSelected=e,this.$eventBus.$emit(c.Events.MODEL_SELECTION_TOGGLED,i,t.id,e)}}linkPath(t){return"edit"===this.options.linkType?t.editPagePath:t.viewPagePath}get isDeleteMenuOptionAvailable(){return"edit-catalog-section-modal"!==this.presenterId}createCheckboxId(t){return"checkbox-"+this.presenterId+"-"+t}itemSelected(t){this.$emit(c.Events.COLLECTION_ELEMENT_SELECT_TOGGLED,t,this.presenterId,t.isSelected)}deleteItem(t){this.$emit(c.Events.DELETE_COLLECTION_ELEMENT,t)}setLazyPictureToInline(t){const e=null!=t.composedPath?t.composedPath():t.path;null!=e&&(e[0].style.display="inline-block")}getDefaultThumbnailUrl(t){return r.d(t)}getWebpThumbnailUrl(t){return r.g(t)}supplementalMenu(t){const e=[];return!1===l.r(t)&&e.push({eventName:l.t(l.d.VIEW,t),title:this.$t(l.u(l.d.VIEW,t)),value:t.id}),e.push({eventName:l.t(l.d.EDIT,t),title:this.$t(l.u(l.d.EDIT,t)),value:t.id}),e.push({eventName:l.t(l.d.DELETE,t),title:this.$t(l.u(l.d.DELETE,t)),value:t}),e}};h([Object(o.d)()],p.prototype,"context",void 0),h([Object(o.d)()],p.prototype,"listData",void 0),h([Object(o.d)()],p.prototype,"options",void 0),h([Object(o.d)({default:!0})],p.prototype,"hasSupplementalMenu",void 0),h([Object(o.d)()],p.prototype,"presenterId",void 0),p=h([Object(o.a)({components:{IconDelete:s.a,IconEdit:a.a,IconEye:n.a,LazyPicture:d.a,SupplementalMenu:u.a}})],p);var m=p,g=i(28),v=Object(g.a)(m,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"collection-element-list-view"},[i("table",{staticClass:"unstriped hover"},[i("thead",[i("tr",t._l(t.options.listHeaders,(function(e,s){return i("th",{key:s,class:{"top-right":s===t.options.listHeaders.length-1,"top-left":0===s}},[t._v("\n          "+t._s(e)+"\n        ")])})),0)]),t._v(" "),i("tbody",t._l(t.listData,(function(e,s){return i("tr",{key:"listview-"+s},[!0===t.options.hasCheckbox?i("td",{staticClass:"list-checkmark"},[i("label",{staticClass:"container",attrs:{for:t.createCheckboxId(e.id)}},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.isSelected,expression:"item.isSelected"}],attrs:{id:t.createCheckboxId(e.id),type:"checkbox"},domProps:{checked:Array.isArray(e.isSelected)?t._i(e.isSelected,null)>-1:e.isSelected},on:{change:[function(i){var s=e.isSelected,a=i.target,n=!!a.checked;if(Array.isArray(s)){var o=t._i(s,null);a.checked?o<0&&t.$set(e,"isSelected",s.concat([null])):o>-1&&t.$set(e,"isSelected",s.slice(0,o).concat(s.slice(o+1)))}else t.$set(e,"isSelected",n)},function(i){return t.itemSelected(e)}]}}),t._v(" "),i("span",{staticClass:"checkmark"})])]):t._e(),t._v(" "),t._l(t.options.itemIndices,(function(s,a){return i("td",{key:"listviewdata-"+a+"-"+e.id,class:{"item-title":"title"===s}},[s===t.options.linkIndex?i("a",{attrs:{href:t.linkPath(e)}},[t._v("\n            "+t._s(e[s])+"\n          ")]):s===t.options.imageIndex?i("div",{staticClass:"thumbnail-container"},[i("lazy-picture",{attrs:{defaultSource:t.getDefaultThumbnailUrl(e),webpSource:t.getWebpThumbnailUrl(e),showWebpSource:e.missingCustomImageBinary,onload:t.setLazyPictureToInline,performAs:!0}})],1):"isPrivate"===s?i("div",[t._v("\n            "+t._s(e[s]?t.$t("Private"):t.$t("Public"))+"\n          ")]):i("div",{class:{filename:"originalFileName"===s}},[t._v("\n            "+t._s(e[s])+"\n          ")])])})),t._v(" "),t.hasSupplementalMenu?i("td",{staticClass:"actions"},[i("supplemental-menu",{attrs:{menu:t.supplementalMenu(e),context:t.context}})],1):t._e()],2)})),0)])])}),[],!1,null,"6db76302",null);e.a=v.exports},851:function(t,e,i){"use strict";var s=i(0),a=i(6),n=i.n(a),o=i(674),r=i(3),l=i(9),c=function(t,e,i,s){var a,n=arguments.length,o=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,s);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(o=(n<3?a(o):n>3?a(e,i,o):a(e,i))||o);return n>3&&o&&Object.defineProperty(e,i,o),o};const d="/static/images/icon-profile.svg";let u=class BrandListCard extends n.a{constructor(){super(...arguments),this.name="brand-list-card",this.ownerUrl="",this.ownerPicture="",this.ownerDisplayName=""}created(){this.ownerPicture=this.owner.avatarUrl||d,this.ownerDisplayName=this.owner.displayName,this.ownerUrl=l.C(this.owner.id,this.cardResourceType)}setGenericAvatarUrl(){this.ownerPicture=d}get cardResourceType(){return this.dataOwnerType===r.BrowseTypes.Organizations?s.ExternalResourceType.Org:s.ExternalResourceType.User}};c([Object(o.d)()],u.prototype,"owner",void 0),c([Object(o.d)()],u.prototype,"dataOwnerType",void 0),u=c([Object(o.a)({})],u);var h=u,p=i(28),m=Object(p.a)(h,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("a",{attrs:{href:t.ownerUrl}},[i("div",{staticClass:"brandlist-card"},[i("div",{staticClass:"container-owner-picture"},[i("div",{staticClass:"brand-thumbnail"},[i("img",{staticClass:"brand-image",attrs:{src:t.ownerPicture},on:{error:t.setGenericAvatarUrl}})])]),t._v(" "),i("div",{staticClass:"container-name"},[i("h1",{staticClass:"brand-name",attrs:{title:t.ownerDisplayName}},[t._v("\n        "+t._s(t.ownerDisplayName)+"\n      ")])])])])}),[],!1,null,"4507f081",null);e.a=m.exports},852:function(t,e,i){"use strict";var s=i(6),a=i.n(s),n=i(12),o=function(t,e,i,s){var a,n=arguments.length,o=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,s);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(o=(n<3?a(o):n>3?a(e,i,o):a(e,i))||o);return n>3&&o&&Object.defineProperty(e,i,o),o};let r=class IconDoubleChevron extends a.a{constructor(){super(...arguments),this.name="icon-double-chevron"}get directionClass(){switch(this.direction){case"right":return"face-right";case"up":return"face-up";case"left":return"face-left";default:return""}}};r=o([Object(n.b)({components:{DoubleChevronDownIcon:{functional:!0,render:function(t,e){var i=e._c;return i("svg",{class:[e.data.class,e.data.staticClass],style:[e.data.style,e.data.staticStyle],attrs:{xmlns:"http://www.w3.org/2000/svg",width:"11",height:"12",viewBox:"0 0 11 12"}},[i("path",{attrs:{fill:"none","fill-rule":"evenodd",stroke:"#B7B7B6","stroke-linecap":"round","stroke-width":"2",d:"M1.441 7.138l4 4 4-4 M1.441 1.138l4 4 4-4"}})])}},DoubleChevronThinIcon:{functional:!0,render:function(t,e){var i=e._c;return i("svg",{class:[e.data.class,e.data.staticClass],style:[e.data.style,e.data.staticStyle],attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"}},[i("path",{staticClass:"pathFill",attrs:{fill:"#8C8B96","fill-rule":"evenodd",d:"M12 11.597L22.293 1.293a1 1 0 0 1 1.414 0c.39.391.39 1.025 0 1.416L13.414 13.013a1.998 1.998 0 0 1-2.828 0L.293 2.71a1.002 1.002 0 0 1 0-1.416 1 1 0 0 1 1.414 0L12 11.597zM12 21.597L22.293 11.293a1 1 0 0 1 1.414 0c.39.391.39 1.025 0 1.416L13.414 23.013a1.998 1.998 0 0 1-2.828 0L.293 12.71a1.002 1.002 0 0 1 0-1.416 1 1 0 0 1 1.414 0L12 21.597z"}})])}}},props:{id:String,direction:{type:String,default:""},thin:{type:Boolean,default:!1}}})],r);var l=r,c=i(28),d=Object(c.a)(l,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("span",{staticClass:"svg-icon icon-double-chevron",class:t.directionClass,attrs:{id:t.id}},[t.thin?i("DoubleChevronThinIcon"):i("DoubleChevronDownIcon")],1)}),[],!1,null,null,null);e.a=d.exports},854:function(t,e,i){"use strict";var s=i(798).a,a=i(28),n=Object(a.a)(s,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"context-menu",class:{active:t.isOpen},on:{contextmenu:function(t){return t.preventDefault(),function(){}.apply(null,arguments)}}},[i("ul",{staticClass:"context-menu-list"},t._l(t.menuItems,(function(e){return i("li",{key:e.key,staticClass:"context-menu-item clickable",on:{click:function(i){return!i.type.indexOf("key")&&t._k(i.keyCode,"left",37,i.key,["Left","ArrowLeft"])||"button"in i&&0!==i.button?null:t.selectItem(e)}}},[t._v("\n      "+t._s(e.value)+"\n    ")])})),0)])}),[],!1,null,null,null);e.a=n.exports},855:function(t,e,i){"use strict";i.d(e,"a",(function(){return s})),i.d(e,"b",(function(){return a}));var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"vue-drag-select",on:{mousedown:t.onMouseDown}},[t._t("default"),t._v(" "),t.mouseDown?i("div",{staticClass:"vue-drag-select-box",style:t.selectionBoxStyling}):t._e()],2)},a=[]},856:function(t,e,i){"use strict"},861:function(t,e,i){"use strict";var s=i(766),a=i(733),n=i(729),o=i(841),r=i(6),l=i.n(r),c=i(12),d=i(48),u=i(3),h=i(775),p=i(731),m=function(t,e,i,s){var a,n=arguments.length,o=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,s);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(o=(n<3?a(o):n>3?a(e,i,o):a(e,i))||o);return n>3&&o&&Object.defineProperty(e,i,o),o};let g=class AddToFavorites extends h.a{constructor(){super(...arguments),this.name="add-to-favorites"}addToFavorites(){const t=this.$store.getters.favorites;this.loading=!1,this.onSelected(t),this.performAdd(),this.selectAllContent(!1)}};g=m([Object(c.b)({components:{IconStar:p.a},props:{items:{type:Array,default:null},target:{type:String,default:"folder"},id:{type:String,default:""},user:Object,selectAllContent:Function}})],g);var v=g,f=i(28),C=Object(f.a)(v,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"add-to-collection-root",on:{click:t.addToFavorites}},[i("span",{staticClass:"svg-icon"},[i("IconStar",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.$t("Add to Favorites"),expression:"$t('Add to Favorites')"}]})],1)])}),[],!1,null,null,null).exports,b=function(t,e,i,s){var a,n=arguments.length,o=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,s);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(o=(n<3?a(o):n>3?a(e,i,o):a(e,i))||o);return n>3&&o&&Object.defineProperty(e,i,o),o};let y=class BulkControls extends l.a{constructor(){super(...arguments),this.selected=!1,this.TogglePrivacyActions=d.g,this.privacyAction=d.g.PreventPrivacyToggle,this.pageContentCount=20,this.isMounted=!1}beforeDestroy(){this.$eventBus.$off(u.Events.PASS_TOTAL_ITEM_COUNT,this.setPageContentCount)}mounted(){this.isMounted=!0,this.allowTogglePrivacy&&(this.privacyAction=Object(d.q)(this.selectedContent)),this.$eventBus.$on(u.Events.PASS_TOTAL_ITEM_COUNT,this.setPageContentCount)}get addToFolder(){return this.isMounted?this.$refs.addToFolder:null}get canAddToCollection(){return!0}get itemSelectedText(){return 1===this.selectedContentCount?this.$t("Item Selected"):this.$t("Items Selected")}setPageContentCount(t){this.pageContentCount=t}setSelected(){this.selected&&this.selectedContentCount!==this.pageContentCount?this.selectAllContent(this.pageContentCount):this.selected=!this.selected}allItemsSelected(){return this.selectedContentCount===this.pageContentCount&&(this.selected=!0,!0)}get allowAddToCollection(){return"folders"!==this.id}get allowTogglePrivacy(){return"models"===this.id}get deleteLabel(){if(!this.useRemove)return this.$t("Delete Items");switch(this.pageType){case d.p.EDITCATALOG:return this.$t("Remove from Section");case d.p.FAVORITES:return this.$t("Remove from Favorites");case d.p.FOLDERS:case d.p.EDITFOLDER:return this.$t("Remove from Folder");default:return this.$t("Remove from Collection")}}get togglePrivacyLabel(){switch(this.privacyAction){case d.g.ToggleToPrivate:return this.$t("Update to Private");case d.g.ToggleToPublic:return this.$t("Update to Public");case d.g.PreventPrivacyToggle:default:return this.$t("The selection must be all private or all public models when toggling privacy.")}}get favoriteIconLabel(){return this.$t("Add to Favorites")}get showFavoriteAction(){return!!this.showFavorites&&(this.$context.id===this.$user.id&&!(this.pageType===d.p.FAVORITES||this.pageType===d.p.LIKEDCONTENT))}get showDeleteAction(){return this.pageType!==d.p.LIKEDCONTENT}};y=b([Object(c.b)({props:{selectedContent:{type:Array,default:[]},selectedContentCount:{type:Number,default:0},deleteHandler:{type:Function,default:()=>{}},togglePrivacyHandler:{type:Function,default:()=>{}},selectAllContent:{type:Function,default:()=>{}},id:{type:String,default:""},useRemove:{type:Boolean,default:!1},dataOwner:Object,showAddToCollectionAction:{type:Boolean,default:!0},showAddToFolderAction:{type:Boolean,default:!0},showFavorites:{type:Boolean,default:!0},pageType:{type:String,default:null}},components:{AddToCollection:h.a,AddToFavorites:C,IconDelete:s.a,IconLock:{functional:!0,render:function(t,e){var i=e._c;return i("svg",{class:[e.data.class,e.data.staticClass],style:[e.data.style,e.data.staticStyle],attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"}},[i("path",{staticClass:"pathFill",attrs:{fill:"#363545","fill-rule":"evenodd",d:"M17.351 10.286H4.703a.244.244 0 0 0-.244.245v11.755c0 .135.11.245.244.245h14.594c.135 0 .244-.11.244-.245V10.53a.244.244 0 0 0-.244-.245h-1.946zM5.92 8.816V6.122C5.919 2.742 8.642 0 12 0c3.358 0 6.081 2.741 6.081 6.122v2.694h1.216c.94 0 1.703.768 1.703 1.715v11.755c0 .946-.762 1.714-1.703 1.714H4.703C3.763 24 3 23.232 3 22.286V10.53c0-.947.762-1.715 1.703-1.715h1.216zm1.46 0h9.243V6.122c0-2.57-2.07-4.653-4.622-4.653S7.378 3.553 7.378 6.122v2.694zm3.891 7.672a1.715 1.715 0 0 1-.973-1.55c0-.946.763-1.714 1.703-1.714.94 0 1.703.768 1.703 1.715 0 .684-.398 1.274-.973 1.55v2.368a.732.732 0 0 1-.73.735.732.732 0 0 1-.73-.735v-2.369zm.73-1.304c.134 0 .243-.11.243-.245a.244.244 0 0 0-.243-.245.244.244 0 0 0-.243.245c0 .135.109.245.243.245z"}})])}},IconLockCancel:{functional:!0,render:function(t,e){var i=e._c;return i("svg",{class:[e.data.class,e.data.staticClass],style:[e.data.style,e.data.staticStyle],attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"}},[i("path",{staticClass:"pathFill",attrs:{fill:"#363545","fill-rule":"evenodd",d:"M17.351 10.286H4.703a.244.244 0 0 0-.244.245v11.755c0 .135.11.245.244.245h14.594c.135 0 .244-.11.244-.245V10.53a.244.244 0 0 0-.244-.245h-1.946zM5.92 8.816V6.122C5.919 2.742 8.642 0 12 0c3.358 0 6.081 2.741 6.081 6.122v2.694h1.216c.94 0 1.703.768 1.703 1.715v11.755c0 .946-.762 1.714-1.703 1.714H4.703C3.763 24 3 23.232 3 22.286V10.53c0-.947.762-1.715 1.703-1.715h1.216zm1.46 0h9.243V6.122c0-2.57-2.07-4.653-4.622-4.653S7.378 3.553 7.378 6.122v2.694z"}}),i("path",{attrs:{"stroke-width":"1.2",stroke:"#363545","stroke-linecap":"round",d:"M6,21 l11.8,-9 M17.8,21 l-11.8,-9 "}})])}},IconNavCollections:a.a,IconNavFolders:n.a,IconRemove:o.a,IconUnlock:{functional:!0,render:function(t,e){var i=e._c;return i("svg",{class:[e.data.class,e.data.staticClass],style:[e.data.style,e.data.staticStyle],attrs:{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[i("path",{staticClass:"pathFill",attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M5.92 8.816V6.122C5.919 2.742 8.642 0 12 0C14.9774 0 17.4555 2.15482 17.9791 5L16.623 6.122C16.623 3.552 14.553 1.469 12.001 1.469C9.449 1.469 7.378 3.553 7.378 6.122V8.816H7.38H16.623H18.081H19.297C20.237 8.816 21 9.584 21 10.531V22.286C21 23.232 20.238 24 19.297 24H4.703C3.763 24 3 23.232 3 22.286V10.53C3 9.583 3.762 8.815 4.703 8.815H5.919L5.92 8.816ZM4.703 10.286H17.351V10.285H19.297C19.3291 10.285 19.3609 10.2913 19.3906 10.3037C19.4203 10.316 19.4472 10.3341 19.4699 10.3568C19.4926 10.3796 19.5105 10.4066 19.5227 10.4363C19.5349 10.466 19.5411 10.4979 19.541 10.53V22.286C19.541 22.421 19.432 22.531 19.297 22.531H4.703C4.569 22.531 4.459 22.421 4.459 22.286V10.531C4.45887 10.4989 4.46508 10.467 4.47729 10.4373C4.48949 10.4076 4.50744 10.3806 4.53011 10.3578C4.55278 10.3351 4.57972 10.317 4.60939 10.3047C4.63906 10.2923 4.67087 10.286 4.703 10.286Z",fill:"#C4C4C4"}})])}}},watch:{selected:function(t){this.selectAllContent(t)},selectedContent:function(t){this.allowTogglePrivacy&&(this.privacyAction=Object(d.q)(t))}}})],y);var w=y,_=Object(f.a)(w,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"bulk-controls"},[i("div",{staticClass:"controls"},[i("div",{staticClass:"select-all"},[i("label",{staticClass:"container",attrs:{for:"checkboxAll"}},[i("input",{attrs:{id:"bulk-"+t.id+"-check-all",type:"checkbox"},domProps:{checked:t.allItemsSelected()}}),t._v(" "),i("span",{staticClass:"checkmark",on:{click:t.setSelected}})])]),t._v(" "),i("div",{staticClass:"selections"},[t._v("\n      "+t._s(t.selectedContentCount.toLocaleString())+" "+t._s(t.itemSelectedText)+"\n    ")]),t._v(" "),i("div",{staticClass:"actions"},[t.showFavoriteAction?i("add-to-favorites",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.favoriteIconLabel,expression:"favoriteIconLabel"}],staticClass:"icon",attrs:{items:t.selectedContent,id:t.id+"-favorites",target:"folder",selectAllContent:t.selectAllContent}}):t._e(),t._v(" "),i("add-to-collection",{directives:[{name:"show",rawName:"v-show",value:t.showAddToFolderAction,expression:"showAddToFolderAction"}],staticClass:"icon",attrs:{items:t.selectedContent,id:t.id+"-folders",target:"folder",selectAllContent:t.selectAllContent}}),t._v(" "),i("add-to-collection",{directives:[{name:"show",rawName:"v-show",value:t.showAddToCollectionAction,expression:"showAddToCollectionAction"}],staticClass:"icon",attrs:{items:t.selectedContent,id:t.id+"-colls",selectAllContent:t.selectAllContent}}),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.allowTogglePrivacy,expression:"allowTogglePrivacy"},{name:"tooltip",rawName:"v-tooltip",value:t.togglePrivacyLabel,expression:"togglePrivacyLabel"}],staticClass:"icon",on:{click:t.togglePrivacyHandler}},[i("span",{directives:[{name:"show",rawName:"v-show",value:t.privacyAction===t.TogglePrivacyActions.ToggleToPrivate,expression:"privacyAction===TogglePrivacyActions.ToggleToPrivate"}],staticClass:"svg-icon"},[i("IconLock")],1),t._v(" "),i("span",{directives:[{name:"show",rawName:"v-show",value:t.privacyAction===t.TogglePrivacyActions.ToggleToPublic,expression:"privacyAction===TogglePrivacyActions.ToggleToPublic"}],staticClass:"svg-icon"},[i("IconUnlock")],1),t._v(" "),i("span",{directives:[{name:"show",rawName:"v-show",value:t.privacyAction===t.TogglePrivacyActions.PreventPrivacyToggle,expression:"privacyAction===TogglePrivacyActions.PreventPrivacyToggle"}],staticClass:"svg-icon disabled",attrs:{disabled:!0}},[i("IconLock")],1)]),t._v(" "),t.showDeleteAction?i("div",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.deleteLabel,expression:"deleteLabel"}],staticClass:"icon",on:{click:t.deleteHandler}},[i("span",{staticClass:"svg-icon"},[t.useRemove?i("IconRemove"):i("IconDelete")],1)]):t._e(),t._v(" "),i("button",{staticClass:"done-button",on:{click:function(e){return t.selectAllContent(!1)}}},[t._v("\n        "+t._s(t.$t("Done"))+"\n      ")])],1)])])}),[],!1,null,null,null);e.a=_.exports},862:function(t,e,i){"use strict";var s=i(11),a=i(787),n=i(6),o=i.n(n),r=i(674),l=function(t,e,i,s){var a,n=arguments.length,o=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,s);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(o=(n<3?a(o):n>3?a(e,i,o):a(e,i))||o);return n>3&&o&&Object.defineProperty(e,i,o),o};let c=class DatePicker extends o.a{constructor(){super(...arguments),this.placeHolder="",this.isActive=!1,this.lockEmit=!1}mounted(){const t=this;let e=i(683);const a=s.dateUtil.getLocaleInfo(this.langCode);this.placeHolder=a.longDateFormat,this.pikaday=new e({format:a.longDateFormat,field:t.$refs.dateSrc,parse(e,i){const a=t.$refs.dateSrc;let n=new Date(a.value);return s.dateUtil.isValidDate(n)?n:(t.value="",t.$emit("input",this.value),null)},onSelect(){this.value=this.getMoment().toDate(),t.lockEmit||t.$emit("input",this.value)},disableDayFn:t=>this.disableDatesOutsideOfRange(t),i18n:{months:s.dateUtil.getMonthNames(),weekdays:s.dateUtil.getWeekDayNames(),weekdaysShort:s.dateUtil.getWeekDayNamesShort()},onOpen:()=>{this.isActive=!0,t.$emit("opened")},onClose:()=>{this.isActive=!1,t.$emit("closed")}}),this.updatePicker()}get langCode(){return this.$store.getters.language}updatePicker(){this.lockEmit=!0,this.pikaday.setDate(this.value),this.lockEmit=!1}disableDatesOutsideOfRange(t){if(this.rangeFrom>0){let e=s.dateUtil.startOfDate(t,"day").getTime();if(e<this.rangeFrom||this.rangeTo>0&&e>this.rangeTo)return!0}return!1}destroy(){this.pikaday&&this.pikaday.destroy()}};l([Object(r.d)()],c.prototype,"id",void 0),l([Object(r.d)()],c.prototype,"name",void 0),l([Object(r.d)({default:0})],c.prototype,"rangeFrom",void 0),l([Object(r.d)({default:0})],c.prototype,"rangeTo",void 0),l([Object(r.d)()],c.prototype,"value",void 0),c=l([Object(r.a)({components:{ChevronDown:a.a,ChevronFlat:{functional:!0,render:function(t,e){var i=e._c;return i("svg",{class:[e.data.class,e.data.staticClass],style:[e.data.style,e.data.staticStyle],attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"}},[i("path",{attrs:{fill:"#8C8B96","fill-rule":"evenodd",d:"M.75 12.5a.75.75 0 1 1 0-1.5h22.5a.75.75 0 1 1 0 1.5H.75z"}})])}}},watch:{value:function(t){this.updatePicker()}}})],c);var d=c,u=i(28),h=Object(u.a)(d,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"date-wrapper",class:{"is-active":t.isActive}},[i("input",{ref:"dateSrc",staticClass:"date-picker",attrs:{type:"text",id:t.id,name:t.name,placeholder:t.placeHolder,autocomplete:"off"}}),t._v(" "),i("div",{staticClass:"select-icon"},[t.isActive?i("ChevronFlat"):i("ChevronDown")],1)])}),[],!1,null,null,null);e.a=h.exports},865:function(t,e,i){"use strict";var s=i(6),a=i.n(s),n=i(12),o=function(t,e,i,s){var a,n=arguments.length,o=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,s);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(o=(n<3?a(o):n>3?a(e,i,o):a(e,i))||o);return n>3&&o&&Object.defineProperty(e,i,o),o},r=function(t,e,i,s){return new(i||(i=Promise))((function(a,n){function o(t){try{l(s.next(t))}catch(t){n(t)}}function r(t){try{l(s.throw(t))}catch(t){n(t)}}function l(t){var e;t.done?a(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,r)}l((s=s.apply(t,e||[])).next())}))};let l=class UserAnalyticsBaseChart extends a.a{constructor(){super(...arguments),this.loading=!0,this.errorMessage=""}get chartContainer(){return this.$refs.chartContainer}loadDataAndRender(t,e,i,s,a){return r(this,void 0,void 0,(function*(){throw new Error("Not implemented")}))}drawChart(){}resizeChart(){!this.chartWidth||this.loading||this.errorMessage||this.drawChart()}};l=o([Object(n.b)({})],l);var c=l,d=i(28),u=Object(d.a)(c,(function(){var t=this.$createElement;return(this._self._c||t)("div")}),[],!1,null,null,null);e.a=u.exports},867:function(t,e,i){"use strict";var s,a=i(6),n=i.n(a),o=i(674),r=function(t,e,i,s){var a,n=arguments.length,o=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,s);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(o=(n<3?a(o):n>3?a(e,i,o):a(e,i))||o);return n>3&&o&&Object.defineProperty(e,i,o),o};let l=s=class Tabs extends n.a{constructor(){super(...arguments),this.name="tabs",this.displayedTab="",this.tab_=""}onDisplayedTabChanged(t){if(this.$emit("tab-change",t),this.tab_!==t){const e=Object.assign({},this.$route.query);t!=this.defaultTabKey?e.tab=t:delete e.tab,delete e.pg,this.$router.push({query:e})}this.tab_=t}mounted(){this.setupPageState(),this.$watch("$route",(function(){this.setupPageState()}))}setupPageState(){const t=this.$route.query.tab||this.defaultTabKey;if(null!=t&&""!=t){this.headers.filter((e=>e.key===t)).length>0&&(this.tab_=t,this.displayedTab=t)}}get headers(){const t=[];for(const e in this.$slots){const i=e.match(s.HEADER_REGEX);if(null!=i){const s=i[1];null!=this.disabledTabs&&this.disabledTabs.includes(s)||(""===this.displayedTab&&(this.displayedTab=s),t.push({key:s,name:e}))}}return t}get defaultTabKey(){return this.tabs.length>0?this.tabs[0].key:""}get tabs(){const t=[];for(const e in this.$slots){const i=e.match(s.TAB_REGEX);if(null!=i){const s=i[1];null!=this.disabledTabs&&this.disabledTabs.includes(s)||t.push({key:s,name:e})}}return t}};l.HEADER_REGEX=/^tab-header-(.+)$/,l.TAB_REGEX=/^tab-((?!header).*)$/,r([Object(o.d)()],l.prototype,"disabledTabs",void 0),r([Object(o.f)("displayedTab")],l.prototype,"onDisplayedTabChanged",null),l=s=r([o.a],l);var c=l,d=i(28),u=Object(d.a)(c,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"tabs row columns"},[i("ul",{staticClass:"radio-toolbar menu"},t._l(t.headers,(function(e){return i("li",{key:e.key,staticClass:"toolbar-item",class:t.displayedTab===e.key?"is-active":""},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.displayedTab,expression:"displayedTab"}],attrs:{type:"radio",id:e.key+"-tab"},domProps:{value:e.key,checked:t._q(t.displayedTab,e.key)},on:{change:function(i){t.displayedTab=e.key}}}),t._v(" "),i("label",{staticClass:"toolbar-label title",attrs:{for:e.key+"-tab"}},[t._t(e.name)],2)])})),0),t._v(" "),t._l(t.tabs,(function(e){return i("div",{directives:[{name:"show",rawName:"v-show",value:t.displayedTab==e.key,expression:"displayedTab == tab.key"}],key:e.key,staticClass:"tab"},[t._t(e.name)],2)}))],2)}),[],!1,null,"6dc8a2bb",null);e.a=u.exports},869:function(t,e,i){"use strict";var s=i(908).a,a=i(28),n=Object(a.a)(s,undefined,undefined,!1,null,null,null);e.a=n.exports},870:function(t,e,i){"use strict";var s;function a(t){if(!t)return"Error: An unknown error occured.";let e=t;return t.responseJSON&&t.responseJSON.message?t.responseJSON.message:t.responseText?t.responseText:e.toString()}function n(t){let e=a(t);const i=/^Error: /i,s="ERROR: ";return e=e.match(i)?e.replace(i,s):s+e,e}i.d(e,"a",(function(){return s})),i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return n})),function(t){t.INVALID_URL="Invalid URL",t.EMPTY="Cannot be empty"}(s||(s={}))},872:function(t,e,i){"use strict";e.a={functional:!0,render:function(t,e){var i=e._c;return i("svg",{class:[e.data.class,e.data.staticClass],style:[e.data.style,e.data.staticStyle],attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"}},[i("path",{attrs:{fill:"#363545","fill-rule":"nonzero",d:"M17.991 11.25h4.483a10.437 10.437 0 0 0-1.379-4.5h-3.547c.254 1.406.406 2.925.443 4.5zm-1.5 0a27.67 27.67 0 0 0-.469-4.5H7.978a27.67 27.67 0 0 0-.469 4.5h8.982zm-.207-8.84c.37.846.687 1.801.945 2.84h2.814a10.533 10.533 0 0 0-3.759-2.84zm-2.036-.669A10.54 10.54 0 0 0 12 1.5c-.772 0-1.524.083-2.248.241-.573.916-1.06 2.115-1.432 3.509h7.36c-.372-1.394-.859-2.593-1.432-3.509zM17.99 12.75a29.358 29.358 0 0 1-.443 4.5h3.547a10.437 10.437 0 0 0 1.379-4.5H17.99zm-1.5 0H7.509c.04 1.59.202 3.113.469 4.5h8.044c.267-1.387.43-2.91.469-4.5zm-.207 8.84a10.533 10.533 0 0 0 3.76-2.84h-2.815a17.776 17.776 0 0 1-.945 2.84zm-2.036.669c.573-.916 1.06-2.115 1.432-3.509H8.32c.372 1.394.859 2.593 1.432 3.509A10.54 10.54 0 0 0 12 22.5c.772 0 1.524-.083 2.248-.241zM2.905 6.75a10.437 10.437 0 0 0-1.379 4.5H6.01c.037-1.575.19-3.094.443-4.5H2.905zm1.052-1.5H6.77c.258-1.039.575-1.994.945-2.84a10.533 10.533 0 0 0-3.76 2.84zm-1.052 12h3.547a29.358 29.358 0 0 1-.443-4.5H1.526c.115 1.631.603 3.16 1.379 4.5zm1.052 1.5a10.533 10.533 0 0 0 3.759 2.84c-.37-.846-.687-1.801-.945-2.84H3.957zM12 24C5.373 24 0 18.627 0 12S5.373 0 12 0s12 5.373 12 12-5.373 12-12 12z"}})])}}},873:function(t,e,i){"use strict";(function(t){var s=i(0),a=i(22),n=i(676),o=i.n(n),r=i(6),l=i.n(r),c=i(12),d=i(674),u=i(2),h=(i(906),i(13)),p=i(3),m=i(862),g=i(922),v=i(923),f=i(924),C=i(919),b=i(925),y=function(t,e,i,s){var a,n=arguments.length,o=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,s);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(o=(n<3?a(o):n>3?a(e,i,o):a(e,i))||o);return n>3&&o&&Object.defineProperty(e,i,o),o},w=function(t,e,i,s){return new(i||(i=Promise))((function(a,n){function o(t){try{l(s.next(t))}catch(t){n(t)}}function r(t){try{l(s.throw(t))}catch(t){n(t)}}function l(t){var e;t.done?a(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,r)}l((s=s.apply(t,e||[])).next())}))};let _=class UserAnalytics extends l.a{constructor(){super(...arguments),this.chartLibsLoaded=!1,this.earliestDate=0,this.latestDate=0,this.rangeType="month",this.itemId="",this.itemLabel="",this.countryCode="",this.rangeLabel="",this.startDate=null,this.endDate=null,this.loadingCharts=!1,this.loadingOverlay=!0,this.errorMessage="",this.theme=p.Themes.LIGHT,this.allCharts=[]}get itemFilterLabel(){return this.itemLabel?this.$t("Item:")+" "+this.itemLabel:""}get startDateNum(){return null!==this.startDate?this.startDate.valueOf():0}get endDateNum(){return null!==this.endDate?this.endDate.valueOf():0}get geoAnalytics(){return this.$refs.geoAnalytics}mounted(){this.theme=t("body").hasClass("theme-dark")?p.Themes.DARK:p.Themes.LIGHT,this.allCharts.push(this.$refs.lineChart),this.allCharts.push(this.$refs.totalMetrics),this.showFullAnalytics&&(this.allCharts.push(this.$refs.table),this.allCharts.push(this.$refs.geoAnalytics)),this.loadGoogleChartLibs(),this.getAvailableDateRange();try{this.selectDefinedDateRange(this.rangeType),this.renderAllCharts()}catch(t){this.errorMessage=this.$t("There are no analytics data available.")}t(window).on("resize",o()(this.resizeCharts,p.Constants.DEBOUNCE_SHORT))}resizeCharts(){this.allCharts.forEach((t=>t.resizeChart()))}loadGoogleChartLibs(){let t=i(678),e={packages:["corechart","geochart","table"],callback:this.onChartLibsLoaded,mapsApiKey:p.ApiKeys.MAPS_API_KEY};t("https://www.gstatic.com/charts/loader.js",(()=>{google.charts.load("current",e)}))}onChartLibsLoaded(){this.chartLibsLoaded=!0,this.renderAllCharts()}renderAllCharts(){return w(this,void 0,void 0,(function*(){if(this.loadingCharts||!this.startDateNum||!this.chartLibsLoaded)return;this.loadingCharts=!0,this.loadingOverlay=!0;let t=[];for(let e of this.allCharts){let i=e.loadDataAndRender(this.owner.id,this.startDateNum,this.endDateNum,this.itemId,this.countryCode);t.push(i)}Promise.all(t).then((()=>{this.loadingCharts=!1,this.loadingOverlay=!1,this.$nextTick((()=>w(this,void 0,void 0,(function*(){this.showFullAnalytics&&(yield this.geoAnalytics.drawChart())}))))}),(()=>{this.loadingCharts=!1,this.loadingOverlay=!1}))}))}selectDefinedDateRange(t){if(this.loadingCharts)return void this.pleaseWait();let e,i=new Date(this.latestDate),s=this.earliestDate;switch(this.rangeType=t,t){case"day":s=i.setUTCDate(i.getUTCDate()-1),e=this.$t("Last Day");break;case"week":s=i.setUTCDate(i.getUTCDate()-7),e=this.$t("Last Week");break;case"month":s=i.setUTCMonth(i.getUTCMonth()-1),e=this.$t("Last Month");break;case"year":s=i.setUTCFullYear(i.getUTCFullYear()-1),e=this.$t("Last Year");break;case"custom":return void this.changeDateRange(this.startDateNum,this.endDateNum)}this.changeDateRange(s.valueOf(),this.latestDate,e)}changeStartDate(t){let e=this.endDateNum;e<t&&(e=t),this.changeDateRange(t,e)}changeEndDate(t){let e=this.startDateNum;e>t&&(e=t),this.changeDateRange(e,t)}changeDateRange(t,e,i){if(this.loadingCharts)return void this.pleaseWait();t=t.valueOf(),e=e.valueOf(),i?this.rangeLabel=i:(this.rangeLabel=this.$t("Custom Date Range"),this.rangeType="custom");const s=this.earliestDate,a=this.latestDate;let n=new Date(t>s?t:s);n.setUTCHours(23,59,59,999);let o=new Date(e<a?e:a);o.setUTCHours(23,59,59,999),this.startDate=n,this.endDate=o,this.renderAllCharts()}changeCountry(t){this.loadingCharts?this.pleaseWait():this.countryCode!==t&&(this.countryCode=t,this.renderAllCharts())}changeItemFilter(t={id:"",label:""}){this.loadingCharts?this.pleaseWait():this.itemId!==t.id&&(this.itemId=t.id,this.itemLabel=t.label,this.renderAllCharts())}getAvailableDateRange(){let t=new Date("1970-01-01");t.setUTCHours(0,0,0,0);let e=new Date;e.setUTCHours(23,59,59,999),this.earliestDate=t.valueOf(),this.latestDate=e.valueOf()}get showFullAnalytics(){return!!this.$user&&!!(this.$isAdmin||a.isAnalyst(this.$user.roles)||null!=this.$context&&this.owner.id===this.$context.id&&this.owner.externalResourceType==s.ExternalResourceType.Org)}pleaseWait(){let t={text:u.c.PLEASE_WAIT_REPORT_FINISHED},e=new h.d(t,h.c.ERROR);this.$store.commit("ADD_STATUS_NOTIFICATION",e)}};y([Object(d.d)()],_.prototype,"owner",void 0),_=y([Object(c.b)({components:{DatePicker:m.a,DateRangePicker:g.a,UserAnalyticsGeoChart:v.a,UserAnalyticsLineChart:f.a,UserAnalyticsTable:C.a,UserAnalyticsTotalMetrics:b.a}})],_),e.a=_}).call(this,i(31))},874:function(t,e,i){"use strict";var s=i(674),a=i(3),n=function(t,e,i,s){var a,n=arguments.length,o=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,s);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(o=(n<3?a(o):n>3?a(e,i,o):a(e,i))||o);return n>3&&o&&Object.defineProperty(e,i,o),o};let o=class ListViewToggle extends s.e{constructor(){super(...arguments),this.name="list-view-toggle"}};n([Object(s.d)()],o.prototype,"hidden",void 0),n([Object(s.d)()],o.prototype,"viewType",void 0),o=n([Object(s.a)({components:{IconGridView:{functional:!0,render:function(t,e){var i=e._c;return i("svg",{class:[e.data.class,e.data.staticClass],style:[e.data.style,e.data.staticStyle],attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}},[i("path",{attrs:{fill:"#6A6976","fill-rule":"evenodd",d:"M10.5 13.5V24H0V13.5h10.5zm13.5 0V24H13.5V13.5H24zM9 15H1.5v7.5H9V15zm13.5 0H15v7.5h7.5V15zm-12-15v10.5H0V0h10.5zM24 0v10.5H13.5V0H24zM9 1.5H1.5V9H9V1.5zm13.5 0H15V9h7.5V1.5z"}})])}},IconListView:{functional:!0,render:function(t,e){var i=e._c;return i("svg",{class:[e.data.class,e.data.staticClass],style:[e.data.style,e.data.staticStyle],attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 19 15"}},[i("path",{attrs:{fill:"#6A6976","fill-rule":"evenodd",d:"M1.5 12c.83 0 1.5.68 1.5 1.5S2.32 15 1.5 15 0 14.32 0 13.5.67 12 1.5 12zm17 .5v2h-14v-2h14zM1.5 6C2.33 6 3 6.67 3 7.5S2.33 9 1.5 9 0 8.33 0 7.5.67 6 1.5 6zm17 .5v2h-14v-2h14zM1.5 0C2.33 0 3 .67 3 1.5S2.33 3 1.5 3 0 2.33 0 1.5.67 0 1.5 0zm17 .5v2h-14v-2h14z"}})])}}},data:()=>({CollectionElementViewTypes:a.CollectionElementViewTypes})})],o);var r=o,l=i(28),c=Object(l.a)(r,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.hidden?t._e():i("div",{staticClass:"list-view-toggle"},[t.viewType===t.CollectionElementViewTypes.GRID?i("div",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.$t("List View"),expression:"$t('List View')"}],staticClass:"svg-icon list-view-icon",class:{active:!t.viewType===t.CollectionElementViewTypes.GRID},on:{click:function(e){return t.$emit("toggle-grid",!1)}}},[i("IconListView")],1):t._e(),t._v(" "),t.viewType===t.CollectionElementViewTypes.LIST?i("div",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.$t("Grid View"),expression:"$t('Grid View')"}],staticClass:"svg-icon grid-view-icon",class:{active:t.viewType===t.CollectionElementViewTypes.LIST},on:{click:function(e){return t.$emit("toggle-grid",!0)}}},[i("IconGridView")],1):t._e()])}),[],!1,null,"466ae927",null);e.a=c.exports},879:function(t,e,i){"use strict";i.d(e,"a",(function(){return FeaturedContent})),i.d(e,"c",(function(){return s})),i.d(e,"b",(function(){return a}));class FeaturedContent{constructor(t,e,i,s,a=""){this.parentCatalogId=t,this.index=e,this.title=i,this.description=s,this.thumbnailUrl=a}}var s,a;!function(t){t[t.NULL=-1]="NULL",t[t.FIRST=1]="FIRST",t[t.SECOND=2]="SECOND"}(s||(s={})),function(t){t.TITLE_1="fc_title_1",t.TITLE_2="fc_title_2",t.TEXT_1="fc_text_1",t.TEXT_2="fc_text_2"}(a||(a={}))},880:function(t,e,i){},881:function(t,e,i){"use strict";var s=i(685),a=i(0),n=i(12),o=i(2),r=(i(740),i(149)),l=i(152),c=i(13),d=i(7),u=i(3),h=i(6),p=i.n(h),m=i(37),g=i(752);class SelectableDataBrowser_SelectableDataBrowser extends g.b{constructor(t){super(t)}open(t=g.a.CONTENT_SCROLL_INCREMENT){return 0===this.items.length?this.loadMore(t):Promise.resolve(this.items)}reset(t,e){this.browseType===t&&this.fq===e||(this.browseType=t,this.fq=e,this.items=[])}loadMore(t=g.a.CONTENT_SCROLL_INCREMENT){if(!this.isValidLoadRequest())return Promise.resolve(this.items);this.isLoading=!0;const e={};switch(e.sortBy=this.sortBy,e.fq=this.fq,e.showBinaryMetadata=!0,e.offset=this.offset,e.count=t,e.contentType=a.ContentType.Warehouse3D,e.recordEvent=!1,this.browseType){case u.BrowseTypes.Materials:return this.loadMaterials(e);case u.BrowseTypes.Collections:return this.loadCollections(e);case u.BrowseTypes.Users:return this.loadUsers(e);default:return this.loadModels(e)}}loadCollections(t){return this.handler.getCollections(t).then((t=>(this.extractResults(t),Promise.resolve(this.items))),(t=>(this.isLoading=!1,Promise.reject(t))))}loadModels(t){return this.handler.getEntities(t).then((t=>(this.extractResults(t),Promise.resolve(this.items))),(t=>(this.isLoading=!1,Promise.reject(t))))}loadMaterials(t){return this.handler.getMaterials(t).then((t=>(this.extractResults(t),Promise.resolve(this.items))),(t=>(this.isLoading=!1,Promise.reject(t))))}loadUsers(t){return Promise.reject("Not implemented")}extractResults(t){this.total=t.total,this.isScrolledToEnd=t.endRow>=t.total,t.entries.forEach((t=>{const e=new m.a(t),i={id:e.id,name:e.title,url:e.largeThumbnailUrl,isSelected:!1};this.items.push(i)})),this.offset+=g.a.CONTENT_SCROLL_INCREMENT,this.isLoading=!1}}var v=i(770),f=i(832),C=(i(880),function(t,e,i,s){var a,n=arguments.length,o=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,s);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(o=(n<3?a(o):n>3?a(e,i,o):a(e,i))||o);return n>3&&o&&Object.defineProperty(e,i,o),o});let b=class SelectCard extends p.a{get isSelected(){return this.item.isSelected}set isSelected(t){this.item.isSelected=t}};b=C([Object(n.b)({props:{item:Object}})],b);var y=b,w=i(28),_=Object(w.a)(y,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"content-card select",attrs:{title:t.item.name}},[i("div",{staticClass:"selected-overlay",class:{selected:t.isSelected}}),t._v(" "),i("img",{staticClass:"content-image",attrs:{crossOrigin:"anonymous",id:"item-"+t.item.id,src:t.item.url,onerror:"this.src='/static/images/blank-thumbnail.png';this.className='content-image broken';"}})])}),[],!1,null,null,null).exports,T=function(t,e,i,s){var a,n=arguments.length,o=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,s);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(o=(n<3?a(o):n>3?a(e,i,o):a(e,i))||o);return n>3&&o&&Object.defineProperty(e,i,o),o};let S=class ContentSelector extends p.a{constructor(){super(...arguments),this.name="content-selector",this.selections=[],this.items=[],this.isLoading=!0,this.imageData="",this.scrolling=!1,this.scrollBufferMin=200}mounted(){this.dataBrowser=new SelectableDataBrowser_SelectableDataBrowser(this.$store),this.$eventBus.$on(u.Events.PAGE_OVERLAY_CLICK,this.close);const t=this.$refs.scrollTarget;this.scrollTrigger=this.$refs.scrollTrigger,this.scrollHelper=new v.a(t,this.scrollBufferMin),this.scrollTrigger.addEventListener("scroll",this.checkScrollBuffer),this.scrollTrigger.addEventListener("resize",this.checkScrollBuffer),this.open(this.type)}opened(){this.$nextTick((()=>{this.checkScrollBuffer()}))}beforeDestroy(){this.$eventBus.$off(u.Events.PAGE_OVERLAY_CLICK,this.close),this.scrollTrigger.removeEventListener("scroll",this.checkScrollBuffer),this.scrollTrigger.removeEventListener("resize",this.checkScrollBuffer)}open(t){this.isLoading=!0,this.dataBrowser.reset(t,this.filter),this.dataBrowser.open().then((t=>{this.items=t,this.isLoading=!1,setTimeout((()=>{this.checkScrollBuffer()}),0)}),(t=>{this.sendDataLoadError()}))}close(){this.items=[],this.$eventBus.$emit(u.Events.TOGGLE_MAIN_OVERLAY,{showOverlay:!1})}get isEmpty(){return!this.isLoading&&0===this.items.length}toggleCard(t){let e=null;if(this.selectImage&&(e=this.getImage(t.id),!e))return this.errorCallback&&(this.errorCallback(this.$t("That item has no image.")),setTimeout((()=>{this.errorCallback(null)}),c.a.DEFAULT_DELAY)),null;t.isSelected=!t.isSelected,this.isSingleSelect||this.selectImage?this.removeSingleSelection(t):t.isSelected||this.removeSelection(t),t.isSelected&&(this.selectImage&&this.getImageData(e),this.selections.push(t.id)),this.selectionCallback&&this.selectionCallback(this.selections),this.errorCallback&&this.errorCallback(null)}removeSingleSelection(t){1===this.selections.length&&(this.selections[0]!==t.id&&this.cancelSelection(this.selections[0]),this.selections=[],this.imageData="")}cancelSelection(t){for(let e of this.items)if(e.id===t){e.isSelected=!1;break}}removeSelection(t){const e=this.selections.indexOf(t.id);e>=0&&this.selections.splice(e,1)}getImage(t){const e=document.getElementById("item-"+t);return!e||!e.complete||e.className.indexOf("broken")>=0?null:e}getImageData(t){const e=document.createElement("canvas");e.width=t.naturalWidth,e.height=t.naturalHeight,e.getContext("2d").drawImage(t,0,0);let i=e.toDataURL(this.imageType);return this.imageData=i.replace(/^data:image\/(jpeg|jpg|png);base64,/,""),!0}loadMore(){this.dataBrowser.loadMore().then((t=>{this.items=t,this.scrolling=!1,setTimeout((()=>{this.checkScrollBuffer()}),0)}),(t=>{this.sendDataLoadError()}))}sendDataLoadError(){let t={text:o.c.DATA_LOAD_ERROR},e=new c.d(t,c.c.ERROR);this.$store.commit("ADD_STATUS_NOTIFICATION",e)}checkScrollBuffer(){if(this.scrolling||this.dataBrowser.isScrolledToEnd||this.$isServer)return;this.scrollHelper.getScrollRemainder(this.scrollTrigger)<this.scrollBufferMin&&(this.scrolling=!0,this.loadMore())}};S=T([Object(n.b)({props:{type:String,filter:String,selectImage:{type:Boolean,default:!1},imageType:{type:String,default:"image/png"},isSingleSelect:{type:Boolean,default:!0},noResultsMessage:String,selectionCallback:Function,errorCallback:Function},components:{SelectCard:_,NoResultsCard:f.a}})],S);var E=S,O=Object(w.a)(E,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"content-selector",attrs:{id:"content-selector"}},[t.isEmpty?i("no-results-card",{attrs:{text:t.noResultsMessage}}):t._e(),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:!t.isEmpty,expression:"!isEmpty"}],staticClass:"select-container"},[t.isLoading?i("div",{staticClass:"loading"}):t._e(),t._v(" "),i("div",{ref:"scrollTrigger",staticClass:"content-scroller",attrs:{id:"scroller"}},[i("div",{ref:"scrollTarget",staticClass:"content-cards"},[i("div",{staticClass:"content-cards row small-up-1 medium-up-2 client-up-3 large-up-4"},t._l(t.items,(function(e){return i("div",{key:e.id,staticClass:"columns",on:{click:function(i){return i.preventDefault(),t.toggleCard(e)}}},[i("select-card",{attrs:{item:e}})],1)})),0)])])])],1)}),[],!1,null,"cec2e39e",null).exports,I=i(794),A=function(t,e,i,s){var a,n=arguments.length,o=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,s);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(o=(n<3?a(o):n>3?a(e,i,o):a(e,i))||o);return n>3&&o&&Object.defineProperty(e,i,o),o};let D=class ImageCropper extends p.a{constructor(){super(...arguments),this.name="image-cropper",this.ready_=!1}mounted(){i(686),this.initCroppie()}destroy(){this.croppie&&this.croppie.destroy()}initCroppie(){let t=this.$refs.croppieContainer;t.addEventListener("update",(t=>{this.$emit("update",t.details)})),this.croppie=new Croppie(t,this.options),this.ready_=!0,this.url&&this.bind({url:this.url})}get options(){return{boundary:this.boundary,customClass:this.customClass,enableExif:this.enableExif,enableOrientation:this.enableOrientation,enableZoom:this.enableZoom,enforceBoundary:this.enforceBoundary,mouseWheelZoom:this.mouseWheelZoom,showZoomer:this.showZoomer,viewport:this.viewport}}bind(t,e){return this.ready_?this.croppie.bind(t,e):null}get(t){if(!t)return this.croppie.get();t(this.croppie.get())}rotate(t){this.croppie.rotate(t)}setZoom(t){this.croppie.setZoom(t)}result(t,e){return this.croppie.result(t).then((t=>(e?e(t):this.$emit("result",t),t)))}refresh(){this.croppie.destroy(),this.initCroppie()}};D=A([Object(n.b)({props:{boundary:{type:Object,default:()=>({width:400,height:400})},customClass:String,enableExif:{type:Boolean,default:!1},enableOrientation:{type:Boolean,default:!0},enableZoom:{type:Boolean,default:!0},enforceBoundary:{type:Boolean,default:!0},mouseWheelZoom:{type:Boolean,default:!0},showZoomer:{type:Boolean,default:!0},url:String,viewport:{type:Object,default:()=>({width:200,height:200,type:"square"})}}})],D);var M=D,k=Object(w.a)(M,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{ref:"croppieContainer",class:t.customClass,attrs:{id:"croppieContainer"}})}),[],!1,null,null,null).exports,L=i(726),$=function(t,e,i,s){var a,n=arguments.length,o=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,s);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(o=(n<3?a(o):n>3?a(e,i,o):a(e,i))||o);return n>3&&o&&Object.defineProperty(e,i,o),o},x=function(t,e,i,s){return new(i||(i=Promise))((function(a,n){function o(t){try{l(s.next(t))}catch(t){n(t)}}function r(t){try{l(s.throw(t))}catch(t){n(t)}}function l(t){var e;t.done?a(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,r)}l((s=s.apply(t,e||[])).next())}))};let P=class UploadThumbnailModal extends L.b{constructor(){super(...arguments),this.isCollection=!0,this.openOnMounted=!0,this.boundUploadTab_="custom",this.hasFile=!1,this.hasModel=!1,this.fileImageData="",this.imageData="",this.uploading=!1,this.hasError=!1,this.errorText_="",this.file=null,this.fileExtension="",this.fileTooSmall=!1,this.viewportType="square",this.isSection=!1,this.thumbnailWidth=0,this.thumbnailHeight=0,this.imageWidth=0,this.imageHeight=0}beforeDestroy(){this.$eventBus.$off(u.Events.UPLOAD_ERROR,this.onUploadError),this.$el.remove()}created(){null===this.collection&&(this.isCollection=!1),u.supportsFileConstructor(),this.$on(u.Events.UPLOAD_FILES_CHANGED,this.fileChanged),this.$eventBus.$on(u.Events.UPLOAD_ERROR,this.onUploadError),this.allowModelSelection&&(this.boundUploadTab_="model"),this.calculateSizes(),null!==this.collection?(this.isSection=this.collection.subtype==d.Constants.Subtypes.CATALOG_SECTION,this.whpType=a.DataStoreSubjectClass.Collection):null!==this.entity?this.whpType=a.DataStoreSubjectClass.Entity:null!==this.dataOwner&&(this.whpType=this.dataOwner.externalResourceType)}reset(){this.file=null,this.fileExtension="",this.imageData="",this.fileImageData="",this.uploading=!1,this.hasFile=this.hasModel=!1,this.hasError=!1,this.errorText_=null,this.fileTooSmall=!1,this.fileUpload&&this.fileUpload.resetFileUpload(!1),this.calculateSizes()}calculateSizes(){if(this.thumbnailWidth=l.a.UploadThumbnailMinWidth,this.thumbnailHeight=l.a.UploadThumbnailMinHeight,this.width!==this.thumbnailWidth||this.height!==this.thumbnailHeight){this.width/this.thumbnailWidth>this.height/this.thumbnailHeight?this.thumbnailHeight=this.thumbnailWidth*(this.height/this.width):this.thumbnailWidth=this.thumbnailHeight*(this.width/this.height)}const t=1.233333;this.imageWidth=this.thumbnailWidth*t,this.imageHeight=this.thumbnailHeight*t}dismiss(){this.closeModal(L.a.SlideOutDown)}get uploadTitle(){return this.isBanner?this.$t("Edit Banner"):this.$t("Edit Thumbnail")}get discardLabel(){return this.isBanner?this.$t("Discard Banner"):this.$t("Discard Image")}get uploadId(){return this.isBanner?"banner-thumbnail":"upload-thumbnail"}get selectorId(){return this.isBanner?"banner-selector":"upload-selector"}get saveButtonId(){return this.isBanner?"save-banner":"save-image"}get discardButtonId(){return this.isBanner?"discard-banner":"discard-image"}get boundUploadTab(){return this.boundUploadTab_}set boundUploadTab(t){this.errorText=null,this.boundUploadTab_=t}get isCustom(){return this.isBanner||"custom"===this.boundUploadTab_}get isDefault(){return!this.isBanner&&"default"===this.boundUploadTab_}get isModel(){return!this.isBanner&&"model"===this.boundUploadTab_}get noResultsMessage(){const t=this.isSection?this.$t("section"):this.$t("collection");return this.$t("Looks like there are no models in this {collectionType} yet.",{collectionType:t})}get modelFilter(){return this.isCollection?"parentCollectionId=="+this.collection.id:""}get uploadEnabled(){return!this.uploading&&(this.isModel?this.hasModel:this.hasFile&&!this.fileTooSmall)}get errorText(){return this.errorText_}set errorText(t){this.errorText_=t,this.uploading=!1,this.errorCallback()}get errorState(){return this.errorText_&&this.errorText_.length>0}onUploadError(t){this.errorText=t,this.errorCallback()}modelSelected(t){this.hasModel=t.length>0,this.hasModel?this.imageData=this.$refs.modelSelector.imageData:this.imageData=""}modelSelectError(t){this.errorText=t}uploadClicked(){this.uploading=!0,this.errorText=null,this.isModel?this.uploadModelImage():this.uploadFileImage()}useDefaultClicked(){return x(this,void 0,void 0,(function*(){if(this.uploading=!0,!this.isCollection){try{null!=this.entity.binaries[a.BinaryType.Small_Thumbnail_Custom]&&(yield this.$api.deleteEntityBinary(this.entity.id,a.BinaryType.Small_Thumbnail_Custom)),null!=this.entity.binaries[a.BinaryType.Featured_Thumbnail_Custom]&&(yield this.$api.deleteEntityBinary(this.entity.id,a.BinaryType.Featured_Thumbnail_Custom))}catch(t){this.errorText=this.$t("Failed to use the default image.")}this.uploading=!1,this.acceptCallback&&this.acceptCallback(this.entity.botLargeThumbnailUrl),this.dismiss()}}))}uploadModelImage(){this.selectCallback&&this.selectCallback();const t=atob(this.imageData),e=[];for(let i=0;i<t.length;i++)e.push(t.charCodeAt(i));const i=this.file?this.file.type:"image/jpeg",s=new Blob([new Uint8Array(e)],{type:i});this.uploadImage(s)}uploadFileImage(){this.selectCallback&&this.selectCallback();this.$refs.cropper.result({type:"blob",size:{width:this.width,height:this.height},format:this.fileExtension,quality:this.imageQuality},(t=>{t.size>1e3*(this.imageSizeKb+1)?this.errorText=this.$t("The cropped image exceeds the maximum size."):this.uploadImage(t)}))}getEndpoint(){switch(this.whpType){case a.DataStoreSubjectClass.Collection:return a.BinaryEndpoint.Collections;case a.DataStoreSubjectClass.Package:return a.BinaryEndpoint.Packages;case a.DataStoreSubjectClass.Entity:return a.BinaryEndpoint.Entities;case a.ExternalResourceType.User:return a.BinaryEndpoint.Users;case a.ExternalResourceType.Org:return a.BinaryEndpoint.Organizations}return null}getSubjectId(){switch(this.whpType){case a.DataStoreSubjectClass.Collection:return this.collection.id;case a.DataStoreSubjectClass.Entity:return this.entity.id;case a.ExternalResourceType.User:case a.ExternalResourceType.Org:return this.dataOwner.id}return null}uploadImage(t){u.supportsFileConstructor()&&(t=this.fileExtension?new File([t],"custom."+this.fileExtension,{type:this.file.type}):new File([t],"custom.jpg",{type:"image/jpeg"}));let e=this.getSubjectId();const i=this.isModel?"fromModel":"fromFile",s=r.c.UPLOAD_THUMBNAIL,n=this.getEndpoint();let o=this.binaryName;this.$api.postBinary(n,e,o,t,null,null,!0).then((()=>{r.l(s,[i,"success"]),this.$api.getBinaryMetadataByName(e,n,o).then((t=>{let e=t;switch(e.name=o,this.whpType){case a.DataStoreSubjectClass.Collection:o===a.BinaryType.Catalog_Banner?this.collection.catalogBannerUrl=t.contentUrl:o!==a.BinaryType.Featured_Content_Thumb_1&&o!==a.BinaryType.Featured_Content_Thumb_2&&(this.collection.thumbnailUrl=t.contentUrl),this.collection.binaries[e.name]=e;break;case a.DataStoreSubjectClass.Entity:this.entity.thumbnailUrl=t.contentUrl,this.entity.binaries[e.name]=e;break;case a.ExternalResourceType.User:this.dataOwner.picture=t.contentUrl}this.uploading=!1,this.acceptCallback&&this.acceptCallback(t.contentUrl),this.dismiss()}),(t=>{this.uploading=!1,this.dismiss()}))}),(()=>{r.l(s,[i,"failed"]),this.errorText=this.$t("Could not upload thumbnail image.")}))}fileChanged(){this.fileTooSmall=!1,this.errorText=null,this.file=this.fileUpload.fileToUpload,this.fileExtension=this.file?s.getExtensionFromContentType(this.file.type):"jpeg",this.fileImageData=this.fileUpload.imageToUpload,this.hasFile=null!=this.file,this.hasFile&&this.cropper.bind({url:this.fileImageData})}deleteImage(){this.fileTooSmall=!1,this.errorText=null,this.file=null,this.fileExtension="",this.fileImageData=null,this.hasFile=!1,this.cropper.refresh(),this.fileUpload.resetFileUpload(!1)}get fileUploadSettings(){return{allowDropEvent:this.fileDroppedInDropZone,allowMultipleFiles:!1,enforceDimensions:!0,handleOwnErrors:!0,inPlaceErrors:!0,maxCroppedSize:1024*this.imageSizeKb,recommendedWidth:this.width,recommendedHeight:this.height,supportedFileTypes:["jpg","jpeg","png"]}}fileDroppedInDropZone(t,e){return t||this.isOverModal(e)?(this.errorText=null,!0):(this.errorText=this.$tLabel({text:o.c.DROP_ZONE_ERROR}),setTimeout((()=>{this.errorText=null}),c.a.DEFAULT_DELAY),!1)}get fileUpload(){return this.$refs.fileUpload}isOverModal(t){return!t||u.isDragOverElement(t,"#upload-selector")}get cropper(){return this.$refs.cropper}};P=$([Object(n.b)({props:{circularImage:{type:Boolean,default:!1},collection:{type:Object,default:null},entity:{type:Object,default:null},dataOwner:{type:Object,default:null},selectCallback:Function,cancelCallback:Function,errorCallback:{type:Function,default:()=>{}},allowModelSelection:{type:Boolean,default:!0},binaryName:{type:String,default:a.BinaryType.Small_Thumbnail_Custom},height:{type:Number,default:l.a.UploadThumbnailMinHeight},width:{type:Number,default:l.a.UploadThumbnailMinWidth},imageSizeKb:{type:Number,default:l.a.UploadMaxImageSize},isBanner:{type:Boolean,default:!1},imageQuality:{type:Number,default:.8},useDefault:{type:Boolean,default:!1}},components:{ContentSelector:O,FileUpload:I.a,ImageCropper:k}})],P);var R=P,N=Object(w.a)(R,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"upload-modal upload-thumbnail reveal",attrs:{id:t.uploadId,"data-reveal":"","data-close-on-click":"false","data-close-on-esc":"false"}},[i("div",{staticClass:"grid-container"},[i("div",{staticClass:"modal-close-x",attrs:{tabindex:"0"},on:{click:t.dismiss}}),t._v(" "),i("div",{staticClass:"upload-header"},[i("div",{staticClass:"title upload-title"},[i("span",[t._v(t._s(t.uploadTitle))])])])]),t._v(" "),i("div",{staticClass:"upload-content"},[i("div",{staticClass:"row modal-error-placeholder",class:{active:t.errorState}},[t.errorState?i("div",{staticClass:"modal-error"},[t._v("\n        "+t._s(t.errorText)+"\n      ")]):t._e()]),t._v(" "),t.isBanner?t._e():i("div",{staticClass:"row columns"},[i("ul",{staticClass:"radio-toolbar row menu clearfix"},[t.allowModelSelection?i("li",{staticClass:"toolbar-item",attrs:{tabindex:"0"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.boundUploadTab,expression:"boundUploadTab"}],attrs:{name:"UploadTab",type:"radio",value:"model",id:"upload_ModelRadioButton"},domProps:{checked:t._q(t.boundUploadTab,"model")},on:{change:function(e){t.boundUploadTab="model"}}}),t._v(" "),i("label",{staticClass:"toolbar-label title",attrs:{for:"upload_ModelRadioButton"}},[t._v("\n            "+t._s(t.$t("Use a Model"))+"\n          ")])]):t._e(),t._v(" "),i("li",{staticClass:"toolbar-item",attrs:{tabindex:"0"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.boundUploadTab,expression:"boundUploadTab"}],attrs:{name:"UploadTab",type:"radio",value:"custom",id:"upload_CustomRadioButton"},domProps:{checked:t._q(t.boundUploadTab,"custom")},on:{change:function(e){t.boundUploadTab="custom"}}}),t._v(" "),i("label",{staticClass:"toolbar-label title",attrs:{for:"upload_CustomRadioButton"}},[t._v("\n            "+t._s(t.$t("Custom Image"))+"\n          ")])]),t._v(" "),t.useDefault?i("li",{staticClass:"toolbar-item",attrs:{tabindex:"0"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.boundUploadTab,expression:"boundUploadTab"}],attrs:{name:"UploadTab",type:"radio",value:"default",id:"upload_DefaultRadioButton"},domProps:{checked:t._q(t.boundUploadTab,"default")},on:{change:function(e){t.boundUploadTab="default"}}}),t._v(" "),i("label",{staticClass:"toolbar-label title",attrs:{for:"upload_DefaultRadioButton"}},[t._v("\n            "+t._s(t.$t("Use Default"))+"\n          ")])]):t._e()])])]),t._v(" "),i("div",{staticClass:"row content",attrs:{id:t.selectorId}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.isCustom,expression:"isCustom"}]},[i("file-upload",t._b({directives:[{name:"show",rawName:"v-show",value:!t.hasFile,expression:"!hasFile"}],ref:"fileUpload",attrs:{acceptableFileFormats:".jpg, .jpeg, .png",id:"upload-thumbnail-file-upload"}},"file-upload",t.fileUploadSettings,!1)),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.hasFile,expression:"hasFile"}],staticClass:"crop-controls",class:{circular:t.circularImage}},[i("image-cropper",{ref:"cropper",attrs:{enforceBoundary:!0,boundary:{width:t.imageWidth,height:t.imageHeight},viewport:{width:t.thumbnailWidth,height:t.thumbnailHeight,type:t.viewportType}}})],1)],1),t._v(" "),t.allowModelSelection?i("div",[i("div",{directives:[{name:"show",rawName:"v-show",value:t.isModel,expression:"isModel"}]},[i("content-selector",{ref:"modelSelector",attrs:{filter:t.modelFilter,itemType:"Models",noResultsMessage:t.noResultsMessage,selectImage:!0,selectionCallback:t.modelSelected,errorCallback:t.modelSelectError}})],1)]):t._e(),t._v(" "),t.isDefault?i("div",{staticClass:"default-upload"},[i("picture",[t.entity.missingCustomImageBinary?i("source",{attrs:{srcset:t.entity.webpLargeThumbnailUrl,type:"image/webp"}}):t._e(),t._v(" "),i("img",{staticClass:"default-image",attrs:{src:t.entity.botLargeThumbnailUrl}})])]):t._e(),t._v(" "),t.uploading?i("div",{staticClass:"loading-overlay"},[i("div",{staticClass:"loading"})]):t._e()]),t._v(" "),i("div",{staticClass:"row action"},[i("button",{directives:[{name:"show",rawName:"v-show",value:t.isCustom&&t.hasFile,expression:"isCustom && hasFile"}],staticClass:"button lightup-button",attrs:{id:t.discardButtonId},on:{click:t.deleteImage}},[t._v("\n      "+t._s(t.discardLabel)+"\n    ")]),t._v(" "),t.isDefault?i("button",{staticClass:"upload-file button",attrs:{tabindex:"0"},on:{click:t.useDefaultClicked}},[t._v("\n      "+t._s(t.$t("Use Default"))+"\n    ")]):i("button",{staticClass:"upload-file button",class:{"disabled-button":!t.uploadEnabled},attrs:{id:t.saveButtonId,disabled:!t.uploadEnabled,tabindex:"0"},on:{click:t.uploadClicked}},[t._v("\n      "+t._s(t.$t("Save Changes"))+"\n    ")])])])}),[],!1,null,null,null);e.a=N.exports},882:function(t,e,i){"use strict";var s=i(787),a=i(674),n=function(t,e,i,s){var a,n=arguments.length,o=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,s);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(o=(n<3?a(o):n>3?a(e,i,o):a(e,i))||o);return n>3&&o&&Object.defineProperty(e,i,o),o};let o=class UcmBreadcrumb extends a.e{confirmNavigateBack(){}};n([Object(a.d)()],o.prototype,"title",void 0),n([Object(a.d)({default:!0})],o.prototype,"isUppercase",void 0),n([Object(a.b)("navigate-back")],o.prototype,"confirmNavigateBack",null),o=n([Object(a.a)({components:{ChevronDown:s.a}})],o);var r=o,l=i(28),c=Object(l.a)(r,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"ucm-breadcrumb",class:{uppercase:t.isUppercase},on:{click:t.confirmNavigateBack}},[i("ChevronDown"),t._v("\n  "+t._s(t.title)+"\n")],1)}),[],!1,null,"096fd79b",null);e.a=c.exports},886:function(t,e,i){"use strict";e.a={functional:!0,render:function(t,e){var i=e._c;return i("svg",{class:[e.data.class,e.data.staticClass],style:[e.data.style,e.data.staticStyle],attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"}},[i("path",{attrs:{fill:"#363545","fill-rule":"evenodd",d:"M12.75 12.94l3.22-3.22a.75.75 0 0 1 1.06 1.06l-4.5 4.5a.75.75 0 0 1-1.06 0l-4.5-4.5a.75.75 0 0 1 1.06-1.06l3.22 3.22V2.75a.75.75 0 1 1 1.5 0v10.19zm9.75 3.81a.75.75 0 1 1 1.5 0v1.5A3.75 3.75 0 0 1 20.25 22H3.75A3.75 3.75 0 0 1 0 18.25v-1.5a.75.75 0 1 1 1.5 0v1.5a2.25 2.25 0 0 0 2.25 2.25h16.5a2.25 2.25 0 0 0 2.25-2.25v-1.5z"}})])}}},887:function(t,e,i){"use strict";e.a={functional:!0,render:function(t,e){var i=e._c;return i("svg",{class:[e.data.class,e.data.staticClass],style:[e.data.style,e.data.staticStyle],attrs:{xmlns:"http://www.w3.org/2000/svg",width:"26",height:"26",viewBox:"-1 -1 27 27"}},[i("ellipse",{attrs:{cx:"8.453",cy:"8.071",rx:"8.453",ry:"8"}}),i("path",{attrs:{d:"M15.517 13.1l8.211 7.771a.532.532 0 0 1 0 .8l-.845.8a.607.607 0 0 1-.845 0l-8.272-7.714"}})])}}},889:function(t,e,i){"use strict";var s=i(780),a=i(674),n=i(2),o=i(7),r=i(48),l=i(3),c=i(869),d=function(t,e,i,s){var a,n=arguments.length,o=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,s);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(o=(n<3?a(o):n>3?a(e,i,o):a(e,i))||o);return n>3&&o&&Object.defineProperty(e,i,o),o},u=function(t,e,i,s){return new(i||(i=Promise))((function(a,n){function o(t){try{l(s.next(t))}catch(t){n(t)}}function r(t){try{l(s.throw(t))}catch(t){n(t)}}function l(t){var e;t.done?a(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,r)}l((s=s.apply(t,e||[])).next())}))};let h=class UcmContentBase extends c.a{constructor(){super(...arguments),this.verifiedChildType="",this.elementCount=0,this.sortFields=[{value:o.SortField.CreateTime,label:this.$t("Date Added")},{value:o.SortField.ModifyTime,label:this.$t("Date Modified")},{value:o.SortField.Title,label:this.$t("Title")},{value:o.SortField.Popularity,label:this.$t("Popularity")},{value:o.SortField.ReviewCount,label:this.$t("Likes")},{value:o.SortField.CreatorName,label:this.$t("Author")}],this.hasVerifiedContent=!1,this.verifiedItemCount=0,this.verifiedItems=null}beforeDestroy(){this.$eventBus.$off(r.m.REMOVE_COLLECTION_ENTITY,this.removeCollectionEntity),this.$eventBus.$off(r.m.REMOVE_COLLECTION_COLLECTION,this.removeCollectionEntity)}mounted(){return u(this,void 0,void 0,(function*(){this.checkVerifiedContent&&this.setupVerifiedContentProperties(),this.$eventBus.$on(r.m.REMOVE_COLLECTION_ENTITY,this.removeCollectionEntity),this.$eventBus.$on(r.m.REMOVE_COLLECTION_COLLECTION,this.removeCollectionEntity),this.$watch("pageSize",(t=>{this.$eventBus.$emit(l.Events.UPDATE_PAGE_SIZE,t)})),this.$nextTick((()=>{this.presenter.opened()}))}))}get bulkId(){return this.id?`${this.id}Bulk`:""}get presenterId(){return this.id?`${this.id}Presenter`:""}get presenterTrigger(){return this.id?`#${this.presenterId}`:""}get presenter(){return this.isMounted?this.$refs.ucmContent:null}get presenterCount(){return this.presenter?this.presenter.items.length:0}get checkVerifiedContent(){return this.parentPageType===r.p.EDITCOLLECTION&&!this.dataOwner.isVerified}get isParentFolder(){return this.collection.isPrivate}get deleteConfirmPrompt(){switch(this.parentPageType){case r.p.EDITCOLLECTION:return this.$t("You're about to remove the selected item(s) from your collection.");case r.p.EDITFOLDER:return this.$t("You're about to remove the selected item(s) from your folder.");case r.p.EDITCATALOG:return this.$t("You're about to remove the selected item(s) from your catalog.");case r.p.FAVORITES:return this.$t("You're about to remove the selected item(s) from your favorites.");case r.p.LIKEDCONTENT:return this.$t("You're about to remove the selected item(s) from your liked content.")}return""}get deleteSuccessMessage(){return this.$t("The item(s) were removed.")}get verifiedConfirmText(){return""}setupVerifiedContentProperties(){return u(this,void 0,void 0,(function*(){const t=this.verifiedChildType,e=this.verifiedCheckParams();let i=yield this.$api.fetchCollectionChildren(this.collection.id,t,e);this.verifiedItems=i.entries,this.verifiedItemCount=i.total,this.hasVerifiedContent=this.verifiedItemCount>0}))}removeVerifiedContent(){const t=this.$t("Remove"),e=this.verifiedConfirmText+" "+this.$t("This can't be undone."),i=this.removeVerifiedItems,a=s.a.Alert;this.popupConfirmModal(t,e,i,a)}removeVerifiedItems(){this.setDeleteContext(null);const t=[];for(let e of this.verifiedItems)t.push(e.id);this.deleteBulkItems(t),this.verifiedItemCount=0,this.hasVerifiedContent=!1,this.verifiedChildType===r.c.ENTITIES?this.collection.entityCount-=this.verifiedItemCount:this.collection.collectionCount-=this.verifiedItemCount}removeCollectionEntity(t){this.setDeleteContext(t),this.deleteItem(),this.verifiedItemCount-=1,this.collection.entityCount-=1,0===this.verifiedItemCount&&(this.hasVerifiedContent=!1)}setDeleteContext(t){const e=null!=t||1===this.selectedContent.length,i=this.deleteConfirmPrompt,s=this.deleteSuccessMessage;this.deleteContext={parentId:this.collection.id,confirmMessage:this.completeConfirmMessage(i),failureMessage:n.c.GENERIC_TRY_AGAIN,successMessage:s,isSingle:e,isRemove:!0,item:t}}presenterActionHandler(t,e){e.action===l.ContextAction.LoadState&&null!=e.options.total&&(this.elementCount=e.options.total)}};d([Object(a.d)()],h.prototype,"collection",void 0),d([Object(a.d)()],h.prototype,"id",void 0),d([Object(a.d)()],h.prototype,"isPrivate",void 0),d([Object(a.d)({default:!1})],h.prototype,"likedContent",void 0),d([Object(a.d)()],h.prototype,"parentPageType",void 0),h=d([Object(a.a)({})],h);var p=h,m=i(28),g=Object(m.a)(p,undefined,undefined,!1,null,null,null);e.a=g.exports},890:function(t,e,i){"use strict";var s=i(674),a=i(779),n=function(t,e,i,s){var a,n=arguments.length,o=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,s);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(o=(n<3?a(o):n>3?a(e,i,o):a(e,i))||o);return n>3&&o&&Object.defineProperty(e,i,o),o};let o=class ConfirmationModalMixin extends s.e{beforeDestroy(){null!=this.confirmModal&&(this.confirmModal.$destroy(),this.confirmModal=null)}confirmAction(t,e,i,s,n,o){null!=this.confirmModal?(this.confirmModal.title=t,this.confirmModal.message=e,this.confirmModal.confirmButtonText=i,this.confirmModal.acceptCallback=o,this.confirmModal.cancelCallback=null,this.confirmModal.icon=s,this.confirmModal.cancelButton=n,this.confirmModal.openModal()):(this.confirmModal=new a.b({store:this.$store,propsData:{title:t,message:e,confirmButtonText:i,cancelButton:n,acceptCallback:o,cancelCallback:null,icon:s}}),this.confirmModal.mountOnPage())}};o=n([s.a],o);var r=o,l=i(28),c=Object(l.a)(r,undefined,undefined,!1,null,null,null);e.a=c.exports},892:function(t,e,i){"use strict";i.d(e,"a",(function(){return Catalog})),i.d(e,"b",(function(){return s}));var s,a=i(0),n=i(48),o=i(9),r=i(75),l=i(8),c=i(879);class Catalog extends r.a{constructor(t,e,i){if(super(t),this.featuredContent=[],this.sections=[],this.sectionOrder=[],this.subtype=n.b.CATALOG,this.isCatalog=!0,this.featuredContent=e,(null==i?void 0:i.length)>0){const t=this.getCatalog3dwAttributeType("sectionOrder"),e=this.getCatalog3dwAttributeValue("sectionOrder");null!=e?this.sectionOrder="string"===t?e.split(","):e:i.map((t=>t.id)),this.sections=this.sectionOrder.map((t=>new r.a(i.find((e=>e.id===t)))))}}getCatalog3dwAttributeValue(t){return l.a.getAttributeValue(this.attributes,"3dw",t)}getCatalog3dwAttributeType(t){return l.a.getAttributeType(this.attributes,"3dw",t)}getCatalogCategoryAttributeValue(t){return l.a.getAttributeValue(this.attributes,"categories",t)}getFeaturedContentByIndex(t){const e=this.findFeaturedContentPosition(t);return e>=0?this.featuredContent[e]:null}getFeaturedContent(){return this.featuredContent}addFeaturedContent(t){this.featuredContent.push(t)}updateFeaturedContent(t,e,i,s){const a=this.findFeaturedContentPosition(t),n=this.featuredContent[a];n.title=e,n.description=i,n.thumbnailUrl=s,this.featuredContent.splice(a,1,n)}deleteFeaturedContent(t){const e=this.findFeaturedContentPosition(t);this.featuredContent.splice(e,1),this.featuredContent=[...this.featuredContent]}findFeaturedContentPosition(t){let e=-1;for(let i=0;i<this.featuredContent.length;i++)if(this.featuredContent[i].index===t){e=i;break}return e}getDetailsPageUrl(){return Object(o.g)(this.id,this.urlTitle)}static generateFeaturedContentList(t){var e,i,s,n,o,r;const l=[];if(null!=t.customStrings[c.b.TITLE_1]){const n=t.customStrings[c.b.TITLE_1],o=null!==(e=t.customStrings[c.b.TEXT_1])&&void 0!==e?e:"";let r=null!==(s=null===(i=null==t?void 0:t.binaries[a.BinaryType.Featured_Content_Thumb_1])||void 0===i?void 0:i.contentUrl)&&void 0!==s?s:"";l.push(new c.a(t.id,1,n,o,r))}if(null!=t.customStrings[c.b.TITLE_2]){const e=t.customStrings[c.b.TITLE_2],i=null!==(n=t.customStrings[c.b.TEXT_2])&&void 0!==n?n:"";let s=null!==(r=null===(o=null==t?void 0:t.binaries[a.BinaryType.Featured_Content_Thumb_2])||void 0===o?void 0:o.contentUrl)&&void 0!==r?r:"";l.push(new c.a(t.id,2,e,i,s))}return l}}!function(t){t.REVERSED_ATTRIBUTE="isFeaturedContentReversed"}(s||(s={}))},893:function(t,e,i){"use strict";e.a={functional:!0,render:function(t,e){var i=e._c;return i("svg",{class:[e.data.class,e.data.staticClass],style:[e.data.style,e.data.staticStyle],attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"}},[i("path",{attrs:{fill:"#363545","fill-rule":"evenodd",d:"M1.5 16.5h3.375l3.237-4.316a2.25 2.25 0 0 1 3.391-.241l.416.415L14.7 8.65a2.25 2.25 0 0 1 3.6 0l2.67 3.56a.75.75 0 0 1-1.2.9L17.1 9.55a.75.75 0 0 0-1.2 0l-3.3 4.4a.75.75 0 0 1-1.13.08l-1.027-1.027a.75.75 0 0 0-1.131.081L6.75 16.5H22.5V2.25a.75.75 0 0 0-.75-.75H2.25a.75.75 0 0 0-.75.75V16.5zm0 1.5v3.75c0 .414.336.75.75.75h19.5a.75.75 0 0 0 .75-.75V18h-21zm.75-18h19.5A2.25 2.25 0 0 1 24 2.25v19.5A2.25 2.25 0 0 1 21.75 24H2.25A2.25 2.25 0 0 1 0 21.75V2.25A2.25 2.25 0 0 1 2.25 0zm4.125 9a2.625 2.625 0 1 1 0-5.25 2.625 2.625 0 0 1 0 5.25zm0-1.5a1.125 1.125 0 1 0 0-2.25 1.125 1.125 0 0 0 0 2.25z"}})])}}},895:function(t,e,i){"use strict";var s=i(0),a=i(835),n=i(893),o=i(6),r=i.n(o),l=i(674),c=i(154),d=i(9),u=i(881),h=function(t,e,i,s){var a,n=arguments.length,o=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,s);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(o=(n<3?a(o):n>3?a(e,i,o):a(e,i))||o);return n>3&&o&&Object.defineProperty(e,i,o),o};let p=class CollectionElementThumbnailSelector extends r.a{constructor(){super(...arguments),this.name="collection-element-thumbnail-selector"}onCollectionElementChange(){}beforeDestroy(){this.destroyUploadModal()}destroyUploadModal(){null!=this.uploadThumbnail&&(this.uploadThumbnail.$destroy(),this.uploadThumbnail=null)}get webpUrl(){return this.getImageUrl(this.collectionElement.webpThumbnailUrl)}get showPlaceholderImage(){return null!=this.customUrl?""===this.customUrl:this.collectionElement.missingCustomImageBinary}get url(){return null!=this.customUrl?this.getImageUrl(this.customUrl):this.getImageUrl(this.collectionElement.thumbnailUrl)}getImageUrl(t){return Object(d.m)(t,this.$user,this.$context,!0)}changeThumbnail(){this.destroyUploadModal(),this.uploadThumbnail=new u.a({store:this.$store,propsData:{allowModelSelection:this.allowModelSelection,binaryName:this.binaryName,collection:this.collectionElement,height:this.customThumbnailMaxHeight,imageSizeKb:this.imageSizeKb,width:this.customThumbnailMaxWidth,acceptCallback:this.acceptCallback,selectCallback:this.selectCallback,errorCallback:this.errorCallback}}),this.uploadThumbnail.mountOnPage()}};h([Object(l.d)({required:!0})],p.prototype,"collectionElement",void 0),h([Object(l.d)({default:!0})],p.prototype,"allowModelSelection",void 0),h([Object(l.d)({default:c.b.SMALL_THUMBNAIL_CUSTOM_HEIGHT})],p.prototype,"customThumbnailMaxHeight",void 0),h([Object(l.d)({default:c.b.SMALL_THUMBNAIL_CUSTOM_WIDTH})],p.prototype,"customThumbnailMaxWidth",void 0),h([Object(l.d)({default:c.c.SMALL_THUMBNAIL_CUSTOM_SIZE})],p.prototype,"imageSizeKb",void 0),h([Object(l.d)({default:s.BinaryType.Small_Thumbnail_Custom})],p.prototype,"binaryName",void 0),h([Object(l.d)()],p.prototype,"customUrl",void 0),h([Object(l.d)()],p.prototype,"acceptCallback",void 0),h([Object(l.d)()],p.prototype,"selectCallback",void 0),h([Object(l.d)()],p.prototype,"errorCallback",void 0),h([Object(l.f)("collectionElement",{deep:!0})],p.prototype,"onCollectionElementChange",null),p=h([Object(l.a)({components:{IconEdit:a.a,IconPlaceholderPicture:n.a,UploadThumbnailModal:u.a}})],p);var m=p,g=i(28),v=Object(g.a)(m,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"collection-element-thumbail-selector"},[i("div",{staticClass:"image-upload thumbnail",on:{click:t.changeThumbnail}},[i("picture",[t.collectionElement.missingCustomImageBinary?i("source",{attrs:{srcset:t.webpUrl,type:"image/webp"}}):t._e(),t._v(" "),i("img",{attrs:{src:t.url,onerror:"this.style.display='none'",onload:"this.style.display='inline-block'"}})]),t._v(" "),t.showPlaceholderImage?i("IconPlaceholderPicture"):t._e(),t._v(" "),i("div",{staticClass:"overlay"},[i("div",{staticClass:"overlay-text"},[i("div",{staticClass:"svg-icon"},[i("IconEdit")],1)])])],1)])}),[],!1,null,"3ae55ded",null);e.a=v.exports},896:function(t,e,i){"use strict";var s=i(910).a,a=i(28),n=Object(a.a)(s,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"item-analytics-chart"},[i("div",{staticClass:"analytics-background"},[i("div",{staticClass:"analytics-wrapper row column"},[t.isLoading?i("div",{staticClass:"loading"}):t.errorState?i("div",{staticClass:"error"},[t._v("\n        "+t._s(t.errorText)+"\n      ")]):i("div",{staticClass:"analytics-options"},[i("span",{class:{active:"cumulative"===t.chartType},on:{click:function(e){return t.setChartType("cumulative")}}},[t._v("\n          "+t._s(t.$t("Cumulative"))+"\n        ")]),t._v(" "),i("span",{staticClass:"active"},[t._v(" | ")]),t._v(" "),i("span",{class:{active:"daily"===t.chartType},on:{click:function(e){return t.setChartType("daily")}}},[t._v("\n          "+t._s(t.$t("Daily"))+"\n        ")])]),t._v(" "),i("div",{ref:"analyticsContainer",staticClass:"svg-control",attrs:{id:"analytics-container"}})])])])}),[],!1,null,null,null);e.a=n.exports},899:function(t,e,i){"use strict";e.a={functional:!0,render:function(t,e){var i=e._c;return i("svg",{class:[e.data.class,e.data.staticClass],style:[e.data.style,e.data.staticStyle],attrs:{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20"}},[i("g",{attrs:{fill:"none","fill-rule":"evenodd"}},[i("path",{attrs:{d:"M0 0h20v20H0z"}}),i("path",{staticClass:"pathFill",attrs:{fill:"#8C8B96","fill-rule":"nonzero",d:"M15.108 9.564c0-.23.178-.418.397-.418.22 0 .398.187.398.418v10.019c0 .23-.178.417-.398.417H.398A.408.408 0 0 1 0 19.583V2.05c0-.23.178-.418.398-.418h11.131c.22 0 .398.187.398.418 0 .23-.178.417-.398.417H.795v16.698h14.313V9.564zm3.017-6.785L16.44 1.008 8.284 9.57l-1.265 3.1 2.951-1.328 8.155-8.563zm-7.771 9.299l-3.936 1.77c-.33.15-.663-.2-.522-.547l1.687-4.134.084-.13 8.49-8.915a.384.384 0 0 1 .563 0l2.249 2.361a.432.432 0 0 1 0 .59l-8.49 8.916-.125.089zm7.155-8.062a.432.432 0 0 1 0 .59.384.384 0 0 1-.562 0l-2.25-2.361a.432.432 0 0 1 0-.59.384.384 0 0 1 .563 0l2.25 2.361zM10.48 11.4a.432.432 0 0 1-.001.59.384.384 0 0 1-.562 0L7.667 9.627a.432.432 0 0 1 0-.59.384.384 0 0 1 .563 0l2.248 2.362z"}})])])}}},900:function(t,e,i){"use strict";e.a={functional:!0,render:function(t,e){var i=e._c;return i("svg",{class:[e.data.class,e.data.staticClass],style:[e.data.style,e.data.staticStyle],attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"}},[i("path",{attrs:{fill:"#07599B","fill-rule":"evenodd",d:"M15.595 11.5H13.5v7h-3v-7h-2v-2h2V8.336c0-1.099.352-2.818 2.65-2.818l2.35.006V7.83h-1.408c-.244 0-.592.124-.592.647V9.5h2.339l-.244 2zM12 0C5.383 0 0 5.383 0 12s5.383 12 12 12 12-5.383 12-12S18.617 0 12 0z"}})])}}},901:function(t,e,i){"use strict";e.a={functional:!0,render:function(t,e){var i=e._c;return i("svg",{class:[e.data.class,e.data.staticClass],style:[e.data.style,e.data.staticStyle],attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"}},[i("path",{attrs:{fill:"#C9255A","fill-rule":"evenodd",d:"M8.545 9.521L8 9.522V6h1v2.883a4.012 4.012 0 0 0-.455.638zM15 11.501a3.001 3.001 0 0 1-6 0 3 3 0 1 1 6 0zM16 7v1h1V7h-1zm-6 1.055V6.002h6.167C17.178 6 18 6.821 18 7.83v1.67l-2.553.006C14.754 8.313 13.477 7.5 12 7.5c-.731 0-1.409.212-2 .555zm9 8.11V7.832A2.836 2.836 0 0 0 16.167 5H7.833A2.836 2.836 0 0 0 5 7.832v8.334A2.837 2.837 0 0 0 7.833 19h8.334A2.837 2.837 0 0 0 19 16.166zM12 0c6.617 0 12 5.384 12 12 0 6.617-5.383 12-12 12S0 18.617 0 12C0 5.384 5.383 0 12 0zM7 9.524l-1 .003V7.832c0-.709.409-1.318 1-1.622v3.314z"}})])}}},902:function(t,e,i){"use strict";e.a={functional:!0,render:function(t,e){var i=e._c;return i("svg",{class:[e.data.class,e.data.staticClass],style:[e.data.style,e.data.staticStyle],attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"}},[i("path",{attrs:{fill:"#002D5B","fill-rule":"evenodd",d:"M14.505 12.217c-.63 0-1.141.51-1.141 1.141v3.995H10.51s.034-6.849 0-7.42h2.854v.848s.883-.823 2.248-.823c1.69 0 2.888 1.223 2.888 3.597v3.798h-2.853v-3.995c0-.63-.511-1.141-1.142-1.141zM7.936 8.792H7.92c-.862 0-1.42-.674-1.42-1.415C6.5 6.618 7.075 6 7.954 6s1.42.638 1.437 1.396c0 .742-.558 1.396-1.455 1.396zm1.433 8.56H6.515V9.935H9.37v7.419zM12 0C5.383 0 0 5.383 0 12s5.383 12 12 12 12-5.383 12-12S18.617 0 12 0"}})])}}},903:function(t,e,i){"use strict";e.a={functional:!0,render:function(t,e){var i=e._c;return i("svg",{class:[e.data.class,e.data.staticClass],style:[e.data.style,e.data.staticStyle],attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"}},[i("path",{attrs:{fill:"#C81719","fill-rule":"evenodd",d:"M19.062 12.469c-1.131 2.39-3.984 3.711-6.629 2.921.217 1.565-.337 3.471-2.05 4.053-.817.277-1.71.152-2.485-.184-.846-.365-.393-1.804-.463-2.53.516.11 1.01.632 1.568.385.482-.213.494-1.247.512-1.679.002-.045-.051-4.678-.051-6.406 0-.245.016-.21.242-.25.607-.104 1.247-.072 1.858-.024.174.013.346.031.519.052.221.027.243-.03.243.234V12.93c0 .331.224.328.531.4 2.423.573 4.434-1.148 3.76-3.438-.699-2.372-3.823-3.331-6.127-2.775-2.475.598-4.453 3.277-2.586 5.441-.559.477-1.041 1.044-1.692 1.414a3.362 3.362 0 0 1-.496.225c-.97-1.006-1.455-2.803-1.101-4.721.367-1.984 1.678-3.457 3.607-4.221 3.214-1.272 7.822-.752 10.094 1.956 1.212 1.446 1.551 3.557.746 5.258M12 0C5.382 0 0 5.384 0 12c0 6.617 5.382 12 12 12 6.617 0 11.999-5.383 11.999-12 0-6.616-5.382-12-11.999-12"}})])}}},904:function(t,e,i){"use strict";e.a={functional:!0,render:function(t,e){var i=e._c;return i("svg",{class:[e.data.class,e.data.staticClass],style:[e.data.style,e.data.staticStyle],attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"}},[i("path",{attrs:{fill:"#197CB6","fill-rule":"evenodd",d:"M17.262 9.385c.006.113.008.226.008.34 0 3.478-2.648 7.49-7.489 7.49a7.452 7.452 0 0 1-4.035-1.184 5.294 5.294 0 0 0 3.897-1.089 2.635 2.635 0 0 1-2.458-1.829c.396.075.803.061 1.188-.045a2.632 2.632 0 0 1-2.111-2.579v-.035c.355.197.762.315 1.192.329a2.63 2.63 0 0 1-.814-3.514 7.463 7.463 0 0 0 5.425 2.75 2.632 2.632 0 0 1 4.485-2.4c.6-.119 1.95-.265 1.95-.265-.352.528-.723 1.659-1.238 2.031M12 0C5.383 0 0 5.383 0 12s5.383 12 12 12 12-5.383 12-12S18.617 0 12 0"}})])}}},905:function(t,e,i){"use strict";e.a={functional:!0,render:function(t,e){var i=e._c;return i("svg",{class:[e.data.class,e.data.staticClass],style:[e.data.style,e.data.staticStyle],attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"}},[i("path",{attrs:{fill:"#E72B2D","fill-rule":"evenodd",d:"M10.752 9.068l4.283 2.5a.5.5 0 0 1-.007.867l-4.283 2.407a.498.498 0 0 1-.498-.004.5.5 0 0 1-.247-.432V9.5a.501.501 0 0 1 .752-.432zM19 14.256V9.743A2.746 2.746 0 0 0 16.258 7H7.741A2.744 2.744 0 0 0 5 9.743v4.513A2.746 2.746 0 0 0 7.741 17h8.517A2.747 2.747 0 0 0 19 14.256zM12 0c6.617 0 12 5.383 12 12 0 6.616-5.383 12-12 12S0 18.616 0 12C0 5.383 5.383 0 12 0z"}})])}}},906:function(t,e,i){},907:function(t,e,i){"use strict";(function(t){var s=i(12),a=i(3),n=i(735),o=i(726),r=function(t,e,i,s){var a,n=arguments.length,o=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,s);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(o=(n<3?a(o):n>3?a(e,i,o):a(e,i))||o);return n>3&&o&&Object.defineProperty(e,i,o),o},l=function(t,e,i,s){return new(i||(i=Promise))((function(a,n){function o(t){try{l(s.next(t))}catch(t){n(t)}}function r(t){try{l(s.throw(t))}catch(t){n(t)}}function l(t){var e;t.done?a(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,r)}l((s=s.apply(t,e||[])).next())}))};let c=class CreateCollectionModal extends o.b{constructor(){super(...arguments),this.inputFocused=!1,this.title_="",this.openOnMounted=!0,this.errorState=!1,this.isUpdating=!1,this.KEY_ENTER=13}created(){this.catalogTitle.length>0&&(this.title=this.catalogTitle,this.showPlaceholder=!0)}mounted(){const e=this.$refs.input;e&&t(e).keyup((t=>{t.keyCode===this.KEY_ENTER&&this.catalogAction()}))}beforeDestroy(){this.$el.remove()}afterOpen(){this.$nextTick((()=>{this.setFocus()}))}get title(){return this.title_}set title(t){this.title_=t,this.showPlaceholder=this.title_.length>0}get dialogTitle(){return this.modalTitle||this.$t("New Catalog")}get titlePlaceholder(){return this.placeholder||this.$t("Catalog Name")}get contextPlaceholder(){return this.inputFocused||this.showPlaceholder?this.titlePlaceholder:""}get errorText(){return`A title must be longer than ${this.minLength-1} characters.`}get charsRemaining(){return this.maxLength-this.titleLength}get titleLength(){return this.title.trim().length}setFocus(){const e=this.$refs.input;e&&t(e).focus()}catalogAction(){return l(this,void 0,void 0,(function*(){if(this.isUpdating=!0,this.titleLength>=this.minLength){let t=yield this.catalogFunction(this.title.trim());this.dismiss(t)}else this.isUpdating=!1,this.errorState=!0}))}close(){this.isUpdating=!1,this.title="",this.closeModal()}dismiss(t){this.isUpdating=!1,this.title="",this.closeModal().then((()=>{this.acceptCallback&&this.acceptCallback(t)}))}};c=r([Object(s.b)({components:{ErrorInContext:n.a},props:{modalTitle:String,placeholder:String,buttonText:{type:String,default:"Create"},catalogTitle:{type:String,default:""},catalogFunction:{type:Function,default:()=>{}},minLength:{type:Number,default:a.Constants.CATALOG_TITLE_MIN_LENGTH},maxLength:{type:Number,default:a.Constants.CATALOG_TITLE_MAX_LENGTH}},watch:{title:function(t){this.titleLength>=this.minLength&&(this.errorState=!1)}}})],c),e.a=c}).call(this,i(31))},908:function(t,e,i){"use strict";(function(t){var s=i(11),a=i(0),n=i(6),o=i.n(n),r=i(674),l=i(149),c=i(10),d=i(7),u=i(48),h=i(3),p=i(9),m=i(779),g=function(t,e,i,s){var a,n=arguments.length,o=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,s);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(o=(n<3?a(o):n>3?a(e,i,o):a(e,i))||o);return n>3&&o&&Object.defineProperty(e,i,o),o},v=function(t,e,i,s){return new(i||(i=Promise))((function(a,n){function o(t){try{l(s.next(t))}catch(t){n(t)}}function r(t){try{l(s.throw(t))}catch(t){n(t)}}function l(t){var e;t.done?a(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,r)}l((s=s.apply(t,e||[])).next())}))};let f=class UcmManageBase extends o.a{constructor(){super(...arguments),this.pageSize=this.pageSizeInitial,this.pageType=u.p.NONE,this.name="ucm-manage-base",this.manageModeContext=u.e.UNKNOWN,this.createIconHover=!1,this.inClient=!1,this.isMounted=!1,this.sortBy_=null,this.sortFields=[{value:d.SortField.CreateTime,label:this.$t("Date Added")},{value:d.SortField.ModifyTime,label:this.$t("Date Modified")},{value:d.SortField.Title,label:this.$t("Title")},{value:d.SortField.Popularity,label:this.$t("Popularity")},{value:d.SortField.ReviewCount,label:this.$t("Likes")}],this.pageSizeSelected=this.pageSize.toString(),this.pageSizeFields=[{value:h.PAGE_SIZES.SMALL.toString(),label:h.PAGE_SIZES.SMALL.toString()},{value:h.PAGE_SIZES.MEDIUM.toString(),label:h.PAGE_SIZES.MEDIUM.toString()},{value:h.PAGE_SIZES.LARGE.toString(),label:h.PAGE_SIZES.LARGE.toString()}],this.filter="",this.appliedFilter="",this.deleteContext=null,this.itemsToDelete=[],this.itemsToTogglePrivacy=[],this.entityCount=null,this.viewType=h.CollectionElementViewTypes.GRID}get presenter(){throw new Error("not implemented...")}beforeDestroy(){this.$eventBus.$off(h.Events.MENU_ACTION,this.onMenuActionTriggered),this.$eventBus.$off(h.Events.DELETE_COLLECTION_ELEMENT,this.confirmDeleteItem),this.$eventBus.$off(h.Events.SET_UCM_ENTITY_COUNT,this.handleUcmEntityCountEvent),this.close()}open(){this.baseOpen()}baseOpen(){this.presenter&&this.presenter.opened()}close(){this.baseClose()}baseClose(){null!=this.confirmModal&&(this.confirmModal.$destroy(),this.confirmModal=null)}tabChanged(){t(window).scrollTop()}get isMobileClient(){return Object(c.m)(this.$client)}get page(){const t=parseInt(this.$route.query.pg);return!isNaN(t)&&t>0?t-1:0}get sortBy(){return this.sortBy_}get sortSelection(){return this.sortBy_}set sortSelection(t){this.sortBy_!==t&&(this.sortBy_=t,l.l(l.c.SORT_ORDER,["models",t]),this.$router.push({query:Object.assign(Object.assign({},this.$route.query),{sortBy:t})}))}clearPageParam(){const t=this.$route.query.pg;null!=t&&""!==t&&this.$router.replace({query:Object.assign(Object.assign({},this.$route.query),{pg:null})})}checkFilter(){return v(this,void 0,void 0,(function*(){const t=this.filter.trim().toLowerCase();t!==this.appliedFilter&&(this.appliedFilter=t.replace(/['#-]+/g," ").trim(),yield this.$router.replace({query:Object.assign(Object.assign({},this.$route.query),{filter:this.appliedFilter.length>0?this.appliedFilter:void 0})}))}))}formatFilter(t){if(!this.appliedFilter)return"";return this.appliedFilter.split(" ").filter((t=>t)).map((e=>`${t}=like=${e}`)).join(";")}get isSelecting(){return!0===this.isMounted&&null!==this.presenter&&this.presenter.selections.length>0}get isContentOwner(){return this.$user.id===this.dataOwner.id}get isLoading(){return!(!this.isMounted||!this.presenter)&&this.presenter.isLoading}get isModelPage(){return!!this.presenter&&"models"===this.presenter.type}get selectedContent(){return this.isMounted&&this.presenter?this.presenter.selections:[]}get selectedContentCount(){return this.isMounted&&this.presenter?this.presenter.selections.length:0}get enableListView(){return this.$isAdmin||this.$inOrgContext}verifiedCheckParams(){return{fq:`creator.isVerified==true;creator.id!=${this.dataOwner.id}`,recordEvent:!1,contentType:a.ContentType.Warehouse3D}}getCollectionFqArgs(t){return[`parentCollectionId==${t}`,'(subtype=exists=false,subtype=="")',this.formatFilter("title")]}buildSearchParams(t,e=a.PrivacyLevel.All,i=!0,s=!1){return{fq:t.filter((t=>t)).join(";"),showBinaryMetadata:i,recordEvent:s,show:e,contentType:a.ContentType.Warehouse3D}}popupConfirmModal(t,e,i,s,a=(()=>{}),n=""){this.confirmModal?(this.confirmModal.title=n,this.confirmModal.message=e,this.confirmModal.confirmButtonText=t,this.confirmModal.acceptCallback=i,this.confirmModal.cancelCallback=a,this.confirmModal.icon=s,this.confirmModal.openModal()):(this.confirmModal=new m.b({store:this.$store,propsData:{title:n,message:e,confirmButtonText:t,acceptCallback:i,cancelCallback:a,icon:s}}),this.confirmModal.mountOnPage())}created(){this.setupPageState();const t=this.$route.query.filter;null!=t&&(this.filter=t,this.appliedFilter=this.filter);const e=this.$route.query.view;null!=e&&(this.viewType=e)}mounted(){return v(this,void 0,void 0,(function*(){this.isMounted=!0;const t=p.F();this.inClient=s.environment.isSketchupClient(t),this.setupEventListeners(),this.open()}))}setupEventListeners(){this.$eventBus.$on(h.Events.MENU_ACTION,this.onMenuActionTriggered),this.$eventBus.$on(h.Events.DELETE_COLLECTION_ELEMENT,this.confirmDeleteItem),this.$eventBus.$on(h.Events.SET_UCM_ENTITY_COUNT,this.handleUcmEntityCountEvent),this.$watch("pageSizeSelected",(t=>{this.pageSize=parseInt(t)})),this.open()}handleUcmEntityCountEvent(t,e){t===this&&(this.entityCount=e)}onMenuActionTriggered(t){t.context===this.manageModeContext&&this.handleMenuAction(t)}handleMenuAction(t){return v(this,void 0,void 0,(function*(){const e=this.$route.query;switch(delete e.pg,yield this.$router.push({query:e}),t.eventName){case u.f.EditModel:case u.f.EditCollection:this.navigateToItem(t.value);break;case u.f.EditFolder:this.navigateToItem(t.value,u.p.EDITFOLDER);break;case u.f.EditCatalog:this.navigateToItem(t.value,u.p.EDITCATALOG);break;case u.f.EditOrganization:this.navigateToItem(t.value,u.p.EDITORGANIZATION);break;case u.f.ViewModel:case u.f.ViewCollection:case u.f.ViewFolder:const e=this.isModelPage?p.p(t.value):p.k(t.value);p.J(e);break;case u.f.ViewCatalog:p.J(p.g(t.value));break;case u.f.DeleteCollection:case u.f.DeleteModel:case u.f.DeleteFolder:case u.f.DeleteCatalog:this.confirmDeleteItem(t.value)}}))}deleteItem(){this.deleteContext.item&&(this.$eventBus.$emit(u.m.UPDATING_PAGE,!0),this.presenter.removeItem(this.deleteContext.item))}get apiEndpoint(){return this.isModelPage?a.AttributeEndpoint.Entities:a.AttributeEndpoint.Collections}deleteItemCallback(t){return v(this,void 0,void 0,(function*(){const e=this.deleteContext.parentId;try{return null!=e?yield this.$api.removeCollectionChildren(e,[t.id]):t.subtype===d.Constants.Subtypes.CATALOG?yield this.$api.deleteCatalog(t.id):yield this.$api.deleteItem(t.id,this.apiEndpoint),this.$eventBus.$emit(u.m.UPDATING_PAGE,!1),this.$pushSnackbar(this.deleteContext.successMessage,h.SnackbarMessageTypes.success,h.SnackbarIcons.DELETE),this.deleteContext=null,Promise.resolve()}catch(t){return this.$eventBus.$emit(u.m.UPDATING_PAGE,!1),this.$pushSnackbar(this.deleteContext.failureMessage,h.SnackbarMessageTypes.failure,h.SnackbarIcons.ALERT),this.deleteContext=null,Promise.resolve()}}))}deleteBulkItems(t){t?this.itemsToDelete=[...t]:(this.itemsToDelete=this.getBulkItemIds(),t=[...this.itemsToDelete]),this.$eventBus.$emit(u.m.UPDATING_PAGE,!0),this.presenter.removeBulkItems(t)}deleteBulkItemsCallback(){return v(this,void 0,void 0,(function*(){0===this.itemsToDelete.length&&(this.itemsToDelete=this.getBulkItemIds());const t=this.deleteContext.parentId;try{return t?yield this.$api.bulkUpdateChildren(t,[],this.itemsToDelete,!0):yield this.$api.bulkDeleteItems(this.itemsToDelete,this.apiEndpoint,!0),this.$eventBus.$emit(u.m.UPDATING_PAGE,!1),this.$pushSnackbar(this.deleteContext.successMessage,h.SnackbarMessageTypes.success,h.SnackbarIcons.SUCCESS),this.selectAllContent(!1),this.deleteContext=null,Promise.resolve()}catch(t){return this.$eventBus.$emit(u.m.UPDATING_PAGE,!1),this.$pushSnackbar(this.deleteContext.failureMessage,h.SnackbarMessageTypes.failure,h.SnackbarIcons.ALERT),this.deleteContext=null,Promise.resolve()}}))}togglePrivacyOnBulkItems(){return v(this,void 0,void 0,(function*(){this.presenter&&Object(u.q)(this.presenter.selections)!==u.g.PreventPrivacyToggle&&(this.$eventBus.$emit(u.m.UPDATING_PAGE,!0),this.presenter.togglePrivacyOnBulkItems(this.presenter.selections))}))}togglePrivacyOnBulkItemsCallback(t){return v(this,void 0,void 0,(function*(){let e=[];t.forEach((t=>{e.push({id:t.id,isPrivate:!t.isPrivate})}));try{return yield this.$api.bulkUpdateEntities(e,!0),this.$eventBus.$emit(u.m.UPDATING_PAGE,!1),this.$pushSnackbar(this.$t("Privacy settings have been successfully updated"),h.SnackbarMessageTypes.success,h.SnackbarIcons.SUCCESS),this.selectAllContent(!1),Promise.resolve()}catch(t){return this.$eventBus.$emit(u.m.UPDATING_PAGE,!1),this.$pushSnackbar(this.$t("There was an issue updating the selection's privacy settings."),h.SnackbarMessageTypes.failure,h.SnackbarIcons.ALERT),Promise.resolve()}}))}getBulkItemIds(){const t=[];return this.presenter&&this.presenter.selections.forEach((e=>{t.push(e.id)})),t}navigateToItem(t,e){let i="";i=e&&Object(u.s)(e)?e:this.isModelPage?u.p.EDITMODEL:u.p.EDITCOLLECTION;const s=Object.assign(Object.assign({},this.$route.query),{nav:i,itemId:t});this.$router.push({query:s})}setupPageState(){this.setupBasePageState()}setupBasePageState(){let t=d.getSortByFromUrl(this.$route.fullPath,null);null===this.sortBy_&&null===t?this.sortBy_=d.SortBy.CreateTimeDesc:null===this.sortBy_&&t?this.sortBy_=t:this.sortBy_!==t&&this.$router.push({query:Object.assign(Object.assign({},this.$route.query),{sortBy:this.sortBy_})})}selectAllContent(t){this.selectedContentCount>0&&(t?this.presenter.selectAll():this.presenter.unSelectAll())}confirmDeleteItem(t){this.setDeleteContext(t);const e=this.deleteContext.isRemove?this.$t("Remove"):this.$t("Delete"),i=this.deleteItem,s=m.a.Alert,a=this.deleteContext.confirmMessage;this.popupConfirmModal(e,a,i,s,this.cancelDelete)}cancelDelete(){this.deleteContext=null}setDeleteContext(t){throw new Error("Not implemented")}completeConfirmMessage(t){return t+=" "+this.$t("This action cannot be undone.")}confirmDeleteSelected(){this.setDeleteContext(null);const t=this.deleteBulkItems,e=this.deleteContext.isRemove?this.$t("Remove"):this.$t("Delete"),i=m.a.Alert,s=this.deleteContext.confirmMessage;this.popupConfirmModal(e,s,t,i,this.cancelDelete)}toggleGrid(t){let e=t?h.CollectionElementViewTypes.GRID:h.CollectionElementViewTypes.LIST;this.$router.push({query:Object.assign(Object.assign({},this.$route.query),{view:e})}),this.viewType=e}};g([Object(r.d)({required:!0})],f.prototype,"dataOwner",void 0),g([Object(r.d)({default:h.PAGE_SIZES.LARGE})],f.prototype,"pageSizeInitial",void 0),f=g([Object(r.a)({})],f),e.a=f}).call(this,i(31))},909:function(t,e,i){"use strict";(function(t){var s=i(55),a=i(50),n=i(0),o=i(674),r=i(75),l=i(2),c=i(890),d=i(71),u=i(54),h=i(48),p=i(3),m=i(9),g=i(779),v=i(896),f=i(726),C=i(741),b=i(867),y=i(882),w=i(941),_=function(t,e,i,s){var a,n=arguments.length,o=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,s);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(o=(n<3?a(o):n>3?a(e,i,o):a(e,i))||o);return n>3&&o&&Object.defineProperty(e,i,o),o},T=function(t,e,i,s){return new(i||(i=Promise))((function(a,n){function o(t){try{l(s.next(t))}catch(t){n(t)}}function r(t){try{l(s.throw(t))}catch(t){n(t)}}function l(t){var e;t.done?a(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,r)}l((s=s.apply(t,e||[])).next())}))};let S=class UcmEditCatalogEditSection extends(Object(o.c)(c.a)){constructor(){super(...arguments),this.pageType=h.p.EDITCATALOG,this.catalogTitle="",this.section=null,this.workingSection=null,this.sectionId="",this.catalog=null,this.isCollectionEmpty=!0,this.isMounted=!1}get disabledTabs(){let t=[];const e=this.$store.getters.permissions;return this.$inOrgContext&&!1===Object(u.i)(e,u.b.UCM_ANALYTICS)&&(t=t.concat([h.l.ANALYTICS])),t}open(){}mounted(){return T(this,void 0,void 0,(function*(){yield this.fetchParentCatalog(),yield this.fetchSection(),yield this.collectionHasChildren(),this.isMounted=!0}))}beforeDestroy(){this.close()}close(){for(const t of this.tabRefKeys){const e=this.$refs[t];null!=e&&null!=e.close&&e.close()}null!=this.statusModal&&(this.statusModal.$destroy(),this.statusModal=null)}get tabRefKeys(){return[h.l.GENERAL,h.l.ANALYTICS]}tabName(t){switch(t){case h.l.GENERAL:return this.generalTabHeaderName;case h.l.ANALYTICS:return this.analyticsTabHeaderName;default:return""}}saveChanges(){return T(this,void 0,void 0,(function*(){try{for(const t of this.tabRefKeys){const e=this.$refs[t];if(!1===(null==e?void 0:e.fieldsAreValid)){const e=this.tabName(t),i=this.$t("Invalid fields found. Please correct {tabName} tab before saving.",{tabName:e});return void this.$pushSnackbar(i,p.SnackbarMessageTypes.failure,p.SnackbarIcons.ALERT)}}this.openSaveStatusModal();const t=this.buildPendingSection();yield this.$api.updateCollection(this.sectionId,t),this.section=a.cloneDeep(this.workingSection),this.statusModal.loadPercent=100,this.statusModal.successMessage=this.$t("Your section was successfully updated! It may take a few minutes for the changes to show up everywhere."),this.statusModal.currentState=p.StatusModalState.Success,this.statusModal.acceptCallback=null}catch(t){this.statusModal.failureMessage=this.$t("Something went wrong while saving changes to your section. Please try again."),this.statusModal.failureTitle=this.$t("Something went wrong"),this.statusModal.currentState=p.StatusModalState.Failure}}))}buildPendingSection(){const t={};return t.title=this.workingSection.title,t.description=this.workingSection.description,t.tags=d.a(this.workingSection.description),t}openSaveStatusModal(){let t={currentState:p.StatusModalState.LoadingIndeterminate,loadDetTitle:this.$t("Saving"),loadDetMessage:this.$t("Saving your changes."),animationIn:f.a.SlideInUp};null!=this.statusModal?(this.statusModal.resetModal(t),this.statusModal.openModal()):(this.statusModal=new C.a({store:this.$store,propsData:t}),this.statusModal.mountOnPage())}handleTabChange(e){t(window).scrollTop()}get enableSaving(){return this.$store.commit("UCM_UNSAVED_CHANGES",{changes:this.isEdited}),this.isEdited}get isEdited(){return this.section.title!=this.workingSection.title||this.section.description!==this.workingSection.description}get onAnalyticsTab(){return this.$route.query.tab==h.l.ANALYTICS}get generalTabHeaderName(){return this.$t("General")}get analyticsTabHeaderName(){return this.$t("Analytics")}handleSyncWorkingSection(t){this.workingSection=t}collectionHasChildren(){return T(this,void 0,void 0,(function*(){let t={recordEvent:!1,showAttributes:!1,showBinaryMetadata:!1,showHidden:!0,contentType:n.ContentType.Warehouse3D};try{0!==(yield this.$api.fetchCollectionChildren(this.$route.query.itemId,"entities",t)).entries.length&&(this.isCollectionEmpty=!1)}catch(t){this.$pushSnackbar(l.c.DATA_LOAD_ERROR,p.SnackbarMessageTypes.failure,p.SnackbarIcons.ALERT)}}))}confirmViewSection(){this.openConfirmActionModal(this.navigateToViewSection)}fetchSection(){return T(this,void 0,void 0,(function*(){let t=null;const e={recordEvent:!1,showAttributes:!0,showBinaryMetadata:!0,showHidden:!0};this.sectionId=this.$route.query.itemId;try{t=yield this.$api.getCollection(this.sectionId,e),this.section=new r.a(t),this.workingSection=a.cloneDeep(this.section)}catch(t){this.$pushSnackbar(l.c.DATA_LOAD_ERROR,p.SnackbarMessageTypes.failure,p.SnackbarIcons.ALERT)}}))}fetchParentCatalog(){return T(this,void 0,void 0,(function*(){let t=null;const e={recordEvent:!1,showAttributes:!0,showBinaryMetadata:!0,showHidden:!0};try{t=yield this.$api.getCollection(this.$route.query.catalogId,e),this.catalog=new r.a(t),this.catalogTitle=this.catalog.title}catch(t){this.$pushSnackbar(l.c.DATA_LOAD_ERROR,p.SnackbarMessageTypes.failure,p.SnackbarIcons.ALERT)}}))}navigateToCatalog(){const t={nav:h.p.EDITCATALOG,itemId:this.catalog.id,tab:h.i.SECTIONS};this.$router.push({query:t})}navigateToUcmCatalogs(){const t={nav:h.p.CATALOGS};this.$router.push({query:t})}navigateToViewSection(){const t=m.h(this.catalog.id,this.section.id,m.L(this.section.title));m.J(t)}discardChangesDialog(t){const e=t?this.navigateToCatalog:this.navigateToUcmCatalogs;this.isEdited?this.openConfirmActionModal(e):t?this.navigateToCatalog():this.navigateToUcmCatalogs()}openConfirmActionModal(t){if(!this.enableSaving)return void t();const e=this.$t("Are you sure?"),i=this.$t("Any changes you've made won't be saved. Are you sure?"),s=this.$t("Discard Changes"),a=g.a.Alert;this.confirmAction(e,i,s,a,!0,t)}get ownerHasGoldEntitlementOrHigher(){var t;const e=null!==(t=this.$store.getters.entitlements)&&void 0!==t?t:[];return s.EntitlementsHandler.permitWithMinimumOrHigherEntitlement(e,s.Entitlements.GOLD)||this.$isAdmin}};S=_([Object(o.a)({components:{ItemAnalyticsChart:v.a,Tabs:b.a,UcmBreadcrumb:y.a,UcmEditCatalogEditSectionGeneral:w.a},data:()=>({UcmEditSectionTabs:h.l})})],S),e.a=S}).call(this,i(31))},910:function(t,e,i){"use strict";(function(t){var s=i(676),a=i.n(s),n=i(6),o=i.n(n),r=i(12),l=i(674),c=i(2),d=i(7),u=i(3),h=function(t,e,i,s){var a,n=arguments.length,o=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,s);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(o=(n<3?a(o):n>3?a(e,i,o):a(e,i))||o);return n>3&&o&&Object.defineProperty(e,i,o),o};let p=class ItemAnalyticsChart extends o.a{constructor(){super(...arguments),this.name="item-analytics-chart",this.errorState=!1,this.errorText="",this.chartType="cumulative",this.chartInitialized=!1,this.isLoading=!0,this.showViews=!0,this.showDownloads=!0,this.chartSettings={displayAnnotations:!1,displayExactValues:!0,thickness:1.5,displayDateBarSeparator:!0,legendPosition:"newRow"}}onShouldInitializeChartChanged(t){1==t&&this.initializeGoogleChartLib()}mounted(){this.sourceItem.subjectClass===d.Constants.BackendClass.COLLECTION&&(this.showDownloads=!1),this.chartSettings.zoomButtonsOrder=["1-week","1-month","3-months","6-months","1-year","max"],this.chartSettings.wmode="transparent",this.chartDiv=t("#analytics-container")[0],t(window).on("resize",a()(this.resizeChart,u.Constants.DEBOUNCE_SHORT)),this.shouldInitializeChart&&this.initializeGoogleChartLib(),this.$emit("mounted")}beforeDestroy(){this.$el.remove()}reset(){this.errorState=!1,this.errorText=null,this.rawData?this.checkDisplayableData():(this.isLoading=!0,this.loadChartData())}initializeGoogleChartLib(){if(this.chartInitialized)return;this.chartInitialized=!0;i(678)("https://www.gstatic.com/charts/loader.js",(()=>{google.charts.load("current",{packages:["annotationchart"],callback:this.createChart})}))}createChart(){for(;this.chartDiv.childElementCount>0;)this.chartDiv.removeChild(this.chartDiv.children[0]);this.annotationChart=new google.visualization.AnnotationChart(this.chartDiv),this.loadChartData()}loadChartData(){const t=`/useranalytics/${this.sourceItem.id}/usagechart`;this.$api.performApiRequest(t,null).then((t=>{this.isLoading=!1,this.rawData=t.data.lineChartList,this.$nextTick((()=>{this.drawChart()}))}),(t=>{this.isLoading=!1,this.errorState=!0,this.errorText=this.$tLabel({text:c.c.GENERIC_ERROR_TITLE})}))}get isDaily(){return"daily"===this.chartType}checkDisplayableData(){return!(this.rawData.length<2)||(this.errorState=!0,this.errorText=this.$t("There is no data to display."),!1)}extractData(t){if(!this.checkDisplayableData())return null;const e=new google.visualization.DataTable;return e.addColumn("date",this.$t("Date Modified")),this.showViews&&e.addColumn("number",t?this.$t("Views"):this.$t("Total Views")),this.showDownloads&&e.addColumn("number",t?this.$t("Downloads"):this.$t("Total Downloads")),this.showLikes&&e.addColumn("number",t?this.$t("Likes"):this.$t("Total Likes")),e.addRows(this.extractRows(t)),e}dailyData(){return this.dayDataTable||(this.dayDataTable=this.extractData(!0)),this.dayDataTable}cumulativeData(){return this.cumDataTable||(this.cumDataTable=this.extractData(!1)),this.cumDataTable}extractRows(t){const e=[];let i=0,s=0,a=0;for(let n of this.rawData){const o=n.date||0,r=n.views||0,l=n.downloads||0,c=n.likes||0;if(s+=r,i+=l,a+=c,r||l||c){const n=[],d=new Date(o);n.push(d),this.showViews&&n.push(t?r:s),this.showDownloads&&n.push(t?l:i),this.showLikes&&n.push(t?c:a),e.push(n)}}return e}drawChart(){const t=this.isDaily?this.dailyData():this.cumulativeData();t&&(this.annotationChart.draw(t,this.chartSettings),this.lastWidth=this.chartDiv.clientWidth)}resizeChart(){this.lastWidth&&!this.errorState&&this.drawChart()}setChartType(t){this.chartType!==t&&(this.chartType=t,this.drawChart())}};h([Object(l.d)()],p.prototype,"sourceItem",void 0),h([Object(l.d)({required:!0})],p.prototype,"shouldInitializeChart",void 0),h([Object(l.d)({default:!0})],p.prototype,"showLikes",void 0),h([Object(l.f)("shouldInitializeChart")],p.prototype,"onShouldInitializeChartChanged",null),p=h([Object(r.b)({})],p),e.a=p}).call(this,i(31))},911:function(t,e,i){"use strict";(function(t){var s=i(50),a=i(0),n=i(674),o=i(892),r=i(879),l=i(2),c=i(890),d=i(149),u=i(54),h=i(48),p=i(3),m=i(9),g=i(793),v=i(779),f=i(896),C=i(726),b=i(741),y=i(867),w=i(882),_=i(942),T=i(948),S=i(943),E=function(t,e,i,s){var a,n=arguments.length,o=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,s);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(o=(n<3?a(o):n>3?a(e,i,o):a(e,i))||o);return n>3&&o&&Object.defineProperty(e,i,o),o},O=function(t,e,i,s){return new(i||(i=Promise))((function(a,n){function o(t){try{l(s.next(t))}catch(t){n(t)}}function r(t){try{l(s.throw(t))}catch(t){n(t)}}function l(t){var e;t.done?a(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,r)}l((s=s.apply(t,e||[])).next())}))};let I=class UcmEditCatalog extends(Object(n.c)(c.a)){constructor(){super(...arguments),this.name="ucm-edit-catalog",this.pageType=h.p.EDITCATALOG,this.catalog=null,this.workingCatalog=null,this.catalogId="",this.isMounted=!1,this.title_="",this.titleMaxLength=p.Constants.ITEM_TITLE_MAX_LENGTH}mounted(){return O(this,void 0,void 0,(function*(){this.setupPageState(),this.isMounted=!0,this.$watch("$route",(function(){this.setupPageState()}))}))}beforeDestroy(){this.close()}get disabledTabs(){let t=[];const e=this.$store.getters.permissions;return this.$inOrgContext&&!1===Object(u.i)(e,u.b.UCM_ANALYTICS)&&(t=t.concat([h.i.ANALYTICS])),t}open(){}handleTabChange(e){t(window).scrollTop()}get enableSaving(){return this.$store.commit("UCM_UNSAVED_CHANGES",{changes:this.isEdited}),this.isEdited}get isEdited(){var t,e,i,s;const a=null!==(t=this.catalog.getCatalogCategoryAttributeValue("domain"))&&void 0!==t?t:"",n=null!==(e=this.workingCatalog.getCatalogCategoryAttributeValue("domain"))&&void 0!==e?e:"",o=null!==(i=this.catalog.getCatalogCategoryAttributeValue("subdomain"))&&void 0!==i?i:"",r=null!==(s=this.workingCatalog.getCatalogCategoryAttributeValue("subdomain"))&&void 0!==s?s:"",l=this.catalog.title!=this.workingCatalog.title||this.catalog.isPrivate!==this.workingCatalog.isPrivate||this.catalog.description!==this.workingCatalog.description||a!==n||o!==r||this.catalog.externalUrl!==this.workingCatalog.externalUrl||this.sectionOrderIsEdited(),c=this.catalog.getFeaturedContent(),d=this.workingCatalog.getFeaturedContent();let u=!1;for(let t=0;t<d.length;t++){const e=d[t],i=c[t];if(e.title!==i.title||e.description!==i.description){u=!0;break}}return l||u}sectionOrderIsEdited(){var t,e;const i=null!==(t=this.catalog.getCatalog3dwAttributeValue("sectionOrder"))&&void 0!==t?t:"",s=null!==(e=this.workingCatalog.getCatalog3dwAttributeValue("sectionOrder"))&&void 0!==e?e:"",a=this.catalog.getCatalog3dwAttributeType("sectionOrder");return i?"string"===a?i!==s:i.join(",")!==s.join(","):i!==s}handleSyncCatalog(t){this.catalog=t}handleSyncWorkingCatalog(t){this.workingCatalog=t}get tabRefKeys(){return[h.i.GENERAL,h.i.FEATURED_CONTENT,h.i.SECTIONS,h.i.ANALYTICS]}close(){for(const t of this.tabRefKeys){const e=this.$refs[t];null!=e&&null!=e.close&&e.close()}null!=this.statusModal&&(this.statusModal.$destroy(),this.statusModal=null)}get generalTabHeaderName(){return this.$t("General")}get featuredContentTabHeaderName(){return this.$t("Featured Content")}get sectionsTabHeaderName(){return this.$t("Sections")}get analyticsTabHeaderName(){return this.$t("Analytics")}reverseFeaturedContent(){o.a.setAttributeValue(this.workingCatalog.attributes,"flags","isFeaturedContentReversed","boolean",!this.isFeaturedContentReversed)}get isFeaturedContentReversed(){return null!=this.workingCatalog&&o.a.getAttributeValue(this.workingCatalog.attributes,"flags",o.b.REVERSED_ATTRIBUTE)}get navigateBackLabel(){return this.$t("Catalogs")}get viewItemLabel(){return this.$t("View Catalog")}get title(){return p.removeProhibitedCharacters(this.title_)}set title(t){this.title_=p.removeProhibitedCharacters(t),this.workingCatalog.title=this.title_}setupPageState(){return O(this,void 0,void 0,(function*(){const t=this.$route.query.itemId;null!=t&&this.catalogId!==t&&(this.catalogId=t,yield this.fetchCatalog())}))}fetchCatalog(t=[]){return O(this,void 0,void 0,(function*(){try{let t,e=null;const i=yield this.$api.getCollection(this.catalogId,{recordEvent:!1,showCustomStrings:!0});t=o.a.generateFeaturedContentList(i);const n={recordEvent:!1,fq:`subtype==${h.b.SECTION};parentCollectionId==${this.catalogId}`,contentType:a.ContentType.Warehouse3D,showBinaryMetadata:!0};this.dataOwner.externalResourceType===a.ExternalResourceType.Org?e=yield this.$api.getDirectOrganizationCollections(this.dataOwner.id,n):this.dataOwner.externalResourceType===a.ExternalResourceType.User&&(e=yield this.$api.getDirectUserCollections(this.dataOwner.id,n)),this.catalog=new o.a(i,t,e.entries),this.workingCatalog=s.cloneDeep(this.catalog),this.title_=this.catalog.title}catch(t){this.$pushSnackbar(l.c.DATA_LOAD_ERROR,p.SnackbarMessageTypes.failure,p.SnackbarIcons.ALERT)}}))}tabName(t){switch(t){case h.i.GENERAL:return this.generalTabHeaderName;case h.i.FEATURED_CONTENT:return this.featuredContentTabHeaderName;case h.i.SECTIONS:return this.sectionsTabHeaderName;case h.i.ANALYTICS:return this.analyticsTabHeaderName;default:return""}}saveChanges(){return O(this,void 0,void 0,(function*(){try{for(const t of this.tabRefKeys){const e=this.$refs[t];if(!1===(null==e?void 0:e.fieldsAreValid)){const e=this.tabName(t),i=this.$t("Invalid fields found. Please correct {tabName} tab before saving.",{tabName:e});return void this.$pushSnackbar(i,p.SnackbarMessageTypes.failure,p.SnackbarIcons.ALERT)}}this.openSaveStatusModal();const t=this.buildPendingCatalog();if(yield this.$api.updateCollection(this.catalogId,t),this.catalog.isPrivate!==this.workingCatalog.isPrivate&&this.workingCatalog.sections.length>0){const t=this.buildSectionsWithUpdatedPrivacy();yield this.$api.bulkUpdateCollections(t)}this.catalog=s.cloneDeep(this.workingCatalog),d.l("editCatalog",["saveChanges","success"]),this.statusModal.loadPercent=100,this.statusModal.successMessage=this.$t("Your catalog was successfully updated! It may take a few minutes for the changes to show up everywhere."),this.statusModal.currentState=p.StatusModalState.Success,this.statusModal.acceptCallback=null}catch(t){d.l("editCatalog",["saveChanges","failure"]),this.statusModal.failureMessage=this.$t("Something went wrong while saving changes to your catalog. Please try again."),this.statusModal.failureTitle=this.$t("Something went wrong"),this.statusModal.currentState=p.StatusModalState.Failure}}))}buildPendingCatalog(){const t={translations:{master:{}}};return t.title=this.workingCatalog.title,t.description=this.workingCatalog.description,t.externalUrl=this.workingCatalog.externalUrl,t.isPrivate=this.workingCatalog.isPrivate,t.attributes=this.workingCatalog.attributes,t.translations.master=this.buildPendingCustomStrings(),t}buildPendingCustomStrings(){var t,e,i,s;const a={},n=this.workingCatalog.getFeaturedContentByIndex(1);null!=n&&(a[r.b.TITLE_1]=null!==(t=n.title)&&void 0!==t?t:"",a[r.b.TEXT_1]=null!==(e=n.description)&&void 0!==e?e:"");const o=this.workingCatalog.getFeaturedContentByIndex(2);return null!=o&&(a[r.b.TITLE_2]=null!==(i=o.title)&&void 0!==i?i:"",a[r.b.TEXT_2]=null!==(s=o.description)&&void 0!==s?s:""),a}buildSectionsWithUpdatedPrivacy(){const t=[];for(const e of this.workingCatalog.sections)t.push({id:e.id,isPrivate:this.workingCatalog.isPrivate});return t}blur(){this.title||(this.title=this.catalog.title)}confirmNavigateBack(){this.confirmNavigation(this.goBackToCatalogList)}goBackToCatalogList(){const t={nav:h.p.CATALOGS};this.$router.push({query:t})}openSaveStatusModal(){let t={currentState:p.StatusModalState.LoadingIndeterminate,loadDetTitle:this.$t("Saving"),loadDetMessage:this.$t("Saving your changes."),animationIn:C.a.SlideInUp};null!=this.statusModal?(this.statusModal.resetModal(t),this.statusModal.openModal()):(this.statusModal=new b.a({store:this.$store,propsData:t}),this.statusModal.mountOnPage())}confirmViewCatalog(){this.confirmNavigation(this.viewCatalog)}viewCatalog(){let t=m.g(this.catalog.id,m.L(this.catalog.title));m.J(t)}get onAnalyticsTab(){return this.$route.query.tab==h.i.ANALYTICS}confirmNavigation(t){if(!1===this.isEdited)return void t();const e=this.$t("Any changes you've made won't be saved. Are you sure?"),i=this.$t("Discard Changes"),s=v.a.Alert;this.confirmAction("",e,i,s,!0,t)}};E([Object(n.d)()],I.prototype,"dataOwner",void 0),I=E([Object(n.a)({components:{AutoSizingInput:g.a,ItemAnalyticsChart:f.a,Tabs:y.a,UcmBreadcrumb:w.a,UcmEditCatalogFeaturedContent:_.a,UcmEditCatalogGeneral:T.a,UcmEditCatalogSections:S.a},data:()=>({UcmEditCatalogTabs:h.i})})],I),e.a=I}).call(this,i(31))},912:function(t,e,i){"use strict";(function(t){var s=i(50),a=i(6),n=i.n(a),o=i(674),r=i(918),l=i(75),c=i(24),d=i(2),u=i(71),h=i(54),p=i(48),m=i(3),g=i(9),v=i(793),f=i(779),C=i(896),b=i(867),y=i(882),w=i(920),_=i(935),T=i(921),S=i(945),E=function(t,e,i,s){var a,n=arguments.length,o=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,s);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(o=(n<3?a(o):n>3?a(e,i,o):a(e,i))||o);return n>3&&o&&Object.defineProperty(e,i,o),o},O=function(t,e,i,s){return new(i||(i=Promise))((function(a,n){function o(t){try{l(s.next(t))}catch(t){n(t)}}function r(t){try{l(s.throw(t))}catch(t){n(t)}}function l(t){var e;t.done?a(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,r)}l((s=s.apply(t,e||[])).next())}))};let I=class UcmEditCollection extends n.a{constructor(){super(...arguments),this.name="ucm-edit-collection",this.pageType=p.p.EDITCOLLECTION,this.pageSize=this.pageSizeInitial,this.pageSizeSelected=this.pageSize.toString(),this.pageSizeFields=[{value:m.PAGE_SIZES.SMALL.toString(),label:m.PAGE_SIZES.SMALL.toString()},{value:m.PAGE_SIZES.MEDIUM.toString(),label:m.PAGE_SIZES.MEDIUM.toString()},{value:m.PAGE_SIZES.LARGE.toString(),label:m.PAGE_SIZES.LARGE.toString()}],this.collection=null,this.collectionId="",this.isMounted=!1,this.isFolder=!1,this.isSavable=!1,this.isEdited=!1,this.title_="",this.titleMaxLength=m.Constants.ITEM_TITLE_MAX_LENGTH}get disabledTabs(){let t=[];!1===this.isFolder&&(t=t.concat([p.j.FOLDERS]));const e=this.$store.getters.permissions;return this.$inOrgContext&&!1===Object(h.i)(e,h.b.UCM_ANALYTICS)&&(t=t.concat([p.j.ANALYTICS])),t}open(){}beforeDestroy(){this.$eventBus.$off(m.Events.PAGE_SIZE_CHANGED,this.onPageSizeChanged),this.close()}mounted(){return O(this,void 0,void 0,(function*(){this.collectionId=this.$route.query.itemId,yield this.fetchCollection(),this.$watch("$route",(function(){this.setupPageState()})),this.$eventBus.$on(m.Events.PAGE_SIZE_CHANGED,this.onPageSizeChanged),this.isMounted=!0}))}tabChanged(e){t(window).scrollTop()}onPageSizeChanged(t){this.pageSize=parseInt(t)}getGeneralTab(){const t=this.$refs[p.j.GENERAL];return null!=t?t:null}close(){var t,e,i,s;null===(t=this.getGeneralTab())||void 0===t||t.close(),null===(e=this.$refs[p.j.MODELS])||void 0===e||e.close(),null===(i=this.$refs[p.j.COLLECTIONS])||void 0===i||i.close(),this.isFolder&&(null===(s=this.$refs[p.j.FOLDERS])||void 0===s||s.close()),null!=this.confirmModal&&(this.confirmModal.$destroy(),this.confirmModal=null)}get onAnalyticsTab(){return this.$route.query.tab==p.j.ANALYTICS}get navigateBackLabel(){return this.isFolder?this.$t("Folders"):this.$t("Collections")}get viewItemLabel(){return this.isFolder?this.$t("View Folder"):this.$t("View Collection")}get convertLabel(){return this.isFolder?this.$t("Convert to Public Collection"):this.$t("Convert to Private Folder")}checkIsSavable(){const t=this.getGeneralTab(),e=this.isTitleValid,i=this.title.trim(),s=this.collection&&i!==this.collection.title.trim();(null==t?void 0:t.isEdited)?this.isSavable=(null==t?void 0:t.isSavable)&&(!s||e):this.isSavable=s&&e}checkIsEdited(){if(!this.collection)return this.isEdited=!1,void(this.isSavable=!1);const t=this.title.trim(),e=this.getGeneralTab();this.isEdited=(null==e?void 0:e.isEdited)||t!==this.collection.title.trim(),this.checkIsSavable()}get title(){return m.removeProhibitedCharacters(this.title_)}set title(t){this.title_=m.removeProhibitedCharacters(t),this.checkIsEdited()}get isTitleValid(){const t=this.title.trim().length;return t>0&&t<=this.titleMaxLength}setupPageState(){return O(this,void 0,void 0,(function*(){const t=this.$route.query.itemId;t&&this.collectionId!==t&&(this.collectionId=t,yield this.fetchCollection())}))}fetchCollection(){return O(this,void 0,void 0,(function*(){try{let t=yield this.$api.getCollection(this.collectionId,{recordEvent:!1});this.collection=new l.a(t),this.title=this.collection.title,this.isFolder=this.collection.isPrivate}catch(t){this.$pushSnackbar(d.c.DATA_LOAD_ERROR,m.SnackbarMessageTypes.failure,m.SnackbarIcons.ALERT)}}))}blur(){this.title||(this.title=this.collection.title)}confirmNavigateBack(){this.confirmNavigation(this.goBackToCollectionList)}goBackToCollectionList(){const t={nav:this.isFolder?p.p.FOLDERS:p.p.COLLECTIONS};this.$router.push({query:t})}convert(){return O(this,void 0,void 0,(function*(){let t=!0,e=this.convertLabel,i=this.isFolder?this.$t("You are about to make this folder public. Other users will be able to view the public content in the folder."):this.$t("You are about to make this collection private. Other users will not be able to view the collection."),s=this.$t("Convert"),a=f.a.Alert,n=()=>{this.updateCollectionPrivacy(!this.isFolder)};if(!this.dataOwner.isVerified&&this.isFolder){const o=1e3;try{this.$eventBus.$emit(p.m.UPDATING_PAGE,!0);const r={recordEvent:!1,contentType:"3dw",count:o};let l=yield this.$api.fetchCollectionChildren(this.collection.id,"children",r);if(l.total&&l.endRow&&l.total>l.endRow){const t=(l.total-l.endRow)/o+1;for(let e=0;e<t;e++){r.offset=(e+1)*o;const t=yield this.$api.fetchCollectionChildren(this.collection.id,"children",r);l.entries=l.entries.concat(t.entries)}}for(let o of l.entries)if(o.creator&&o.creator.isVerified){t=!1,e=this.$t("Folder Contains Verified Content"),i=this.$t("Folders that contain verified content can not be converted to public collections."),s=this.$t("Done"),a=f.a.Alert,n=()=>{};break}this.$eventBus.$emit(p.m.UPDATING_PAGE,!1)}catch(t){return this.$eventBus.$emit(p.m.UPDATING_PAGE,!1),void this.$pushSnackbar(d.c.FAILED_TO_EDIT_COLLECTION,m.SnackbarMessageTypes.failure,m.SnackbarIcons.ALERT)}}this.confirmAction(e,i,s,a,t,n)}))}confirmAction(t,e,i,s,a,n){this.confirmModal?(this.confirmModal.title=t,this.confirmModal.message=e,this.confirmModal.confirmButtonText=i,this.confirmModal.acceptCallback=n,this.confirmModal.cancelCallback=null,this.confirmModal.icon=s,this.confirmModal.cancelButton=a,this.confirmModal.openModal()):(this.confirmModal=new f.b({store:this.$store,propsData:{title:t,message:e,confirmButtonText:i,cancelButton:a,acceptCallback:n,cancelCallback:null,icon:s}}),this.confirmModal.mountOnPage())}updateCollectionPrivacy(t){return O(this,void 0,void 0,(function*(){this.$eventBus.$emit(p.m.UPDATING_PAGE,!0);const e={isPrivate:t},i={recordEvent:!1,showAttributes:!0,showBinaryMetadata:!0,showHidden:!0};try{yield this.$api.updateCollection(this.collection.id,e);const s=yield this.$api.getCollection(this.collection.id,i),a=c.a.create(s);this.collection=a,this.isFolder=t;let n=m.SnackbarIcons.COLLECTION,o=this.$t("Successfully converted to a collection."),r=!0;this.isFolder&&(n=m.SnackbarIcons.FOLDER,o=this.$t("Successfully converted to a folder."),r=!1),this.$eventBus.$emit(p.m.FOLDERS_UPDATED,r,this.collection),this.$eventBus.$emit(p.m.COLLECTIONS_UPDATED,!r,this.collection);const l={nav:this.isFolder?p.p.EDITFOLDER:p.p.EDITCOLLECTION,itemId:this.collection.id};this.$router.push({query:l}),this.$pushSnackbar(o,m.SnackbarMessageTypes.success,n)}catch(t){this.$pushSnackbar(d.c.FAILED_TO_EDIT_COLLECTION,m.SnackbarMessageTypes.failure,m.SnackbarIcons.ALERT)}this.$eventBus.$emit(p.m.UPDATING_PAGE,!1)}))}saveCollection(){return O(this,void 0,void 0,(function*(){const t=this.$refs[p.j.GENERAL];this.$eventBus.$emit(p.m.UPDATING_PAGE,!0);let e={categories:{domain:{dataType:"string",value:t.domainLocal},subdomain:{dataType:"string",value:t.subdomainLocal}}};const i={title:this.title,description:t.description,tags:u.a(t.description),externalUrl:t.externalUrl,attributes:e};t.catalogMixin.isHomeCatalogChanged&&(i.isCatalog=t.catalogMixin.isCatalogHome);try{yield this.$api.updateCollection(this.collection.id,i),yield t.catalogMixin.saveCatalogChanges(),Object(s.merge)(this.collection,i),Object(s.merge)(this.collection.attributes,e),t.domainInitial=t.domainLocal,t.subdomainInitial=t.subdomainLocal,t.checkIsChanged(),this.checkIsEdited(),this.$eventBus.$emit(p.m.EDITED_ITEM,{original:this.collection,edited:i});let a=this.isFolder?d.c.SUCCESS_TO_SAVE_FOLDER:d.c.SUCCESS_TO_SAVE_COLLECTION;this.$pushSnackbar(a,m.SnackbarMessageTypes.success,m.SnackbarIcons.COLLECTION)}catch(t){let e=this.isFolder?d.c.FAILED_TO_EDIT_FOLDER:d.c.FAILED_TO_EDIT_COLLECTION;this.$pushSnackbar(e,m.SnackbarMessageTypes.failure,m.SnackbarIcons.ALERT)}this.$eventBus.$emit(p.m.UPDATING_PAGE,!1)}))}confirmViewCollection(){this.confirmNavigation(this.viewCollection)}viewCollection(){let t=g.k(this.collection.id,g.L(this.collection.title));g.J(t)}confirmNavigation(t){if(!this.isSavable)return void t();const e=this.$t("Any changes you've made won't be saved. Are you sure?"),i=this.$t("Discard Changes"),s=f.a.Alert;this.confirmAction("",e,i,s,!0,t)}get showContentMigratedNewsItem(){return null!=this.$user&&Object(p.v)(this.collection,this.$user.id,this.$isAdmin)}};E([Object(o.d)()],I.prototype,"dataOwner",void 0),E([Object(o.d)({default:m.PAGE_SIZES.LARGE})],I.prototype,"pageSizeInitial",void 0),I=E([Object(o.a)({components:{AutoSizingInput:v.a,CollectionContentMigrationNewsItem:r.a,ConfirmationModal:f.b,ItemAnalyticsChart:C.a,Tabs:b.a,UcmBreadcrumb:y.a,UcmContentCollections:w.a,UcmContentFolders:_.a,UcmContentModels:T.a,UcmEditCollectionGeneral:S.a},data:()=>({UcmEditCollectionTabs:p.j})})],I),e.a=I}).call(this,i(31))},913:function(t,e,i){"use strict";(function(t){var s=i(50),a=i(0),n=i(899),o=i(6),r=i.n(o),l=i(674),c=i(8),d=i(153),u=i(762),h=(i(931),i(149)),p=i(151),m=i(152),g=i(103),v=i(54),f=i(48),C=i(3),b=i(761),y=i(794),w=i(896),_=i(726),T=i(741),S=i(867),E=i(949),O=i(950),I=i(944),A=i(951),D=i(881),M=function(t,e,i,s){var a,n=arguments.length,o=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,s);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(o=(n<3?a(o):n>3?a(e,i,o):a(e,i))||o);return n>3&&o&&Object.defineProperty(e,i,o),o},k=function(t,e,i,s){return new(i||(i=Promise))((function(a,n){function o(t){try{l(s.next(t))}catch(t){n(t)}}function r(t){try{l(s.throw(t))}catch(t){n(t)}}function l(t){var e;t.done?a(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,r)}l((s=s.apply(t,e||[])).next())}))};let L=class EditModel extends r.a{constructor(){super(...arguments),this.name="edit-model",this.isEdited=!1,this.editsValid=!1,this.isMounted=!1,this.enableSaving=!1,this.attributesDisabled=!1,this.isProduct=!1,this.tabValid=!0,this.allTabs=[f.k.GENERAL,f.k.ANALYTICS,f.k.ATTRIBUTES,f.k.CLASSIFICATIONS,f.k.LINKS],this.thumbnailUrl_="",this.sourceBinaryModifyDate="",this.webpThumbnailUrl="",this.missingCustomImageBinary=!1,this.skpFileUpdated=!1,this.newBinaryName=null,this.newFile=null,this.emscriptenSkpFile=null,this.sourceBinary=null,this.pollingTime=0}get onAnalyticsTab(){return this.$route.query.tab==f.k.ANALYTICS}created(){this.entity&&(this.attributesDisabled=!!c.a.getAttributeValue(this.entity.attributes,"metadata","attributesDisabled"),this.isProduct=!!c.a.getAttributeValue(this.entity.attributes,"3dw","isProduct"),this.setupHeaderData())}mounted(){this.$eventBus.$on(f.m.ENABLE_SAVING,this.onEnableSavingChanged),this.$eventBus.$on(f.m.TOGGLE_DISABLE_ATTRIBUTES,this.onToggleDisableAttributes),this.isMounted=!0}beforeDestroy(){clearInterval(this.poll),this.$eventBus.$off(f.m.ENABLE_SAVING,this.onEnableSavingChanged),this.$eventBus.$off(f.m.TOGGLE_DISABLE_ATTRIBUTES,this.onToggleDisableAttributes),this.close()}get showAttributes(){return this.allowProductAttributes&&!this.attributesDisabled}get disabledTabs(){let t=[];!1!==this.isProduct&&!1!==this.showAttributes||(t=t.concat([f.k.ATTRIBUTES,f.k.CLASSIFICATIONS,f.k.LINKS]));const e=this.$store.getters.permissions;return this.$inOrgContext&&!1===Object(v.i)(e,v.b.UCM_ANALYTICS)&&(t=t.concat([f.k.ANALYTICS])),t}get tabRefKeys(){return this.allTabs.filter((t=>!this.disabledTabs.includes(t)))}open(){const t=this.$refs[f.k.ANALYTICS];null!=t&&t.reset()}close(){const t=this.$refs[f.k.GENERAL];null!=t&&t.close(),this.destroyUploadModal(),null!=this.statusModal&&(this.statusModal.$destroy(),this.statusModal=null)}destroyUploadModal(){null!=this.uploadModal&&(this.uploadModal.$destroy(),this.uploadModal=null)}openSaveStatusModal(){let t={currentState:C.StatusModalState.LoadingIndeterminate,loadDetTitle:this.$t("Saving"),loadDetMessage:this.$t("Saving your changes."),animationIn:_.a.SlideInUp};this.statusModal?(this.statusModal.resetModal(t),this.statusModal.openModal()):(this.statusModal=new T.a({store:this.$store,propsData:t}),this.statusModal.mountOnPage())}setupHeaderData(){this.sourceBinary=p.f(this.entity,this.$isServer),this.sourceBinaryModifyDate=g.b(this.sourceBinary.modifyTime),this.loadSkpIntPromise=b.a(this.$isServer),this.$on(C.Events.UPLOAD_FILES_CHANGED,this.uploadFilesChanged),this.entity.isRendering&&this.pollRerenderJob(),this.thumbnailUrl=this.entity.thumbnailUrl,this.webpThumbnailUrl=this.entity.webpThumbnailUrl,this.missingCustomImageBinary=this.entity.missingCustomImageBinary}get fileUploadSettings(){return{allowMultipleFiles:!1,maxFileSize:1024*m.e(this.$context.isVerified,this.$store.getters.entitlements),fileTitle:this.originalFileName,fileDetails:this.binaryDetails,fileHandler:this.fileHandler,supportedFileTypes:["skp"]}}get filename(){return null!=this.newFile?this.newFile.name:this.originalFileName}get originalFileName(){return this.sourceBinary&&this.sourceBinary.originalFileName?this.sourceBinary.originalFileName:this.$t("Unable to determine the original file name.")}get thumbnailUrl(){return this.thumbnailUrl_}set thumbnailUrl(t){this.thumbnailUrl_=t}uploadFilesChanged(){if(!this.uploading){if(this.newBinaryName=this.fileUpload.fileToUploadBinaryName,this.newFile=this.fileUpload.fileToUpload,!this.newFile||!this.newBinaryName)return this.newFile=null,void(this.newBinaryName=null);this.tabValid&&(this.enableSaving=!0),this.thumbnailUrl=this.emscriptenSkpFile.thumbnailUrl,this.skpFileUpdated=!0}}pollRerenderJob(){this.poll=setInterval((()=>{this.checkEntity()}),C.Constants.POLLING_TIME)}get binaryDetails(){if(this.sourceBinary&&this.sourceBinary.modifyTime){let t=this.sourceBinaryModifyDate;return this.$t("Uploaded {date}",{date:t})}return this.$t("Details unavailable.")}fileHandler(t){return this.loadSkpIntPromise.then((()=>(this.emscriptenSkpFile&&(this.emscriptenSkpFile.cleanUp(),this.emscriptenSkpFile=null),this.emscriptenSkpFile=new u.a(t),this.emscriptenSkpFile.init().then((()=>{})))))}checkEntity(){return k(this,void 0,void 0,(function*(){this.pollingTime+=C.Constants.POLLING_TIME,(!this.entity.isRendering||this.pollingTime>=C.Constants.POLLING_LIMIT)&&clearInterval(this.poll);try{let t=yield this.$api.getEntity(this.entity.id,{recordEvent:!1}),e=new d.c(t);!1===e.isRendering&&(Object(s.merge)(this.entity,e),this.thumbnailUrl=e.thumbnailUrl)}catch(t){}}))}get fileUpload(){return this.$refs.fileUpload}get allowProductAttributes(){return this.$isAdmin||this.$inOrgContext}tabChanged(e){if(t(window).scrollTop(),null!==this.newFile)this.enableSaving=!0;else{let t=!1;for(const e of this.tabRefKeys){const i=this.$refs[e];if(null!=i&&(null==i?void 0:i.isEdited)&&(null==i?void 0:i.fieldsAreValid)){t=!0;break}}const i=this.$refs[e];e===f.k.ANALYTICS&&t?this.enableSaving=!0:e!==f.k.ANALYTICS&&i.isEdited&&!1===i.fieldsAreValid?this.enableSaving=!1:this.enableSaving=t}}getDataToSave(){let t={};for(const e of this.tabRefKeys){const i=this.$refs[e];if(i.isEdited&&void 0!==i.getDataToSave){const e=Object.assign({},i.getDataToSave());let a={};e.attributes&&(a=Object(s.merge)(t.attributes,e.attributes)),delete e.attributes,t=Object.assign(Object.assign({},t),e),Object.keys(a).length>0&&(t.attributes=a)}}return t}processSaveChangesCallbacks(){for(const t of this.tabRefKeys){const e=this.$refs[t];e.isEdited&&void 0!==e.processSaveChangesCallback&&e.processSaveChangesCallback()}}saveChanges(){let t=!1;for(const e of this.tabRefKeys){const i=this.$refs[e];if(i.isEdited&&void 0!==i.fieldsAreValid&&!1===i.fieldsAreValid){return void(this.$refs.tabs.displayedTab=e)}t=t||i.isEdited}let e=[];if(null!==this.newFile){const t=p.j(this.newFile,this.newBinaryName,this.entity,"editModel",this.$store);e.push(t)}if(t){const t=this.getDataToSave(),i=this.$api.updateEntity(this.entity.id,t);e.push(i)}this.enableSaving=!1,this.openSaveStatusModal(),Promise.all(e).then((()=>{h.l("editModel",["saveChanges","success"]),this.statusModal.loadPercent=100,this.statusModal.successMessage=this.$t("Your model was successfully updated! It may take a few minutes for the changes to show up everywhere."),this.statusModal.currentState=C.StatusModalState.Success,this.statusModal.acceptCallback=null,this.processSaveChangesCallbacks(),this.pollForNewFileRerender()}),(()=>{h.l("editModel",["saveChanges","failure"]),this.statusModal.failureMessage=this.$t("Something went wrong while saving changes to your model. Please try again."),this.statusModal.failureTitle=this.$t("Something went wrong"),this.statusModal.currentState=C.StatusModalState.Failure}))}pollForNewFileRerender(){null!==this.newFile&&(this.newFile=null,this.entity.isRendering=!0,this.pollRerenderJob())}changeThumbnail(){this.destroyUploadModal(),this.uploadModal=new D.a({store:this.$store,propsData:{entity:this.entity,allowModelSelection:!1,binaryName:a.BinaryType.Featured_Thumbnail_Custom,imageSizeKb:128,width:910,height:512,useDefault:!0,acceptCallback:t=>{this.thumbnailUrl=t,this.missingCustomImageBinary=!1,this.uploadModal.dismiss(),this.$eventBus.$emit(f.m.UPDATING_PAGE,!1)},selectCallback:()=>{this.$eventBus.$emit(f.m.UPDATING_PAGE,!0)},errorCallback:()=>{this.$eventBus.$emit(f.m.UPDATING_PAGE,!1)}}}),this.uploadModal.mountOnPage()}onEnableSavingChanged(t){this.enableSaving=t}onToggleDisableAttributes(t){this.attributesDisabled=t}attributeTabsToggleCallback(t,e){this.isProduct=t,this.attributesDisabled=e}cancel(){this.$emit("view")}};M([Object(l.d)()],L.prototype,"entity",void 0),M([Object(l.d)()],L.prototype,"dataOwner",void 0),M([Object(l.d)()],L.prototype,"uploading",void 0),L=M([Object(l.a)({components:{FileUpload:y.a,ItemAnalyticsChart:w.a,Tabs:S.a,IconEditDefault:n.a,UcmEditModelAttributes:E.a,UcmEditModelClassifications:O.a,UcmEditModelGeneral:I.a,UcmEditModelLinks:A.a},data:()=>({UcmEditModelsTabs:f.k})})],L),e.a=L}).call(this,i(31))},915:function(t,e,i){"use strict";var s=i(6),a=i.n(s),n=i(12),o=i(836),r=i(0),l=i(153),c=i(155);class Contributor_Contributor{constructor(t,e){this.avatarUrl="",this.models_=[],this.isExpanded=!1,this.id=this.creatorId=t.creatorId,this.creatorName=t.creatorDisplayName,this.userPageUrl=t.creatorPageUrl,this.add(t),this.getUser(e)}get models(){return this.isExpanded?this.models_:this.models_.slice(0,2)}get modelCount(){return this.models_.length}add(t){this.models_.push(t)}sort(){this.models_.sort(((t,e)=>t.title.localeCompare(e.title)))}getUser(t){t.fetchUserById(this.creatorId,{recordEvent:!1}).then((t=>{const e=new c.a(t);this.avatarUrl=e.avatarUrl}))}}var d=i(752);class ComponentsDataBrowser_ComponentsDataBrowser extends d.b{constructor(t){super(t),this.selfContributor=null,this.isLoaded=!1}open(t=0){return 0===this.items.length&&null==this.selfContributor?this.loadMore(t):Promise.resolve(this.items)}loadMore(t=0){if(this.isLoaded||!this.isValidLoadRequest())return Promise.resolve(this.items);this.isLoading=!0;const e=this.source.subComponents,i={fq:"id=="+e.join(",id=="),sortBy:this.sortBy,count:e.length,showBinaryMetadata:!0,contentType:r.ContentType.Warehouse3D,recordEvent:!1};return this.handler.getEntities(i).then((t=>(this.items=this.buildContributors(t),this.total=t.total,this.isScrolledToEnd=!0,this.isLoading=!1,this.isLoaded=!0,Promise.resolve(this.items))),(t=>(this.isLoading=!1,Promise.reject(t))))}buildContributors(t){this.selfContributor=null;const e=[];return t.entries.forEach((t=>{const i=new l.c(t);let s=this.getContributor(t.creator.id,e);null==s?(s=new Contributor_Contributor(i,this.handler),this.source.creatorId===s.creatorId?this.selfContributor=s:e.push(s)):s.add(i),e.sort(((t,e)=>t.creatorName.localeCompare(e.creatorName))),this.selfContributor&&this.selfContributor.sort(),e.forEach((t=>t.sort()))})),e}getContributor(t,e){if(this.selfContributor&&this.selfContributor.creatorId===t)return this.selfContributor;for(let i of e)if(i.creatorId===t)return i;return null}}class MaterialsDataBrowser_MaterialsDataBrowser extends d.b{constructor(t,e=null){super(t,e),this.implementsDelete=!0}open(t=d.a.CONTENT_SCROLL_INCREMENT){return this.useStore?this.openFromStore():0===this.items.length?this.loadMore(t):Promise.resolve(this.items)}loadMore(t=d.a.CONTENT_SCROLL_INCREMENT){if(!this.isValidLoadRequest())return Promise.resolve(this.items);if(this.isLoading=!0,this.useStore)return this.loadFromStore(t);const e={fq:"emEntities=="+this.source.id,showBinaryMetadata:!0,sortBy:this.sortBy,offset:this.offset,count:t+this.deletions.length,contentType:r.ContentType.Warehouse3D,recordEvent:!1};return this.handler.getMaterials(e).then((e=>this.processResponse(e,t)),(t=>(this.isLoading=!1,Promise.reject(t))))}}var u=i(837),h=i(1),p=i.n(h),m=i(16),g=i(7);class Reviewer_Reviewer{constructor(t){let e,i;switch(this.userId=t.userId,this.displayName=t.displayName,this.picture=t.picture,this.rating=null==t.rating?0:parseInt(t.rating.overall),this.createTime=p.a.utc(t.createTime,g.Constants.RESPONSE_TIME_FORMAT,!0),this.modifyTime=p.a.utc(t.modifyTime,g.Constants.RESPONSE_TIME_FORMAT,!0),this.reviewType=t.type,this.ownedTypeCount=0,this.reviewedTypeCount=0,t.type){case"collection":e=t.collectionCount,i=m.f.Collection,this.reviewedTypeCount=t.reviewedCollectionCount;break;case"entity":e=t.entityCount,i=m.f.Model,this.reviewedTypeCount=t.reviewedEntityCount;break;case"material":e=t.materialCount,this.reviewedTypeCount=t.reviewedMaterialCount;break;default:return}if(e&&i&&e[i]){let t=parseInt(e[i]);isNaN(t)||(this.ownedTypeCount+=t)}}}var v=i(9);class ReviewsDataBrowser_ReviewsDataBrowser extends d.b{constructor(t){super(t),this.user=t.getters.currentUser}open(t=d.a.CONTENT_SCROLL_INCREMENT){return 0===this.items.length?this.loadFirst(t):Promise.resolve(this.items)}loadFirst(t){if(""===this.currentUserId)return this.loadMore(t);const e=r.HttpMethod.Get;let i=v.x(this.source);return i+=`?fq=creatorId==${this.user.id}&count=1`,this.handler.performApiRequest(i,null,{method:e}).then((e=>{if(e.data.entries.length>0){let t=new Reviewer_Reviewer(e.data.entries[0]);this.items.push(t)}return this.loadMore(t)}),(t=>Promise.reject(t)))}loadMore(t=d.a.CONTENT_SCROLL_INCREMENT){if(!this.isValidLoadRequest())return Promise.resolve(this.items);this.isLoading=!0;const e=r.HttpMethod.Get;let i=v.x(this.source);return i+=`?offset=${this.offset}&count=${t}`,this.handler.performApiRequest(i,null,{method:e}).then((t=>(this.total=t.total,this.isScrolledToEnd=t.endRow>=t.total,t.data.entries.forEach((t=>{if(t.userId!==this.currentUserId){let e=new Reviewer_Reviewer(t);this.items.push(e)}})),this.offset+=d.a.CONTENT_SCROLL_INCREMENT,this.isLoading=!1,Promise.resolve(this.items))),(t=>(this.isLoading=!1,Promise.reject(t))))}get currentUserId(){return this.user&&this.user.id?this.user.id:""}}var f=i(2),C=(i(880),i(13)),b=i(770),y=i(3),w=i(777),_=i(818),T=function(t,e,i,s){var a,n=arguments.length,o=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,s);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(o=(n<3?a(o):n>3?a(e,i,o):a(e,i))||o);return n>3&&o&&Object.defineProperty(e,i,o),o};let S=class ContributorCard extends a.a{constructor(){super(...arguments),this.expanded=!1,this.avatarUrl=""}created(){this.avatarUrl=this.getAvatarUrl()}mounted(){this.expanded=this.contributor.isExpanded}expandToggle(){this.contributor.isExpanded=!this.contributor.isExpanded,this.expanded=this.contributor.isExpanded}get expandText(){const t=(this.contributor.modelCount-2).toString();return this.$t("{componentCount} More Components",{componentCount:t})}getAvatarUrl(){return this.contributor.avatarUrl||"/static/images/icon-profile.svg"}setGenericAvatarUrl(){this.avatarUrl="/static/images/icon-profile.svg"}};S=T([Object(n.b)({props:{contributor:Object},components:{chevron:w.a,SearchResultCard:_.a}})],S);var E=S,O=i(28),I=Object(O.a)(E,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"contributor-card"},[i("div",{staticClass:"creator-container"},[i("a",{attrs:{href:t.contributor.userPageUrl}},[i("div",{staticClass:"creator-image"},[i("img",{attrs:{src:t.avatarUrl},on:{error:t.setGenericAvatarUrl}})])]),t._v(" "),i("div",{staticClass:"creator-name"},[i("a",{attrs:{href:t.contributor.userPageUrl}},[t._v("\n        "+t._s(t.contributor.creatorName)+"\n      ")])])]),t._v(" "),i("div",{staticClass:"contributor-models"},t._l(t.contributor.models,(function(t){return i("search-result-card",{key:t.id,attrs:{collectionElement:t}})})),1),t._v(" "),t.contributor.modelCount>2?i("div",{staticClass:"expand-panel",on:{click:t.expandToggle}},[t.expanded?t._e():i("div",{staticClass:"expand-title"},[t._v(t._s(t.expandText))]),t._v(" "),i("chevron",{staticClass:"expand-chevron",attrs:{expanded:!0,speed:0,direction:t.expanded?"up":"down"}})],1):t._e()])}),[],!1,null,null,null).exports,A=function(t,e,i,s){var a,n=arguments.length,o=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,s);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(o=(n<3?a(o):n>3?a(e,i,o):a(e,i))||o);return n>3&&o&&Object.defineProperty(e,i,o),o};let D=class ContributorCount extends a.a{};D=A([Object(n.b)({props:{count:Number}})],D);var M=D,k=Object(O.a)(M,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"contributor-count"},[i("span",{staticClass:"title"},[t._v(t._s(t.$t("Contributors")))]),t._v(" "),i("span",{staticClass:"number"},[t._v(t._s(t.count))])])}),[],!1,null,null,null).exports,L=i(769),$=i(103),x=function(t,e,i,s){var a,n=arguments.length,o=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,s);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(o=(n<3?a(o):n>3?a(e,i,o):a(e,i))||o);return n>3&&o&&Object.defineProperty(e,i,o),o};let P=class MaterialCard extends a.a{get materialUrl(){return this.material?this.material.thumbnailUrl:"/static/images/blank-thumbnail.svg"}get pageUrl(){return null==this.material?"#":v.u(this.material.id)}get dimensions(){if(this.material.width&&this.material.height){const t=this.getPixelSize(this.material.width),e=this.getPixelSize(this.material.height);return this.$t("Dimensions: {width} x {height} pixels",{width:t,height:e})}return this.$t("Pixel dimensions unavailable")}get fileSize(){const t=this.material.fileSize;let e=$.a(t);return this.$tLabel(e).replace(" ","")}get materialsEnabled(){return!1}onDownloadMaterial(){if(null!=this.$user)this.downloadMaterial(this.material);else{const t={feature:"SignInToDownload",message:"Oops!  You need to be signed in to download."};this.$eventBus.$emit(y.Events.SIGN_IN_GUARD,t)}}getPixelSize(t){let e=$.c(t);return this.$tLabel(e).replace(" ","")}};P=x([Object(n.b)({props:{material:Object},mixins:[L.a]})],P);var R=P,N=Object(O.a)(R,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"content-card material"},[t.materialsEnabled?i("a",{attrs:{href:t.pageUrl}},[i("span",{staticClass:"content-image",style:{backgroundImage:"url("+t.materialUrl+")"}})]):i("span",{staticClass:"content-image material-image",style:{backgroundImage:"url("+t.materialUrl+")"}}),t._v(" "),i("div",{staticClass:"content-details"},[i("div",{staticClass:"content-info"},[i("div",{staticClass:"content-name"},[t.materialsEnabled?i("a",{attrs:{href:t.pageUrl}},[t._v("\n          "+t._s(t.material.title)+"\n        ")]):i("span",[t._v("\n          "+t._s(t.material.title)+"\n        ")])]),t._v(" "),i("div",{staticClass:"content-dimensions"},[t._v(t._s(t.dimensions))]),t._v(" "),i("div",{staticClass:"content-size"},[t._v("\n        "+t._s(t.$t("File Size: {fileSize}",{fileSize:t.fileSize}))+"\n      ")])]),t._v(" "),i("button",{staticClass:"button content-download",on:{click:function(e){return t.onDownloadMaterial()}}},[t._v("\n      "+t._s(t.$t("Download"))+"\n    ")])])])}),[],!1,null,null,null).exports,U=function(t,e,i,s){var a,n=arguments.length,o=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,s);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(o=(n<3?a(o):n>3?a(e,i,o):a(e,i))||o);return n>3&&o&&Object.defineProperty(e,i,o),o};let F=class ReviewerCard extends a.a{get pageUrl(){return null==this.reviewer?"#":v.C(this.reviewer.userId,r.ExternalResourceType.User)}};F=U([Object(n.b)({props:{reviewer:Object}})],F);var B=F,j=Object(O.a)(B,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"reviewer-card"},[i("a",{attrs:{href:t.pageUrl}},[i("span",{staticClass:"reviewer-image",style:{backgroundImage:"url("+t.reviewer.picture+")"}})]),t._v(" "),i("div",{staticClass:"reviewer-details"},[i("div",{staticClass:"reviewer-name"},[i("a",{attrs:{href:t.pageUrl}},[t._v("\n        "+t._s(t.reviewer.displayName)+"\n      ")])]),t._v(" "),i("div",{staticClass:"reviewer-models"},[t._v("\n      "+t._s(t.$t("{itemCount} items",{itemCount:t.reviewer.ownedTypeCount}))+"\n    ")]),t._v(" "),i("div",{staticClass:"reviewer-models"},[t._v("\n      "+t._s(t.$t("{likedCount} liked items",{likedCount:t.reviewer.reviewedTypeCount}))+"\n    ")])])])}),[],!1,null,null,null).exports,V=function(t,e,i,s){var a,n=arguments.length,o=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,s);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(o=(n<3?a(o):n>3?a(e,i,o):a(e,i))||o);return n>3&&o&&Object.defineProperty(e,i,o),o};let H=class ContentBrowser extends a.a{constructor(){super(...arguments),this.name="content-browser",this.isMounted=!1,this.contentTitle="Default Title",this.items=[],this.isOpen=!1,this.isLoading=!0,this.browseComponents=!1,this.browseMaterials=!1,this.browseUsers=!1,this.browseModels=!1,this.browseCollections=!1,this.selfContributor=null,this.scrolling=!1,this.scrollBufferMin=200}mounted(){this.isMounted=!0,this.reviewBrowser=new ReviewsDataBrowser_ReviewsDataBrowser(this.$store),this.materialBrowser=new MaterialsDataBrowser_MaterialsDataBrowser(this.$store),this.componentBrowser=new ComponentsDataBrowser_ComponentsDataBrowser(this.$store),this.modelsBrowser=new u.a(this.$store),this.collectionsBrowser=new o.a(this.$store),this.$eventBus.$on(y.Events.BROWSE_ITEMS_OPEN,this.open),this.$eventBus.$on(y.Events.PAGE_OVERLAY_CLICK,this.close);const t=this.$refs.scrollTarget;this.scrollTrigger=this.$refs.scrollTrigger,this.scrollHelper=new b.a(t,this.scrollBufferMin),this.scrollTrigger.addEventListener("scroll",this.checkScrollBuffer),this.scrollTrigger.addEventListener("resize",this.checkScrollBuffer)}beforeDestroy(){this.$eventBus.$off(y.Events.BROWSE_ITEMS_OPEN,this.open),this.$eventBus.$off(y.Events.PAGE_OVERLAY_CLICK,this.close),this.scrollTrigger.removeEventListener("scroll",this.checkScrollBuffer),this.scrollTrigger.removeEventListener("resize",this.checkScrollBuffer)}open(t,e){switch(this.isOpen=!0,this.isLoading=!0,this.$eventBus.$emit(y.Events.TOGGLE_MAIN_OVERLAY,{showOverlay:!0,coverHeader:!0}),this.contentTitle="Oops, something bad happened!",this.browseComponents=this.browseModels=this.browseMaterials=this.browseCollections=this.browseUsers=!1,t){case y.BrowseTypes.Components:this.browseComponents=!0,this.contentTitle=this.$t("Contributed components"),this.dataBrowser=this.componentBrowser;break;case y.BrowseTypes.Materials:this.browseMaterials=!0,this.contentTitle=this.$t("Materials in this model"),this.dataBrowser=this.materialBrowser;break;case y.BrowseTypes.Reviews:this.browseUsers=!0,this.contentTitle=this.$t("Reviewers of this model"),this.dataBrowser=this.reviewBrowser;break;case y.BrowseTypes.CreatorModels:case y.BrowseTypes.RelatedModels:this.browseModels=!0,this.contentTitle=t===y.BrowseTypes.CreatorModels?this.$tLabel({text:f.e.MODELS_BY_AUTHOR}):this.$tLabel({text:f.e.MODELS_RELATED}),this.dataBrowser=this.modelsBrowser;break;case y.BrowseTypes.CreatorCollections:case y.BrowseTypes.ContainingCollections:this.browseCollections=!0,this.contentTitle=t===y.BrowseTypes.CreatorCollections?this.$tLabel({text:f.e.COLLECTIONS_BY_AUTHOR}):this.$tLabel({text:f.e.COLLECTIONS_WITH_MODEL}),this.dataBrowser=this.collectionsBrowser;break;default:return}this.dataBrowser.browseType=t,null!=e&&(this.dataBrowser.clear(),this.dataBrowser.source=e),this.dataBrowser.open().then((t=>{this.items=t,this.isLoading=!1,this.browseComponents&&(this.selfContributor=this.dataBrowser.selfContributor),setTimeout((()=>{this.checkScrollBuffer()}),0)}),(t=>{this.sendDataLoadError()}))}close(){this.items=[],this.isOpen=!1,this.selfContributor=null,this.browseComponents=this.browseMaterials=this.browseUsers=!1,this.$eventBus.$emit(y.Events.TOGGLE_MAIN_OVERLAY,{showOverlay:!1})}loadMore(){this.dataBrowser.loadMore().then((t=>{this.items=t,this.scrolling=!1,setTimeout((()=>{this.checkScrollBuffer()}),0)}),(t=>{this.sendDataLoadError()}))}sendDataLoadError(){let t={text:f.c.DATA_LOAD_ERROR},e=new C.d(t,C.c.ERROR);this.$store.commit("ADD_STATUS_NOTIFICATION",e)}checkScrollBuffer(){if(!this.isOpen||this.scrolling||this.dataBrowser.isScrolledToEnd||this.$isServer)return;this.scrollHelper.getScrollRemainder()<this.scrollBufferMin&&(this.scrolling=!0,this.loadMore())}};H=V([Object(n.b)({components:{ContributorCard:I,ContributorCount:k,MaterialCard:N,ReviewerCard:j,SearchResultCard:_.a}})],H);var G=H,z=Object(O.a)(G,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"page-right-panel content-browser",class:{open:t.isOpen},attrs:{id:"content-browser"}},[i("div",{staticClass:"content-container"},[i("div",{staticClass:"content-title"},[t._v("\n      "+t._s(t.contentTitle)+"\n    ")]),t._v(" "),i("div",{staticClass:"modal-close-x",on:{click:function(e){return t.close()}}}),t._v(" "),i("div",{ref:"scrollTrigger",staticClass:"content-scroller"},[t.isLoading?i("div",{staticClass:"loading"}):t._e(),t._v(" "),i("div",{ref:"scrollTarget",staticClass:"content-cards"},[t.browseComponents?[null!=t.selfContributor?i("contributor-card",{attrs:{contributor:t.selfContributor}}):t._e(),t._v(" "),t.items.length>0?i("contributor-count",{attrs:{count:t.items.length}}):t._e(),t._v(" "),t._l(t.items,(function(t){return i("div",{key:t.id},[i("contributor-card",{attrs:{contributor:t}})],1)}))]:t.browseMaterials?t._l(t.items,(function(t){return i("material-card",{key:t.id,attrs:{material:t}})})):t.browseUsers?t._l(t.items,(function(t){return i("reviewer-card",{key:t.userId,attrs:{reviewer:t}})})):t.browseModels||t.browseCollections?t._l(t.items,(function(e){return i("search-result-card",{key:e.id,staticClass:"content-card",class:{model:t.browseModels,collection:t.browseCollections},attrs:{collectionElement:e}})})):t._e()],2)])])])}),[],!1,null,null,null);e.a=z.exports},918:function(t,e,i){"use strict";var s=i(0),a=i(12),n=i(674),o=(i(730),i(739)),r=function(t,e,i,s){var a,n=arguments.length,o=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,s);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(o=(n<3?a(o):n>3?a(e,i,o):a(e,i))||o);return n>3&&o&&Object.defineProperty(e,i,o),o},l=function(t,e,i,s){return new(i||(i=Promise))((function(a,n){function o(t){try{l(s.next(t))}catch(t){n(t)}}function r(t){try{l(s.throw(t))}catch(t){n(t)}}function l(t){var e;t.done?a(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,r)}l((s=s.apply(t,e||[])).next())}))};let c=class CollectionContentMigrationNewsItem extends o.a{constructor(){super(...arguments),this.privateFolderUrl="",this.show=!0}mounted(){this.getPrivateFolderUrl()}getPrivateFolderUrl(){return l(this,void 0,void 0,(function*(){const t={fq:`attribute:3dw:migratedFromCollectionId:string==${this.$props.collectionId}`,showHidden:!0,contentType:s.ContentType.Warehouse3D,recordEvent:!1};try{let e=yield this.$api.getCollections(t);e.entries.length>0&&e.entries.length<2?this.privateFolderUrl=`/manage/user?nav=editfolder&itemId=${e.entries[0].id}&tab=general`:this.privateFolderUrl="/manage/user?nav=folders&tab=general"}catch(t){this.privateFolderUrl="/manage/user?nav=folders&tab=general"}return Promise.resolve()}))}get message(){return this.$t("Hey! This collection included models uploaded by verified commercial content providers. In order to provide a better search experience for all users, we've moved these into a private folder.")}onContentMigrationNewsBarClose(){return l(this,void 0,void 0,(function*(){this.show=!1;let t={};t["3dw"]={verifiedContentMigratedMessageDismissed:{dataType:"boolean",value:!0}},yield this.$api.updateCollectionAttributes(this.$props.collectionId,t)}))}};r([Object(n.d)({default:null})],c.prototype,"collectionId",void 0),c=r([Object(a.b)({inheritAttrs:!1})],c);var d=c,u=i(28),h=Object(u.a)(d,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:{"collection-content-migration-news-bar-container":!0,"no-show":!t.show}},[i("div",{staticClass:"content-container"},[t._v("\n    "+t._s(t.message)+"\n    "),i("br"),t._v(" "),i("a",{attrs:{href:this.privateFolderUrl}},[t._v(" "+t._s(t.$t("Go to folder"))+" ")])]),t._v(" "),i("span",{staticClass:"news-item-close-button modal-close-x",on:{click:t.onContentMigrationNewsBarClose}})])}),[],!1,null,"1bea66d8",null);e.a=h.exports},919:function(t,e,i){"use strict";var s=i(11),a=i(886),n=i(687),o=i.n(n),r=i(17),l=i.n(r),c=i(12),d=i(674),u=i(152),h=i(3),p=i(9),m=i(760),g=i(840),v=i(865),f=function(t,e,i,s){var a,n=arguments.length,o=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,s);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(o=(n<3?a(o):n>3?a(e,i,o):a(e,i))||o);return n>3&&o&&Object.defineProperty(e,i,o),o},C=function(t,e,i,s){return new(i||(i=Promise))((function(a,n){function o(t){try{l(s.next(t))}catch(t){n(t)}}function r(t){try{l(s.throw(t))}catch(t){n(t)}}function l(t){var e;t.done?a(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,r)}l((s=s.apply(t,e||[])).next())}))};let b=class UserAnalyticsTable extends v.a{constructor(){super(...arguments),this.isMounted=!1,this.tableData=null,this.tableDataArray=[],this.currentTableDataArray=[],this.descending=!1,this.selectedField="",this.sortField={TITLE:"title",VIEW:"views",LIKE:"likes",DOWNLOAD:"downloads",INFO_URL:"urlclicks",BANNER:"bannerclicks",FEATURED_CATALOG:"featuredcatalogclicks"},this.metricsColumnHeaders=[this.$t("Model Title"),this.$t("URL"),this.$t("Views"),this.$t("Likes"),this.$t("Downloads"),this.$t("Info Url"),this.$t("Banner"),this.$t("Featured Catalog")]}get arrowDirection(){return this.selectedField===this.sortField.TITLE?this.descending?h.Constants.UP:h.Constants.DOWN:this.descending?h.Constants.DOWN:h.Constants.UP}get displaySort(){return{title:this.selectedField===this.sortField.TITLE||""===this.selectedField,view:this.selectedField===this.sortField.VIEW,like:this.selectedField===this.sortField.LIKE,download:this.selectedField===this.sortField.DOWNLOAD,info_url:this.selectedField===this.sortField.INFO_URL,banner:this.selectedField===this.sortField.BANNER,featured_catalog:this.selectedField===this.sortField.FEATURED_CATALOG}}mounted(){this.isMounted=!0}get pagination(){return this.isMounted?this.$refs.pagination:null}loadDataAndRender(t,e,i,s,a){return C(this,void 0,void 0,(function*(){this.loading=!0,this.selectedField=this.sortField.TITLE,this.errorMessage="",this.startDateNum=e,this.endDateNum=i,this.itemId=s;try{yield this.fetchData(t,e,i,s,a)}catch(t){this.errorMessage=this.$t("Chart failed to load. Refresh the page to try again.")}return this.loading=!1,Promise.resolve()}))}fetchData(t,e,i,s,a){return C(this,void 0,void 0,(function*(){const s=["entities","collections"];let n={};for(let e of s){let i=0,s=!1,a=yield this.$api.getAnalyticsItemIds(t,e,i,this.performAsFlag);for(a=a.data;!s;){for(let t of a.entries)n[t.id]={title:t.title,type:t.class,views:0,downloads:0,likes:0,urlclicks:0,bannerclicks:0,featuredcatalogclicks:0};if(a.total===a.endRow){s=!1;break}i+=1e3;a=(yield this.$api.getAnalyticsItemIds(t,e,i,this.performAsFlag)).data}}let o=yield this.$api.getAnalyticEventData(t,a,i,e,this.performAsFlag);for(let t of o.data.aggregates)if(""===a||a===t.countryValue)if([h.Constants.EVENTTYPE_VIEW,h.Constants.EVENTTYPE_LIKE,h.Constants.EVENTTYPE_DOWNLOAD].indexOf(t.eventTypeValue)>=0)try{n[t.itemId][t.eventTypeValue+"s"]=t.count}catch(t){}else t.eventTypeValue===h.Constants.EVENTTYPE_UNLIKE&&(n[t.itemId].likes-=t.count);return this.tableData=n,this.tableDataArray=Object.keys(this.tableData).map((t=>{let e=this.tableData[t];return e.id=t,e})),this.sortTableDataArray(),this.currentTableDataArray=this.tableDataArray.slice(0,10),Promise.resolve()}))}setCurrentPageDataArray(t){let e=10*t,i=10*(t+1);this.currentTableDataArray=this.tableDataArray.slice(e,i)}sortTableDataArray(){const t=this.descending?h.Constants.DESC:h.Constants.ASC;this.tableDataArray=o.a.orderBy(this.tableDataArray,(t=>t[this.selectedField]),t)}getPageCount(){return Math.ceil(Object.keys(this.tableData).length/10)}get canViewCatalogAnalytics(){return this.owner.isVerified}exportMetricsTableToCSV(){let t=[],e=this.metricsColumnHeaders.length;this.canViewCatalogAnalytics||(e-=2),t.push(this.metricsColumnHeaders.slice(0,e).join(","));for(let e of this.tableDataArray){let i=[];i.push(e.title),i.push(this.getAbsoluteItemUrl(e)),i.push(e.views),i.push(e.likes),i.push(e.downloads),i.push(e.urlclicks),this.canViewCatalogAnalytics&&(i.push(e.bannerclicks),i.push(e.featuredcatalogclicks)),t.push(i.join(","))}let i=this.getPrettyDateRangeString();Object(u.b)(t.join("\n"),"Analytics Report-"+i+".csv","text/csv")}getPrettyDateRangeString(){return s.dateUtil.format("YYYY-MM-DD",this.startDateNum)+"--"+s.dateUtil.format("YYYY-MM-DD",this.endDateNum)}getItemUrl(t){return"entity"===t.type?this.getModelUrl(t.id,t.title):this.getCollectionUrl(t.id,t.title)}getAbsoluteItemUrl(t){return"entity"===t.type?this.getAbsoluteModelUrl(t.id,t.title):this.getAbsoluteCollectionUrl(t.id,t.title)}getCollectionUrl(t,e){return null===e&&(e=""),p.k(t,p.L(e))}getAbsoluteCollectionUrl(t,e){return new l.a(window.location.href).origin()+this.getCollectionUrl(t,e)}getModelUrl(t,e){return null===e&&(e=""),p.p(t,p.L(e))}getAbsoluteModelUrl(t,e){return new l.a(window.location.href).origin()+this.getModelUrl(t,e)}filterChart(t,e){this.$emit("itemSelected",{id:t,label:e})}onDirectionClicked(){this.descending=!this.descending}onHeaderClicked(t){this.selectedField===t?this.onDirectionClicked():(this.displaySort[this.selectedField]=!1,this.displaySort[t]=!0,this.selectedField=t,this.descending=this.selectedField!==this.sortField.TITLE),this.sortTableDataArray(),this.setCurrentPageDataArray(0),this.pagination.goToPage(1)}};f([Object(d.d)()],b.prototype,"owner",void 0),f([Object(d.d)()],b.prototype,"performAsFlag",void 0),b=f([Object(c.b)({components:{IconArrow:m.a,IconDownload:a.a,IconModelAnalytics:{functional:!0,render:function(t,e){var i=e._c;return i("svg",{class:[e.data.class,e.data.staticClass],style:[e.data.style,e.data.staticStyle],attrs:{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20"}},[i("path",{attrs:{fill:"#BFBFC6","fill-rule":"nonzero",d:"M17.07491 16.1910274l2.74203 2.7420309c.24408.2440776.24408.6398058 0 .8838834-.24408.2440777-.6398.2440777-.88388 0l-2.74203-2.7420308C15.34435 17.733074 14.28044 18.125 13.125 18.125c-2.76142 0-5-2.2385763-5-5s2.23858-5 5-5 5 2.2385763 5 5c0 1.1554447-.39193 2.2193501-1.05009 3.0660274zm-1.28417-.4285394c.67033-.6774679 1.08426-1.6091388 1.08426-2.637488 0-2.0710678-1.67893-3.75-3.75-3.75-2.07107 0-3.75 1.6789322-3.75 3.75s1.67893 3.75 3.75 3.75c1.02835 0 1.96002-.4139289 2.63749-1.0842619.00454-.0048376.00918-.0096205.0139-.0143465.00473-.004726.00951-.0093606.01435-.0139036zM3.75 9.1161165l1.17375-1.1737499c.35167-.3518907.82876-.5495997 1.32625-.5495997.49749 0 .97458.197709 1.32611.549458l.3725.3725c.24408.2440777.24408.6398058 0 .8838835-.24408.2440777-.63981.2440777-.88389 0l-.37264-.3726416c-.11722-.1172969-.27625-.1831999-.44208-.1831999-.16583 0-.32486.065903-.44222.1833415L3.75 10.8838835V12.5h2.5c.34518 0 .625.279822.625.625s-.27982.625-.625.625H3.125c-.34518 0-.625-.279822-.625-.625v-7.5c0-.345178.27982-.625.625-.625s.625.279822.625.625v3.4911165zM7.5 16.25c.34518 0 .625.279822.625.625s-.27982.625-.625.625H1.875C.83947 17.5 0 16.6605339 0 15.625V1.875C0 .8394661.83947 0 1.875 0h8.85763c.49694.0001061.97351.1974772 1.32515.5488916l2.39347 2.393475c.35127.3514979.54864.8280659.54875 1.3251334V6.25c0 .345178-.27982.625-.625.625s-.625-.279822-.625-.625V4.2676334c-.00004-.1656446-.06583-.3245006-.18278-.441525l-2.39319-2.3931917c-.11716-.117091-.27602-.1828813-.44153-.1829167H1.875c-.34518 0-.625.279822-.625.625v13.75c0 .345178.27982.625.625.625H7.5z"}})])}},Pagination:g.a}})],b);var y=b,w=i(28),_=Object(w.a)(y,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"user-analytics-table"},[t.errorMessage?i("div",{staticClass:"error"},[t._v(t._s(t.errorMessage))]):t.loading?i("div",{staticClass:"loading"}):i("div",{staticClass:"analytics-container"},[i("div",{staticClass:"analytics-header"},[i("h2",[t._v(t._s(t.$t("Metrics")))]),t._v(" "),i("button",{staticClass:"button",attrs:{id:"analytics-table-download-csv"},on:{click:t.exportMetricsTableToCSV}},[t._v("\n        "+t._s(t.$t("Download CSV"))+"\n        "),i("IconDownload")],1)]),t._v(" "),i("table",[i("thead",[i("tr",[i("th",{staticClass:"model-title-label top-left",on:{click:function(e){return t.onHeaderClicked(t.sortField.TITLE)}}},[i("div",{staticClass:"header-cell"},[i("div",{staticClass:"header-title"},[t._v(t._s(t.metricsColumnHeaders[0]))]),t._v(" "),i("div",{staticClass:"sort-direction",class:{hidden:!t.displaySort.title},attrs:{title:t.$t("Reverse sort direction")}},[i("icon-arrow",{attrs:{altSvg:t.descending,direction:t.arrowDirection}})],1)])]),t._v(" "),i("th",{staticClass:"hidden-column"},[t._v(t._s(t.metricsColumnHeaders[1]))]),t._v(" "),i("th",{on:{click:function(e){return t.onHeaderClicked(t.sortField.VIEW)}}},[i("div",{staticClass:"header-cell"},[i("div",{staticClass:"header-title"},[t._v(t._s(t.metricsColumnHeaders[2]))]),t._v(" "),i("div",{staticClass:"sort-direction",class:{hidden:!t.displaySort.view},attrs:{title:t.$t("Reverse sort direction")}},[i("icon-arrow",{attrs:{altSvg:t.descending,direction:t.arrowDirection}})],1)])]),t._v(" "),i("th",{on:{click:function(e){return t.onHeaderClicked(t.sortField.LIKE)}}},[i("div",{staticClass:"header-cell"},[i("div",{staticClass:"header-title"},[t._v(t._s(t.metricsColumnHeaders[3]))]),t._v(" "),i("div",{staticClass:"sort-direction",class:{hidden:!t.displaySort.like},attrs:{title:t.$t("Reverse sort direction")}},[i("icon-arrow",{attrs:{altSvg:t.descending,direction:t.arrowDirection}})],1)])]),t._v(" "),i("th",{on:{click:function(e){return t.onHeaderClicked(t.sortField.DOWNLOAD)}}},[i("div",{staticClass:"header-cell"},[i("div",{staticClass:"header-title"},[t._v(t._s(t.metricsColumnHeaders[4]))]),t._v(" "),i("div",{staticClass:"sort-direction",class:{hidden:!t.displaySort.download},attrs:{title:t.$t("Reverse sort direction")}},[i("icon-arrow",{attrs:{altSvg:t.descending,direction:t.arrowDirection}})],1)])]),t._v(" "),i("th",{on:{click:function(e){return t.onHeaderClicked(t.sortField.INFO_URL)}}},[i("div",{staticClass:"header-cell"},[i("div",{staticClass:"header-title"},[t._v(t._s(t.metricsColumnHeaders[5]))]),t._v(" "),i("div",{staticClass:"sort-direction",class:{hidden:!t.displaySort.info_url},attrs:{title:t.$t("Reverse sort direction")}},[i("icon-arrow",{attrs:{altSvg:t.descending,direction:t.arrowDirection}})],1)])]),t._v(" "),t.canViewCatalogAnalytics?i("th",{on:{click:function(e){return t.onHeaderClicked(t.sortField.BANNER)}}},[i("div",{staticClass:"header-cell"},[i("div",{staticClass:"header-title"},[t._v(t._s(t.metricsColumnHeaders[6]))]),t._v(" "),i("div",{staticClass:"sort-direction",class:{hidden:!t.displaySort.banner},attrs:{title:t.$t("Reverse sort direction")}},[i("icon-arrow",{attrs:{altSvg:t.descending,direction:t.arrowDirection}})],1)])]):t._e(),t._v(" "),t.canViewCatalogAnalytics?i("th",{on:{click:function(e){return t.onHeaderClicked(t.sortField.FEATURED_CATALOG)}}},[i("div",{staticClass:"header-cell"},[i("div",{staticClass:"header-title"},[t._v(t._s(t.metricsColumnHeaders[7]))]),t._v(" "),i("div",{staticClass:"sort-direction",class:{hidden:!t.displaySort.featured_catalog},attrs:{title:t.$t("Reverse sort direction")}},[i("icon-arrow",{attrs:{altSvg:t.descending,direction:t.arrowDirection}})],1)])]):t._e(),t._v(" "),i("th",{staticClass:"top-right"})])]),t._v(" "),i("tbody",t._l(t.currentTableDataArray,(function(e){return i("tr",{key:e.id},[i("td",{staticClass:"model-title-value"},[i("a",{staticClass:"model-title-link",attrs:{href:t.getItemUrl(e),target:"_blank"}},[t._v(t._s(e.title))])]),t._v(" "),i("td",{staticClass:"hidden-column"},[t._v(t._s(t.getAbsoluteItemUrl(e)))]),t._v(" "),i("td",[i("div",{staticClass:"table-cell"},[t._v(t._s(e.views))])]),t._v(" "),i("td",[i("div",{staticClass:"table-cell"},[t._v(t._s(e.likes))])]),t._v(" "),i("td",[i("div",{staticClass:"table-cell"},[t._v(t._s(e.downloads))])]),t._v(" "),i("td",[i("div",{staticClass:"table-cell"},[t._v(t._s(e.urlclicks))])]),t._v(" "),t.canViewCatalogAnalytics?i("td",[i("div",{staticClass:"table-cell"},[t._v(t._s(e.bannerclicks))])]):t._e(),t._v(" "),t.canViewCatalogAnalytics?i("td",[i("div",{staticClass:"table-cell"},[t._v(t._s(e.featuredcatalogclicks))])]):t._e(),t._v(" "),i("td",{staticClass:"analytics-filter"},[i("div",{staticClass:"analytics-subject-filter",on:{click:function(i){return t.filterChart(e.id,e.title)}}},[i("IconModelAnalytics",{staticClass:"analytics-filter-button"})],1)])])})),0)]),t._v(" "),i("pagination",{ref:"pagination",staticClass:"row",attrs:{startPage:0,pageCount:t.getPageCount(),pageAction:t.setCurrentPageDataArray}})],1)])}),[],!1,null,null,null);e.a=_.exports},920:function(t,e,i){"use strict";var s=i(0),a=i(821),n=i(674),o=i(48),r=i(808),l=i(727),c=i(757),d=i(861),u=i(889),h=function(t,e,i,s){var a,n=arguments.length,o=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,s);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(o=(n<3?a(o):n>3?a(e,i,o):a(e,i))||o);return n>3&&o&&Object.defineProperty(e,i,o),o};let p=class UcmContentCollections extends u.a{constructor(){super(...arguments),this.name="ucm-content-collections",this.verifiedChildType=o.c.COLLECTIONS,this.manageModeContext=o.e.COLLECTION_COLLECTIONS,this.elementCount=0}get privacyLevel(){return this.isPrivate?s.PrivacyLevel.Private:s.PrivacyLevel.Public}get totalItemLabel(){return this.isPrivate?this.$t("Folders"):this.$t("Collections")}get showAddToCollectionAction(){return!this.isPrivate}get collectionCount(){return this.elementCount}get verifiedConfirmText(){return this.$t("You're about to remove all verified collections from the collection.")}get hasSupplementalMenu(){return!this.likedContent}getLikedFqArgs(){return[`reviewers==${this.dataOwner.id}`,'(subtype=exists=false,subtype=="")',this.formatFilter("title")]}getContentFilter(){const t=this.likedContent?this.getLikedFqArgs():this.getCollectionFqArgs(this.collection.id);return this.buildSearchParams(t,this.privacyLevel)}};p=h([Object(n.a)({components:{IconAlert:a.a,BulkControls:d.a,ContentPresenter:r.a,ItemSelector:l.a,SortSelector:c.a}})],p);var m=p,g=i(28),v=Object(g.a)(m,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"ucm-content-collections ucm-content-base",attrs:{id:t.id}},[t.isSelecting?i("bulk-controls",{staticClass:"row columns",attrs:{id:t.bulkId,dataOwner:t.dataOwner,useRemove:!0,pageType:t.parentPageType,showAddToCollectionAction:t.showAddToCollectionAction,selectedContent:t.selectedContent,selectedContentCount:t.selectedContentCount,selectAllContent:t.selectAllContent,deleteHandler:t.confirmDeleteSelected}}):i("div",{staticClass:"info-row expanded row columns"},[!t.hasVerifiedContent||t.isParentFolder?i("div",{staticClass:"collection-count"},[t._v("\n      "+t._s(t.collectionCount+" "+t.totalItemLabel)+"\n    ")]):i("div",{staticClass:"contains-verified-content"},[i("IconAlert"),t._v(" "),i("div",{staticClass:"verified-label"},[t._v("\n        "+t._s(t.$t("You have one or more collections belonging to a verified content provider that cannot be in your collection."))+"\n      ")]),t._v("\n       \n      "),i("div",{staticClass:"verified-action",on:{click:t.removeVerifiedContent}},[t._v("\n        "+t._s(t.$t("Remove All?"))+"\n      ")])],1),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.filter,expression:"filter"}],staticClass:"filter",attrs:{id:"ucm-content-collections-filter",placeholder:t.$t("Filter"),type:"text",disabled:t.isLoading},domProps:{value:t.filter},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.checkFilter.apply(null,arguments)},input:function(e){e.target.composing||(t.filter=e.target.value)}}}),t._v(" "),i("sort-selector",{attrs:{id:"collection-collection-sort",fields:t.sortFields},model:{value:t.sortSelection,callback:function(e){t.sortSelection=e},expression:"sortSelection"}})],1),t._v(" "),i("div",{staticClass:"presenter-info columns"},[i("div",{staticClass:"view-controls"},[i("div",{staticClass:"page-size-selector"},[i("item-selector",{attrs:{id:"page-size-list",title:t.$t("Page Size"),items:t.pageSizeFields},model:{value:t.pageSizeSelected,callback:function(e){t.pageSizeSelected=e},expression:"pageSizeSelected"}})],1)])]),t._v(" "),i("content-presenter",{ref:"ucmContent",attrs:{id:t.presenterId,scrollTrigger:t.presenterTrigger,type:"collections",filter:t.getContentFilter(),sortBy:t.sortBy,manageMode:!0,largerRows:!0,manageModeContext:t.manageModeContext,useRemove:!0,selectableCards:!0,hasSupplementalMenu:t.hasSupplementalMenu,actionCallback:t.presenterActionHandler,deleteCallback:t.deleteItemCallback,deleteBulkCallback:t.deleteBulkItemsCallback,hasVerifiedContent:t.hasVerifiedContent,isFolder:t.isParentFolder,privateMode:t.isPrivate,dataOwner:t.dataOwner,collectionId:t.collection.id,page:t.page,pageSize:t.pageSize}})],1)}),[],!1,null,"3e9ade02",null);e.a=v.exports},921:function(t,e,i){"use strict";var s=i(821),a=i(674),n=i(48),o=i(808),r=i(727),l=i(757),c=i(861),d=i(889),u=function(t,e,i,s){var a,n=arguments.length,o=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,s);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(o=(n<3?a(o):n>3?a(e,i,o):a(e,i))||o);return n>3&&o&&Object.defineProperty(e,i,o),o};let h=class UcmContentModels extends d.a{constructor(){super(...arguments),this.name="ucm-content-models",this.verifiedChildType=n.c.ENTITIES,this.manageModeContext=n.e.COLLECTION_MODELS}get verifiedConfirmText(){return this.$t("You're about to remove all verified models from the collection.")}get hasSupplementalMenu(){return!this.likedContent}getLikedFqArgs(){return[`reviewers==${this.dataOwner.id}`,this.formatFilter("title")]}getContentFilter(){const t=this.likedContent?this.getLikedFqArgs():this.getCollectionFqArgs(this.collection.id);return this.buildSearchParams(t)}};h=u([Object(a.a)({components:{IconAlert:s.a,BulkControls:c.a,ContentPresenter:o.a,ItemSelector:r.a,SortSelector:l.a}})],h);var p=h,m=i(28),g=Object(m.a)(p,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"ucm-content-models ucm-content-base",attrs:{id:t.id}},[t.isSelecting?i("bulk-controls",{staticClass:"row columns",attrs:{id:t.bulkId,dataOwner:t.dataOwner,useRemove:!0,pageType:t.parentPageType,selectedContent:t.selectedContent,selectedContentCount:t.selectedContentCount,selectAllContent:t.selectAllContent,deleteHandler:t.confirmDeleteSelected}}):i("div",{staticClass:"info-row expanded row columns"},[!t.hasVerifiedContent||t.isParentFolder?i("div",{staticClass:"model-count"},[t._v("\n      "+t._s(t.$t(t.elementCount+" Models",t.elementCount))+"\n    ")]):i("div",{staticClass:"contains-verified-content"},[i("IconAlert"),t._v(" "),i("div",{staticClass:"verified-label"},[t._v("\n        "+t._s(t.$t("You have one or more models belonging to a verified content provider that cannot be in your collection."))+"\n      ")]),t._v("\n       \n      "),i("div",{staticClass:"verified-action",on:{click:t.removeVerifiedContent}},[t._v("\n        "+t._s(t.$t("Remove All?"))+"\n      ")])],1),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.filter,expression:"filter"}],staticClass:"filter",attrs:{id:"ucm-content-models-filter",placeholder:t.$t("Filter"),type:"text",disabled:t.isLoading},domProps:{value:t.filter},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.checkFilter.apply(null,arguments)},input:function(e){e.target.composing||(t.filter=e.target.value)}}}),t._v(" "),i("sort-selector",{attrs:{id:"collection-model-sort",fields:t.sortFields},model:{value:t.sortSelection,callback:function(e){t.sortSelection=e},expression:"sortSelection"}})],1),t._v(" "),i("div",{staticClass:"presenter-info columns"},[i("div",{staticClass:"view-controls"},[i("div",{staticClass:"page-size-selector"},[i("item-selector",{attrs:{id:"page-size-list",title:t.$t("Page Size"),items:t.pageSizeFields},model:{value:t.pageSizeSelected,callback:function(e){t.pageSizeSelected=e},expression:"pageSizeSelected"}})],1)])]),t._v(" "),i("content-presenter",{ref:"ucmContent",attrs:{id:t.presenterId,scrollTrigger:t.presenterTrigger,type:"models",filter:t.getContentFilter(),sortBy:t.sortBy,manageMode:!0,largerRows:!0,useRemove:!0,manageModeContext:t.manageModeContext,selectableCards:!0,hasSupplementalMenu:t.hasSupplementalMenu,actionCallback:t.presenterActionHandler,deleteCallback:t.deleteItemCallback,deleteBulkCallback:t.deleteBulkItemsCallback,hasVerifiedContent:t.hasVerifiedContent,isFolder:t.isParentFolder,dataOwner:t.dataOwner,collectionId:t.collection.id,page:t.page,pageSize:t.pageSize}})],1)}),[],!1,null,"984dc10e",null);e.a=g.exports},922:function(t,e,i){"use strict";var s=i(11),a=i(6),n=i.n(a),o=i(12),r=i(862),l=function(t,e,i,s){var a,n=arguments.length,o=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,s);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(o=(n<3?a(o):n>3?a(e,i,o):a(e,i))||o);return n>3&&o&&Object.defineProperty(e,i,o),o};let c=class DateRangePicker extends n.a{constructor(){super(...arguments),this.boundFrom_=null,this.boundTo_=null,this.isDropdownOpen=!1}get boundFrom(){return this.boundFrom_}set boundFrom(t){(!this.boundTo||this.boundTo.valueOf()<t.valueOf())&&(this.boundTo_=t),this.boundFrom_=t}get boundTo(){return this.boundTo_}set boundTo(t){(!this.boundFrom||this.boundFrom.valueOf()>t.valueOf())&&(this.boundFrom_=t),this.boundTo_=t}get selectionLabel(){return(this.boundFrom&&this.boundFrom.valueOf()?s.dateUtil.format("M/D/YYYY",this.boundFrom.getTime()):"")+" - "+(this.boundTo&&this.boundTo.valueOf()?s.dateUtil.format("M/D/YYYY",this.boundTo.getTime()):"")}applyClicked(){let t=this.boundFrom?this.boundFrom.valueOf():0,e=this.boundTo?this.boundTo.valueOf():0;this.$emit("valuesUpdated",t,e),this.closeDropdown()}openDropdown(){this.isDropdownOpen=!0,document.addEventListener("click",this.documentClicked)}closeDropdown(){document.removeEventListener("click",this.documentClicked),this.isDropdownOpen=!1}documentClicked(t){const e=this.$refs.dropdown,i=this.$refs.selection,s=t.target,a=e===s||e.contains(s),n=i===s||i.contains(s);a||n||this.closeDropdown()}destroyed(){document.removeEventListener("click",this.documentClicked)}};c=l([Object(o.b)({props:{valueFrom:Date,valueTo:Date,id:String,name:String,rangeFrom:{type:Number,default:0},rangeTo:{type:Number,default:0}},components:{DatePicker:r.a},watch:{valueFrom:function(t){this.boundFrom=t},valueTo:function(t){this.boundTo=t}}})],c);var d=c,u=i(28),h=Object(u.a)(d,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"date-range-picker",attrs:{id:t.id}},[i("div",{ref:"selection",staticClass:"range-selection",on:{click:t.openDropdown}},[t._v(t._s(t.selectionLabel))]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.isDropdownOpen,expression:"isDropdownOpen"}],ref:"dropdown",staticClass:"range-dropdown"},[i("date-picker",{attrs:{rangeFrom:t.rangeFrom,rangeTo:t.rangeTo},model:{value:t.boundFrom,callback:function(e){t.boundFrom=e},expression:"boundFrom"}}),t._v(" "),i("span",[t._v(" - ")]),t._v(" "),i("date-picker",{attrs:{rangeFrom:t.rangeFrom,rangeTo:t.rangeTo},model:{value:t.boundTo,callback:function(e){t.boundTo=e},expression:"boundTo"}}),t._v(" "),i("br"),t._v(" "),i("button",{staticClass:"button",attrs:{id:t.id+"-apply"},on:{click:t.applyClicked}},[t._v("\n      "+t._s(t.$t("Apply"))+"\n    ")])],1)])}),[],!1,null,null,null);e.a=h.exports},923:function(t,e,i){"use strict";var s=i(11),a=i(392),n=i(886),o=i(12),r=i(674),l=i(152),c=i(3),d=i(865),u=function(t,e,i,s){var a,n=arguments.length,o=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,s);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(o=(n<3?a(o):n>3?a(e,i,o):a(e,i))||o);return n>3&&o&&Object.defineProperty(e,i,o),o},h=function(t,e,i,s){return new(i||(i=Promise))((function(a,n){function o(t){try{l(s.next(t))}catch(t){n(t)}}function r(t){try{l(s.throw(t))}catch(t){n(t)}}function l(t){var e;t.done?a(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,r)}l((s=s.apply(t,e||[])).next())}))};let p=class UserAnalyticsGeoChart extends d.a{constructor(){super(...arguments),this.countryCode="",this.dataType_="views",this.geoChart_=null,this.viewsDataTable=null,this.downloadsDataTable=null,this.likesDataTable=null,this.currentData=null,this.chartOptions={backgroundColor:"#fff",colorAxis:{colors:["#C16C86","#6D5C7D","#335D7E"]},datalessRegionColor:"#f3f3f7",defaultColor:"#eee",displayMode:"region",region:"world",resolution:"countries",keepAspectRatio:!0,height:500}}get geoChart(){return this.geoChart_||(this.geoChart_=new google.visualization.GeoChart(this.chartContainer),google.visualization.events.addListener(this.geoChart_,"regionClick",(t=>{this.onRegionClicked(t)}))),this.geoChart_}get dataType(){return this.dataType_}set dataType(t){this.dataType_=t,this.drawChart()}loadDataAndRender(t,e,i,s,a){return h(this,void 0,void 0,(function*(){this.loading=!0,this.errorMessage="",this.countryCode=a;try{yield this.fetchData(t,e,i,s,a)}catch(t){this.errorMessage=this.$t("Map failed to load. Refresh the page to try again.")}return this.chartOptions.region="world",this.chartOptions.resolution="countries",this.chartOptions.tooltip={isHtml:!0},this.loading=!1,this.$nextTick((()=>{this.drawChart()})),Promise.resolve()}))}fetchData(t,e,i,s,a){return h(this,void 0,void 0,(function*(){this.startDateNum=e,this.endDateNum=i;let s=[c.Constants.EVENTTYPE_VIEW,c.Constants.EVENTTYPE_DOWNLOAD,c.Constants.EVENTTYPE_LIKE,c.Constants.EVENTTYPE_UNLIKE];this.currentData={download:[],view:[],like:[]};for(let a of s){let s=yield this.$api.getUserGeoAnalytics(t,e,i,a,this.performAsFlag);if(s=s.data.aggregates,a!==c.Constants.EVENTTYPE_UNLIKE)this.currentData[a]=s;else if(a===c.Constants.EVENTTYPE_UNLIKE)for(let t of s){let e=t.countryValue;this.currentData.like.filter((i=>{i.countryValue===e&&(i.count=i.count-t.count)}))}}return this.viewsDataTable=this.buildChartData(this.$t("Views"),this.currentData.view),this.downloadsDataTable=this.buildChartData(this.$t("Downloads"),this.currentData.download),this.likesDataTable=this.buildChartData(this.$t("Likes"),this.currentData.like),Promise.resolve()}))}buildChartData(t,e){const i=new google.visualization.DataTable,s=this.countryCode?"Province":"Country";i.addColumn("string",s),i.addColumn("number",t),i.addColumn({type:"string",role:"tooltip",p:{html:!0}});for(let s of e){const e=s.countryValue,n=this.countryCode?e:Object(a.getCountryLabel)(e),o=s.count,r=`<div class="geo-country">${n}</div><div class="geo-value"><span class="geo-label">${t}:</span> <span class="geo-count">${o}</span></div>`;i.addRow([e,o,r])}return i}drawChart(){this.geoChart.clearChart(),this.geoChart.draw(this.getCurrentDataTable(),this.chartOptions),this.chartWidth=this.chartContainer.clientWidth}getCurrentDataTable(){switch(this.dataType_){case"views":return this.viewsDataTable;case"likes":return this.likesDataTable;default:return this.downloadsDataTable}}onRegionClicked(t){this.$emit("countrySelected",t.region)}get countryFilterLabel(){if(!this.countryCode)return"";let t=this.$tLabel({text:Object(a.getCountryLabel)(this.countryCode,!0)});return this.$t("Country or Region")+": "+t}changeCountry(t){this.$emit("countrySelected",t)}exportGeoTableToCSV(){let t=[],e=[];e.push(this.countryCode?this.$t("Province"):this.$t("Country")),e.push(this.$t("Code")),e.push(this.$t("Views")),e.push(this.$t("Downloads")),e.push(this.$t("Likes")),t.push(e.join(","));const i=this.currentData.view.map((t=>["",t.countryValue,t.count,0,0]));this.mergeGeoData(i,this.currentData.download,3),this.mergeGeoData(i,this.currentData.like,4);for(let t of i)this.countryCode?(t[0]=t[1],t[1]=""):t[0]=Object(a.getCountryLabel)(t[1],!0);i.sort(((t,e)=>t[0].localeCompare(e[0])));for(let e of i)t.push(e.join(","));let s=this.countryCode?Object(a.getCountryLabel)(this.countryCode,!0):"Global";const n=s.indexOf(" (");n>0&&(s=s.substr(0,n));const o=`Analytics Geo Report-${s}--${this.getPrettyDateRangeString()}.csv`;Object(l.b)(t.join("\n"),o,"text/csv")}getPrettyDateRangeString(){return s.dateUtil.format("YYYY-MM-DD",this.startDateNum)+"--"+s.dateUtil.format("YYYY-MM-DD",this.endDateNum)}mergeGeoData(t,e,i){for(let s of e){const e=t.findIndex((t=>t[1]===s.countryValue));if(e<0){const e=["",s.countryCode,0,0,0];e[i]=s.count,t.push(e)}else t[e][i]=s.count}}};u([Object(r.d)()],p.prototype,"performAsFlag",void 0),p=u([Object(o.b)({components:{IconDownload:n.a}})],p);var m=p,g=i(28),v=Object(g.a)(m,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"user-analytics-geo-chart"},[i("div",{staticClass:"analytics-header"},[i("h2",{staticClass:"title"},[t._v(t._s(t.$t("Geography")))]),t._v(" "),i("button",{staticClass:"button",attrs:{id:"analytics-geo-download-csv"},on:{click:t.exportGeoTableToCSV}},[t._v("\n      "+t._s(t.$t("Download CSV"))+" "),i("IconDownload")],1)]),t._v(" "),t.countryFilterLabel?i("div",{staticClass:"country-filter pillbox",on:{click:function(e){return t.changeCountry("")}}},[i("div",{staticClass:"pillbox-label",attrs:{title:t.countryFilterLabel}},[t._v(t._s(t.countryFilterLabel))]),t._v(" "),i("div",{staticClass:"remove"},[t._v("×")])]):t._e(),t._v(" "),i("div",{staticClass:"tabs row columns"},[i("ul",{staticClass:"radio-toolbar row menu clearfix"},[i("li",{staticClass:"toolbar-item"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.dataType,expression:"dataType"}],attrs:{type:"radio",value:"views",id:"views-geochart-tab"},domProps:{checked:t._q(t.dataType,"views")},on:{change:function(e){t.dataType="views"}}}),t._v(" "),i("label",{staticClass:"toolbar-label title",attrs:{for:"views-geochart-tab"}},[t._v("\n          "+t._s(t.$t("Views"))+"\n        ")])]),t._v(" "),i("li",{staticClass:"toolbar-item"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.dataType,expression:"dataType"}],attrs:{type:"radio",value:"downloads",id:"downloads-geochart-tab"},domProps:{checked:t._q(t.dataType,"downloads")},on:{change:function(e){t.dataType="downloads"}}}),t._v(" "),i("label",{staticClass:"toolbar-label title",attrs:{for:"downloads-geochart-tab"}},[t._v("\n          "+t._s(t.$t("Downloads"))+"\n        ")])]),t._v(" "),i("li",{staticClass:"toolbar-item"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.dataType,expression:"dataType"}],attrs:{type:"radio",value:"likes",id:"likes-geochart-tab"},domProps:{checked:t._q(t.dataType,"likes")},on:{change:function(e){t.dataType="likes"}}}),t._v(" "),i("label",{staticClass:"toolbar-label title",attrs:{for:"likes-geochart-tab"}},[t._v("\n          "+t._s(t.$t("Likes"))+"\n        ")])])])]),t._v(" "),t.errorMessage?i("div",{staticClass:"error"},[t._v("\n    "+t._s(t.errorMessage)+"\n  ")]):t.loading?i("div",{staticClass:"loading"}):i("div",{ref:"chartContainer",staticClass:"chart-container svg-control"})])}),[],!1,null,null,null);e.a=v.exports},924:function(t,e,i){"use strict";var s=i(930),a=i.n(s),n=i(12),o=i(674),r=i(3),l=i(865),c=function(t,e,i,s){var a,n=arguments.length,o=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,s);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(o=(n<3?a(o):n>3?a(e,i,o):a(e,i))||o);return n>3&&o&&Object.defineProperty(e,i,o),o},d=function(t,e,i,s){return new(i||(i=Promise))((function(a,n){function o(t){try{l(s.next(t))}catch(t){n(t)}}function r(t){try{l(s.throw(t))}catch(t){n(t)}}function l(t){var e;t.done?a(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,r)}l((s=s.apply(t,e||[])).next())}))};let u=class UserAnalyticsLineChart extends l.a{constructor(){super(...arguments),this.suggestedMax=0,this.textColorLightTheme="#363545",this.textColorDarkTheme="#F3F3F7",this.chartConfig={type:"line",data:{labels:[],datasets:[]},options:{animation:{duration:0},elements:{point:{radius:0},line:{tension:.1}},hover:{animationDuration:0,mode:"index",intersect:!1},maintainAspectRatio:!1,responsive:!0,responsiveAnimationDuration:0,legend:{labels:{fontColor:this.textColorLightTheme}},scales:{xAxes:[{gridLines:{display:!0,drawBorder:!0},ticks:{fontColor:this.textColorLightTheme}}],yAxes:[{gridLines:{display:!0,drawBorder:!0},ticks:{beginAtZero:!0,fontColor:this.textColorLightTheme}}]},tooltips:{mode:"index",intersect:!1},plugins:{beforeDraw:{backgroundColor:"#f9f9f9"}}}}}themeChanged(t){this.chartConfig.options.legend.labels.fontColor=this.theme===r.Themes.LIGHT?this.textColorLightTheme:this.textColorDarkTheme,this.chartConfig.options.scales.xAxes[0].ticks.fontColor=this.theme===r.Themes.LIGHT?this.textColorLightTheme:this.textColorDarkTheme,this.chartConfig.options.scales.yAxes[0].ticks.fontColor=this.theme===r.Themes.LIGHT?this.textColorLightTheme:this.textColorDarkTheme}loadDataAndRender(t,e,i,s,a){return d(this,void 0,void 0,(function*(){this.loading=!0,this.errorMessage="",this.suggestedMax=0;try{yield this.fetchData(t,e,i,s,a),this.loading=!1,this.suggestedMax>0&&(this.chartConfig.options.scales.yAxes[0].ticks.suggestedMax=Math.round(1.1*this.suggestedMax)),this.$nextTick((()=>{this.drawChart()}))}catch(t){this.errorMessage=this.$t("Graph failed to load. Refresh the page to try again."),this.loading=!1}return Promise.resolve()}))}drawChart(){this.chart&&this.chart.destroy(),a.a.pluginService.register({beforeDraw:(t,e)=>{if(t.config.options.plugins.beforeDraw&&t.config.options.plugins.beforeDraw.backgroundColor){let e=t.ctx,i=t.chartArea;e.save(),e.fillStyle=t.config.options.plugins.beforeDraw.backgroundColor,e.fillRect(i.left,i.top,i.right-i.left,i.bottom-i.top),e.restore()}}});let t=this.$refs.lineChart;new a.a(t,this.chartConfig)}fetchData(t,e,i,s,a){return d(this,void 0,void 0,(function*(){let s=(yield this.$api.getUserLineChartData(t,e,i,a,this.performAsFlag)).data,n=[],o=[],l=[],c=[],d=Object.keys(s);for(let t of d){let e=0,i=0,d=0,u=!1;if("id"!=t&&"name"!=t){let h=s[t];for(let t of h)if(t.countryValue==a||""==a)switch(t.eventTypeValue){case r.Constants.EVENTTYPE_VIEW:e=t.count,u=!0;break;case r.Constants.EVENTTYPE_DOWNLOAD:d=t.count,u=!0;break;case r.Constants.EVENTTYPE_LIKE:i=t.count,u=!0;break;case r.Constants.EVENTTYPE_UNLIKE:i-=t.count,u=!0}u&&(n.unshift({x:t,y:d}),l.unshift({x:t,y:i}),o.unshift({x:t,y:e}),c.unshift(t));const p=Math.max(d,i,e);this.suggestedMax=p>this.suggestedMax?p:this.suggestedMax}}let u=[{label:this.$t("Downloads"),data:n,backgroundColor:"rgba(0, 154, 217, 0.54)",borderColor:"rgba(0, 154, 217, 0.54)",hoverBackgroundColor:"rgba(0, 154, 217, 0.54)",pointRadius:0,fill:!1},{label:this.$t("Views"),data:o,backgroundColor:"rgba(0, 67, 123, 0.69)",borderColor:"rgba(0, 67, 123, 0.69)",hoverBackgroundColor:"rgba(0, 67, 123, 0.69)",pointRadius:0,fill:!1},{label:this.$t("Likes"),data:l,backgroundColor:"rgba(255, 190, 0, 0.52)",borderColor:"rgba(255, 190, 0, 0.52)",hoverBackgroundColor:"rgba(255, 190, 0, 0.52)",pointRadius:0,fill:!1}];return this.chartConfig.data={labels:c,datasets:u},Promise.resolve()}))}};c([Object(o.d)()],u.prototype,"performAsFlag",void 0),c([Object(o.d)()],u.prototype,"theme",void 0),c([Object(o.f)("theme")],u.prototype,"themeChanged",null),u=c([Object(n.b)({})],u);var h=u,p=i(28),m=Object(p.a)(h,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"user-analytics-line-chart"},[t.errorMessage?i("div",{staticClass:"error"},[t._v("\n    "+t._s(t.errorMessage)+"\n  ")]):t.loading?i("div",{staticClass:"loading"}):i("div",{ref:"chartContainer",staticClass:"line-chart large-centered"},[i("canvas",{ref:"lineChart",attrs:{id:"lineChart"}})])])}),[],!1,null,null,null);e.a=m.exports},925:function(t,e,i){"use strict";var s=i(12),a=i(674),n=i(103),o=i(3),r=i(865),l=function(t,e,i,s){var a,n=arguments.length,o=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,s);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(o=(n<3?a(o):n>3?a(e,i,o):a(e,i))||o);return n>3&&o&&Object.defineProperty(e,i,o),o},c=function(t,e,i,s){return new(i||(i=Promise))((function(a,n){function o(t){try{l(s.next(t))}catch(t){n(t)}}function r(t){try{l(s.throw(t))}catch(t){n(t)}}function l(t){var e;t.done?a(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,r)}l((s=s.apply(t,e||[])).next())}))};let d=class UserAnalyticsTotalMetrics extends r.a{constructor(){super(...arguments),this.views=0,this.downloads=0,this.likes=0}get viewsCount(){return this.formatUnitString(this.views)}get downloadsCount(){return this.formatUnitString(this.downloads)}get likesCount(){return this.formatUnitString(this.likes)}loadDataAndRender(t,e,i,s,a){return c(this,void 0,void 0,(function*(){this.loading=!0,this.errorMessage="";try{yield this.fetchData(t,e,i,s,a),this.loading=!1}catch(t){this.errorMessage=this.$t("Total metrics failed to load. Refresh the page to try again."),this.loading=!1}return Promise.resolve()}))}fetchData(t,e,i,s,a){return c(this,void 0,void 0,(function*(){this.views=0,this.downloads=0,this.likes=0;let s=(yield this.$api.getAnalyticsTotalMetrics(t,a,i,e,this.performAsFlag)).data.aggregates;for(let t of s)if(""===a||a===t.countryValue)switch(t.eventTypeValue){case o.Constants.EVENTTYPE_VIEW:this.views+=t.count;break;case o.Constants.EVENTTYPE_LIKE:this.likes+=t.count;break;case o.Constants.EVENTTYPE_DOWNLOAD:this.downloads+=t.count;break;case o.Constants.EVENTTYPE_UNLIKE:this.likes-=t.count}}))}formatUnitString(t){let e=n.c(t||0);return this.$tLabel(e).replace(" ","")}};l([Object(a.d)()],d.prototype,"performAsFlag",void 0),d=l([Object(s.b)({props:{user:Object,startDateNum:Number,endDateNum:Number,itemId:String,countryCode:String}})],d);var u=d,h=i(28),p=Object(h.a)(u,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"user-analytics-total-metrics"},[t.errorMessage?i("div",{staticClass:"error"},[t._v("\n    "+t._s(t.errorMessage)+"\n  ")]):i("div",[i("h2",[t._v(t._s(t.$t("Analytics")))]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],staticClass:"loading"}),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:!t.loading,expression:"!loading"}],ref:"chartContainer",staticClass:"analytics-totals"},[i("div",{staticClass:"analytics-wrapper"},[i("div",{staticClass:"analytics-label"},[t._v(t._s(t.$t("Total Downloads")))]),t._v(" "),i("div",{staticClass:"analytics-value"},[t._v(t._s(t.downloadsCount))])]),t._v(" "),i("div",{staticClass:"analytics-wrapper"},[i("div",{staticClass:"analytics-label"},[t._v(t._s(t.$t("Total Views")))]),t._v(" "),i("div",{staticClass:"analytics-value"},[t._v(t._s(t.viewsCount))])]),t._v(" "),i("div",{staticClass:"analytics-wrapper"},[i("div",{staticClass:"analytics-label"},[t._v(t._s(t.$t("Total Likes")))]),t._v(" "),i("div",{staticClass:"analytics-value"},[t._v(t._s(t.likesCount))])])])])])}),[],!1,null,null,null);e.a=p.exports},926:function(t,e,i){"use strict";var s=i(50),a=i(784),n=i(766),o=i(674),r=i(870),l=i(48),c=i(793),d=i(727),u=function(t,e,i,s){var a,n=arguments.length,o=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,s);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(o=(n<3?a(o):n>3?a(e,i,o):a(e,i))||o);return n>3&&o&&Object.defineProperty(e,i,o),o};let h=class CustomFieldList extends o.e{constructor(){super(...arguments),this.name="custom-field-list",this.updatedBaseFields=s.cloneDeep(this.baseFields),this.updatedCustomFields=s.cloneDeep(this.customFields),this.fieldCount=0,this.maxLabelLength=l.a.CUSTOM_FIELD_MAX_LENGTH}created(){this.fieldCount=this.baseFieldLength+this.customFields.length}beforeUpdate(){this.fieldCount=this.baseFieldLength+this.customFields.length}get canAddField(){return this.enableNewFields&&this.fieldCount<this.maxFieldCount}get showMaxFieldMessageOnFirstColumn(){return this.enableNewFields&&this.fieldCount===this.maxFieldCount}get baseFieldLength(){return Object.keys(this.baseFields).length}get maximumFieldsReachedMessage(){return this.$t("Maximum fields reached. To add another field, please remove an existing custom field.")}addCustomField(){this.customFields.push({label:"",value:"",validValue:!1,isLink:!1}),this.updatedCustomFields=s.cloneDeep(this.customFields),this.$emit("customFieldsChanged",this.updatedCustomFields),this.$refs.addFieldButton.blur()}removeCustomField(t){this.customFields.splice(t,1),this.updatedCustomFields=s.cloneDeep(this.customFields),this.$emit("customFieldsChanged",this.updatedCustomFields)}baseFieldChanged(){this.updatedBaseFields=s.cloneDeep(this.baseFields),this.$emit("predefinedFieldsChanged",this.updatedBaseFields)}customFieldChanged(){this.updatedCustomFields=s.cloneDeep(this.customFields),this.$emit("customFieldsChanged",this.updatedCustomFields)}calcCustomLabelStyle(t){return this.invalidLabelValue(t)?{"border-bottom":"1px solid #C81922"}:{}}labelSelectionUpdate(t,e){const i=s.cloneDeep(e);i.labelSelection=t,this.$set(this.updatedBaseFields,e.key,i),this.$emit("predefinedFieldsChanged",this.updatedBaseFields)}invalidFieldValue(t){return 0===t.value.trim().length}invalidLabelValue(t){return 0===t.label.trim().length}fetchValueErrorMsg(t){return this.invalidFieldValue(t)?this.$t(r.a.EMPTY):!1===t.validValue&&!0===t.isLink?this.$t(r.a.INVALID_URL):""}fetchLabelErrorMsg(t){return this.invalidLabelValue(t)?this.$t(r.a.EMPTY):""}predefinedKeyPress(t,e){e&&/[e+-]$/.test(t.key)&&t.preventDefault()}};u([Object(o.d)({required:!1,default:()=>({})})],h.prototype,"baseFields",void 0),u([Object(o.d)({required:!1,default:()=>[]})],h.prototype,"customFields",void 0),u([Object(o.d)({default:!0})],h.prototype,"enableNewFields",void 0),u([Object(o.d)({default:10})],h.prototype,"maxFieldCount",void 0),u([Object(o.d)({default:"",required:!1})],h.prototype,"customFieldInputPlaceholder",void 0),h=u([Object(o.a)({components:{AutoSizingInput:c.a,IconDelete:n.a,IconPlus:a.a,ItemSelector:d.a}})],h);var p=h,m=i(28),g=Object(m.a)(p,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"custom-field-list"},[i("div",{staticClass:"row"},[i("div",{staticClass:"fields-column-left columns"},[t._l(t.baseFields,(function(e,s){return i("div",{key:s,staticClass:"base-field"},[e.hasLabelDropdowns?i("item-selector",{staticClass:"label",attrs:{translateText:!0,items:e.labelOptions,value:e.labelSelection},on:{input:function(i){return t.labelSelectionUpdate(i,e)}}}):i("div",{staticClass:"label"},[t._v(t._s(e.label))]),t._v(" "),"checkbox"==(e.numeric?"number":"text")?i("input",{directives:[{name:"model",rawName:"v-model",value:e.viewValue,expression:"field.viewValue"}],class:{"invalid-input":!e.validValue},attrs:{step:e.numeric?"any":"",type:"checkbox"},domProps:{checked:Array.isArray(e.viewValue)?t._i(e.viewValue,null)>-1:e.viewValue},on:{input:function(e){return t.baseFieldChanged()},keypress:function(i){return t.predefinedKeyPress(i,e.numeric)},change:function(i){var s=e.viewValue,a=i.target,n=!!a.checked;if(Array.isArray(s)){var o=t._i(s,null);a.checked?o<0&&t.$set(e,"viewValue",s.concat([null])):o>-1&&t.$set(e,"viewValue",s.slice(0,o).concat(s.slice(o+1)))}else t.$set(e,"viewValue",n)}}}):"radio"==(e.numeric?"number":"text")?i("input",{directives:[{name:"model",rawName:"v-model",value:e.viewValue,expression:"field.viewValue"}],class:{"invalid-input":!e.validValue},attrs:{step:e.numeric?"any":"",type:"radio"},domProps:{checked:t._q(e.viewValue,null)},on:{input:function(e){return t.baseFieldChanged()},keypress:function(i){return t.predefinedKeyPress(i,e.numeric)},change:function(i){return t.$set(e,"viewValue",null)}}}):i("input",{directives:[{name:"model",rawName:"v-model",value:e.viewValue,expression:"field.viewValue"}],class:{"invalid-input":!e.validValue},attrs:{step:e.numeric?"any":"",type:e.numeric?"number":"text"},domProps:{value:e.viewValue},on:{input:[function(i){i.target.composing||t.$set(e,"viewValue",i.target.value)},function(e){return t.baseFieldChanged()}],keypress:function(i){return t.predefinedKeyPress(i,e.numeric)}}})],1)})),t._v(" "),t._l(t.customFields,(function(e,s){return i("div",{key:s,staticClass:"custom-field"},[i("div",{staticClass:"col"},[i("auto-sizing-input",{staticClass:"custom-label",attrs:{id:"custom-label-"+s,"max-length":t.maxLabelLength,tooltip:t.$t("Rename Label"),placeHolder:t.$t("New Label"),inputStyle:t.calcCustomLabelStyle(e)},on:{input:function(e){return t.customFieldChanged()}},model:{value:e.label,callback:function(i){t.$set(e,"label",i)},expression:"field.label"}}),t._v(" "),i("label",{staticClass:"error-msg"},[t._v(" "+t._s(t.fetchLabelErrorMsg(e))+" ")])],1),t._v(" "),i("div",{staticClass:"col"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"field.value"}],class:{"invalid-input":t.invalidFieldValue(e)},attrs:{type:"text",placeholder:t.customFieldInputPlaceholder},domProps:{value:e.value},on:{input:[function(i){i.target.composing||t.$set(e,"value",i.target.value)},function(e){return t.customFieldChanged()}]}}),t._v(" "),i("label",{staticClass:"error-msg value"},[t._v(" "+t._s(t.fetchValueErrorMsg(e))+" ")])]),t._v(" "),i("div",{staticClass:"delete-field",attrs:{title:t.$t("Delete Item")},on:{click:function(e){return t.removeCustomField(s)}}},[i("div",{staticClass:"svg-icon"},[i("IconDelete")],1)])])})),t._v(" "),t.enableNewFields?i("div",[t.canAddField?i("button",{ref:"addFieldButton",staticClass:"add-field",on:{click:t.addCustomField}},[t._v("\n          "+t._s(t.$t("Add Field"))+" "),i("IconPlus")],1):i("button",{staticClass:"add-field max-limit"},[t._v("\n          "+t._s(t.maximumFieldsReachedMessage)+"\n        ")])]):t._e()],2)])])}),[],!1,null,null,null);e.a=g.exports},927:function(t,e,i){"use strict";var s=i(873).a,a=i(28),n=Object(a.a)(s,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"userAnalytics",staticClass:"user-analytics"},[t.errorMessage?i("div",{staticClass:"error"},[t._v("\n    "+t._s(t.errorMessage)+"\n  ")]):i("div",{staticClass:"analytics-container"},[i("div",{directives:[{name:"show",rawName:"v-show",value:!t.loadingOverlay,expression:"!loadingOverlay"}],staticClass:"analytics-data"},[i("div",{staticClass:"top-row"},[i("user-analytics-total-metrics",{ref:"totalMetrics",attrs:{owner:t.owner,startDateNum:t.startDateNum,endDateNum:t.endDateNum,itemId:t.itemId,countryCode:t.countryCode,performAsFlag:!t.$isAdmin}}),t._v(" "),i("div",{staticClass:"filter-wrapper"},[i("h2",{staticClass:"filter-label"},[t._v("\n            "+t._s(t.rangeLabel)+"\n          ")]),t._v(" "),i("div",{staticClass:"filter-options"},[i("ol",{attrs:{id:"analytics-preset-date-list"}},[i("li",{staticClass:"link-button",class:{active:"day"===t.rangeType},attrs:{id:"last-day"},on:{click:function(e){return t.selectDefinedDateRange("day")}}},[t._v("\n                "+t._s(t.$t("Day"))+"\n              ")]),t._v(" "),i("li",{staticClass:"link-button",class:{active:"week"===t.rangeType},attrs:{id:"last-week"},on:{click:function(e){return t.selectDefinedDateRange("week")}}},[t._v("\n                "+t._s(t.$t("Week"))+"\n              ")]),t._v(" "),i("li",{staticClass:"link-button",class:{active:"month"===t.rangeType},attrs:{id:"last-month"},on:{click:function(e){return t.selectDefinedDateRange("month")}}},[t._v("\n                "+t._s(t.$t("Month"))+"\n              ")]),t._v(" "),i("li",{staticClass:"link-button",class:{active:"year"===t.rangeType},attrs:{id:"last-year"},on:{click:function(e){return t.selectDefinedDateRange("year")}}},[t._v("\n                "+t._s(t.$t("Year"))+"\n              ")]),t._v(" "),i("li",{staticClass:"link-button",class:{active:"custom"===t.rangeType},attrs:{id:"custom"},on:{click:function(e){return t.selectDefinedDateRange("custom")}}},[t._v("\n                "+t._s(t.$t("Custom"))+"\n              ")])])]),t._v(" "),i("div",{staticClass:"date-pickers"},[i("div",{staticClass:"filter-input"},[i("div",[i("date-picker",{attrs:{name:"startDateFilter",id:"startDateFilter",rangeFrom:t.earliestDate,rangeTo:t.latestDate},on:{input:t.changeStartDate},model:{value:t.startDate,callback:function(e){t.startDate=e},expression:"startDate"}})],1)]),t._v(" "),i("div",{staticClass:"right-arrow"}),t._v(" "),i("div",{staticClass:"filter-input"},[i("div",[i("date-picker",{attrs:{name:"endDateFilter",id:"endDateFilter",rangeFrom:t.earliestDate,rangeTo:t.latestDate},on:{input:t.changeEndDate},model:{value:t.endDate,callback:function(e){t.endDate=e},expression:"endDate"}})],1)])])])],1),t._v(" "),t.itemFilterLabel?i("div",{staticClass:"item-filter pillbox",on:{click:function(e){return t.changeItemFilter()}}},[i("div",{staticClass:"pillbox-label",attrs:{title:t.itemFilterLabel}},[t._v(t._s(t.itemFilterLabel))]),t._v(" "),i("div",{staticClass:"remove"},[t._v("×")])]):t._e(),t._v(" "),i("h2",{staticClass:"title"},[t._v(t._s(t.$t("Performance")))]),t._v(" "),i("user-analytics-line-chart",{ref:"lineChart",attrs:{performAsFlag:!t.$isAdmin,theme:this.theme}}),t._v(" "),t.showFullAnalytics?i("user-analytics-table",{ref:"table",attrs:{owner:t.owner,performAsFlag:!t.$isAdmin},on:{itemSelected:t.changeItemFilter}}):t._e(),t._v(" "),t.showFullAnalytics?i("user-analytics-geo-chart",{ref:"geoAnalytics",attrs:{performAsFlag:!t.$isAdmin},on:{countrySelected:t.changeCountry}}):t._e()],1),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.loadingOverlay,expression:"loadingOverlay"}],staticClass:"loading"})])])}),[],!1,null,null,null);e.a=n.exports},928:function(t,e,i){"use strict";var s=i(6),a=i.n(s),n=i(149),o=i(73),r=i(3),l=i(726),c=i(741);class ucm_collection_element_metadatavue_type_script_lang_ts_UcmCollectionElementMetadata extends a.a{constructor(){super(...arguments),this.name="collection-element-metadata",this.isMounted=!1,this.unitSelection=o.h(this.collectionElement),this.originalUnitSelection=this.unitSelection}beforeDestroy(){null!=this.statusModal&&(this.statusModal.$destroy(),this.statusModal=null)}openSaveStatusModal(){let t={currentState:r.StatusModalState.LoadingIndeterminate,loadDetTitle:this.$t("Saving"),loadDetMessage:this.$t("Saving your changes."),animationIn:l.a.SlideInUp};this.statusModal?(this.statusModal.resetModal(t),this.statusModal.openModal()):(this.statusModal=new c.a({store:this.$store,propsData:t}),this.statusModal.mountOnPage())}createPredefinedAttribute(t,e,i=!1,s=!0,a=!0){const n=a?this.$t(t):t,r=new o.c(t,n,e,i,s);return i?(r.converter=o.e,r.viewValue=o.f(e,this.isMetric,this.precision)):r.viewValue=e.toString(),r}get isMetric(){return o.k(this.unitSelection)}get precision(){return o.i(this.unitSelection)}predefinedFieldsAreValid(t){let e=!0;for(const i in t){const s=t[i];s.numeric&&null!==s.viewValue&&isNaN(+s.viewValue)?(s.validValue=!1,e&&(e=!1)):s.validValue=!0}return e}customFieldsAreValid(t){let e=!0;for(const i of t)this.isCustomFieldEntryValid(i.label)&&this.isCustomFieldEntryValid(i.value)?i.validValue=!0:(i.validValue=!1,e&&(e=!1));return e}isCustomFieldEntryValid(t){return 0!==t.trim().length}applyXXSProtection(t){return t.replace(/</g,"&lt;").replace(/>/g,"&gt;")}generateFields(t,e){const i=this.generatePredefinedFieldsAttributeCategory(t);return i.custom=this.generateCustomFieldsAttributeValue(e),i}generatePredefinedFieldsAttributeCategory(t){let e={};for(let i in t){const s=t[i];let a=null;null!=s.converter&&null!=s.viewValue?a=s.converter(this.applyXXSProtection(s.viewValue.trim()),o.k(this.unitSelection)):s.viewValue&&(a=this.applyXXSProtection(s.viewValue.trim())),e[i]=null==a?null:{dataType:s.numeric?"float":"string",value:a}}return e}generateCustomFieldsAttributeValue(t){return null!=t?{dataType:"string",value:JSON.stringify(t)}:null}generateLabels(t){let e={};for(let i in t){const s=t[i];null!=s.labelSelection&&(e[i]={dataType:"string",value:s.labelSelection})}return e}updatedFieldsToStoreValue(t,e){return{fields:this.generateFields(t,e),labels:this.generateLabels(t)}}processPromises(t){return Promise.all(t).then((()=>{n.l("editModel",["saveChanges","success"]),this.statusModal.loadPercent=100,this.statusModal.successMessage=this.$t("Your model was successfully updated! It may take a few minutes for the changes to show up everywhere."),this.statusModal.currentState=r.StatusModalState.Success,this.statusModal.acceptCallback=null,Promise.resolve()}),(()=>{n.l("editModel",["saveChanges","failure"]),this.statusModal.failureMessage=this.$t("Something went wrong while saving changes to your model. Please try again."),this.statusModal.failureTitle=this.$t("Something went wrong"),this.statusModal.currentState=r.StatusModalState.Failure,Promise.reject()}))}}var d=ucm_collection_element_metadatavue_type_script_lang_ts_UcmCollectionElementMetadata,u=i(28),h=Object(u.a)(d,undefined,undefined,!1,null,null,null);e.a=h.exports},931:function(t,e,i){},932:function(t,e,i){},933:function(t,e,i){"use strict";var s=i(6),a=i.n(s),n=i(674),o=function(t,e,i,s){var a,n=arguments.length,o=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,s);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(o=(n<3?a(o):n>3?a(e,i,o):a(e,i))||o);return n>3&&o&&Object.defineProperty(e,i,o),o};let r=class BoxSelector extends n.e{select(){}};o([Object(n.d)({default:!1})],r.prototype,"selected",void 0),o([Object(n.d)({default:!1})],r.prototype,"disabled",void 0),o([Object(n.d)({default:!0})],r.prototype,"centered",void 0),o([Object(n.b)("selected")],r.prototype,"select",null),r=o([Object(n.a)({components:{IconBlueCheckmark:{functional:!0,render:function(t,e){var i=e._c;return i("svg",{class:[e.data.class,e.data.staticClass],style:[e.data.style,e.data.staticStyle],attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"}},[i("g",{attrs:{fill:"none","fill-rule":"evenodd"}},[i("path",{attrs:{fill:"#009ad9",d:"M12 24C5.373 24 0 18.627 0 12S5.373 0 12 0s12 5.373 12 12-5.373 12-12 12z"}}),i("path",{attrs:{fill:"#FFF",d:"M7.775 12.112a1.022 1.022 0 0 0-1.47 0 1.086 1.086 0 0 0 0 1.509l2.6 2.667a1.021 1.021 0 0 0 1.445.025l7.8-7.467c.42-.401.442-1.076.05-1.507a1.022 1.022 0 0 0-1.47-.052L9.665 14.05l-1.89-1.938z"}})])])}}}})],r);var l=r,c=i(28),d=Object(c.a)(l,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"box-selector",class:{active:t.selected,disabled:t.disabled},on:{click:t.select}},[t._t("default"),t._v(" "),i("div",{class:{overlay:t.selected}},[t.selected?i("IconBlueCheckmark",{staticClass:"blue-check",class:{centered:t.centered}}):t._e()],1)],2)}),[],!1,null,"3d6f2d99",null).exports,u=function(t,e,i,s){var a,n=arguments.length,o=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,s);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(o=(n<3?a(o):n>3?a(e,i,o):a(e,i))||o);return n>3&&o&&Object.defineProperty(e,i,o),o};let h=class SelectAllCheckbox extends a.a{constructor(){super(...arguments),this.name="select-all-checkbox"}get isChecked(){return this.isAllSelected}get itemSelectedText(){return 1===this.selectedCount?this.$t("Item Selected"):this.$t("Items Selected")}get checkboxText(){return 0===this.selectedCount?this.$t("Select all"):`${this.selectedCount.toLocaleString()} ${this.itemSelectedText}`}setSelected(){this.$emit("setSelected",!this.isAllSelected)}};u([Object(n.d)()],h.prototype,"selectedCount",void 0),u([Object(n.d)({default:!1,required:!1})],h.prototype,"isAllSelected",void 0),h=u([Object(n.a)({components:{"box-selector":d}})],h);var p=h,m=Object(c.a)(p,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"select-all-checkbox"},[i("box-selector",{staticClass:"select-all-box-selector",attrs:{selected:t.isChecked},on:{selected:t.setSelected}}),t._v(" "),i("div",{staticClass:"selections"},[t._v("\n      "+t._s(t.checkboxText)+"\n    ")])],1)])}),[],!1,null,"137d9f59",null);e.a=m.exports},935:function(t,e,i){"use strict";var s=i(0),a=i(821),n=i(674),o=i(48),r=i(808),l=i(727),c=i(757),d=i(861),u=i(889),h=function(t,e,i,s){var a,n=arguments.length,o=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,s);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(o=(n<3?a(o):n>3?a(e,i,o):a(e,i))||o);return n>3&&o&&Object.defineProperty(e,i,o),o};let p=class UcmContentFolders extends u.a{constructor(){super(...arguments),this.name="ucm-content-folders",this.manageModeContext=o.e.COLLECTION_COLLECTIONS,this.elementCount=0}get privacyLevel(){return s.PrivacyLevel.Private}get totalItemLabel(){return this.$t("Folders")}get collectionCount(){return this.elementCount}getContentFilter(){const t=this.getCollectionFqArgs(this.collection.id);return this.buildSearchParams(t,this.privacyLevel)}};p=h([Object(n.a)({components:{IconAlert:a.a,BulkControls:d.a,ContentPresenter:r.a,ItemSelector:l.a,SortSelector:c.a}})],p);var m=p,g=i(28),v=Object(g.a)(m,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"ucm-content-folders ucm-content-base",attrs:{id:t.id}},[t.isSelecting?i("bulk-controls",{staticClass:"row columns",attrs:{id:t.bulkId,dataOwner:t.dataOwner,useRemove:!0,pageType:t.parentPageType,showAddToCollectionAction:!1,selectedContent:t.selectedContent,selectedContentCount:t.selectedContentCount,selectAllContent:t.selectAllContent,deleteHandler:t.confirmDeleteSelected}}):i("div",{staticClass:"info-row expanded row columns"},[i("div",{staticClass:"collection-count"},[t._v("\n      "+t._s(t.elementCount+" "+t.totalItemLabel)+"\n    ")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.filter,expression:"filter"}],staticClass:"filter",attrs:{id:"ucm-content-folders-filter",placeholder:t.$t("Filter"),type:"text",disabled:t.isLoading},domProps:{value:t.filter},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.checkFilter.apply(null,arguments)},input:function(e){e.target.composing||(t.filter=e.target.value)}}}),t._v(" "),i("sort-selector",{attrs:{id:"folders-sort",fields:t.sortFields},model:{value:t.sortSelection,callback:function(e){t.sortSelection=e},expression:"sortSelection"}})],1),t._v(" "),i("div",{staticClass:"presenter-info columns"},[i("div",{staticClass:"view-controls"},[i("div",{staticClass:"page-size-selector"},[i("item-selector",{attrs:{id:"page-size-list",title:t.$t("Page Size"),items:t.pageSizeFields},model:{value:t.pageSizeSelected,callback:function(e){t.pageSizeSelected=e},expression:"pageSizeSelected"}})],1)])]),t._v(" "),i("content-presenter",{ref:"ucmContent",attrs:{id:t.presenterId,scrollTrigger:t.presenterTrigger,type:"folders",filter:t.getContentFilter(),sortBy:t.sortBy,manageMode:!0,largerRows:!0,manageModeContext:t.manageModeContext,useRemove:!0,selectableCards:!0,hasSupplementalMenu:!0,actionCallback:t.presenterActionHandler,deleteCallback:t.deleteItemCallback,deleteBulkCallback:t.deleteBulkItemsCallback,hasVerifiedContent:t.hasVerifiedContent,isFolder:t.isParentFolder,privateMode:t.isPrivate,dataOwner:t.dataOwner,collectionId:t.collection.id,page:t.page,pageSize:t.pageSize}})],1)}),[],!1,null,"50d630e8",null);e.a=v.exports},936:function(t,e,i){"use strict";var s=i(835),a=i(893),n=i(6),o=i.n(n),r=i(674),l=i(48),c=i(3),d=i(9),u=i(881),h=function(t,e,i,s){var a,n=arguments.length,o=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,s);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(o=(n<3?a(o):n>3?a(e,i,o):a(e,i))||o);return n>3&&o&&Object.defineProperty(e,i,o),o};let p=class BannerImageField extends o.a{constructor(){super(...arguments),this.name="banner-image-field"}created(){if(null==this.collection&&null==this.dataOwner)throw new Error("Props collection and dataOwner cannot both be empty for component BannerImageField.")}beforeDestroy(){this.close()}close(){null!=this.uploadBanner&&(this.uploadBanner.$destroy(),this.uploadBanner=null)}get url(){return Object(d.m)(this.bannerUrl,this.$user,this.$context,!0)}changeBanner(t){var e;if(null!=this.uploadBanner)this.uploadBanner.reset(),this.uploadBanner.openModal();else{const t={isBanner:!0,collection:null,dataOwner:null,allowModelSelection:!1,binaryName:this.binaryName,width:c.Constants.CATALOG_BANNER_WIDTH,height:c.Constants.CATALOG_BANNER_HEIGHT,acceptCallback:this.acceptCallback,selectCallback:null!==(e=null==this?void 0:this.selectCallback)&&void 0!==e?e:this.defaultSelectCallback};t.collection=this.collection,t.dataOwner=this.dataOwner,this.uploadBanner=new u.a({store:this.$store,propsData:t}),this.uploadBanner.mountOnPage()}}defaultSelectCallback(){this.$eventBus.$emit(l.m.UPDATING_PAGE,!0),this.uploadBanner.dismiss()}};h([Object(r.d)({required:!0,default:""})],p.prototype,"bannerUrl",void 0),h([Object(r.d)({required:!0})],p.prototype,"binaryName",void 0),h([Object(r.d)()],p.prototype,"collection",void 0),h([Object(r.d)()],p.prototype,"dataOwner",void 0),h([Object(r.d)({default:()=>{}})],p.prototype,"acceptCallback",void 0),h([Object(r.d)()],p.prototype,"selectCallback",void 0),p=h([Object(r.a)({components:{IconEdit:s.a,IconPlaceholderPicture:a.a}})],p);var m=p,g=i(28),v=Object(g.a)(m,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"image-upload banner",on:{click:t.changeBanner}},[i("picture",[i("img",{attrs:{src:t.url,onerror:"this.style.display='none'",onload:"this.style.display='inline-block'"}})]),t._v(" "),i("IconPlaceholderPicture"),t._v(" "),i("div",{staticClass:"overlay"},[i("div",{staticClass:"overlay-text"},[i("div",{staticClass:"svg-icon"},[i("IconEdit")],1)])])],1)}),[],!1,null,"51495892",null);e.a=v.exports},941:function(t,e,i){"use strict";var s=i(785),a=i(784),n=i(6),o=i.n(n),r=i(674),l=i(71),c=i(48),d=i(3),u=i(895),h=i(786),p=i(0),m=i(887),g=i(2),v=i(151),f=i(7),C=i(874),b=i(808),y=i(933),w=i(726),_=i(757),T=function(t,e,i,s){var a,n=arguments.length,o=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,s);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(o=(n<3?a(o):n>3?a(e,i,o):a(e,i))||o);return n>3&&o&&Object.defineProperty(e,i,o),o},S=function(t,e,i,s){return new(i||(i=Promise))((function(a,n){function o(t){try{l(s.next(t))}catch(t){n(t)}}function r(t){try{l(s.throw(t))}catch(t){n(t)}}function l(t){var e;t.done?a(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,r)}l((s=s.apply(t,e||[])).next())}))};let E=class EditModelCatalogSectionModal extends w.b{constructor(){super(...arguments),this.isMounted=!1,this.manageModeContext=c.e.MODELS,this.viewType=d.CollectionElementViewTypes.GRID,this.listView=!1,this.filter="",this.titleQuery="",this.sortBy_=f.SortField.CreateTime+" "+f.SortDirection.Descending,this.modelsParams={recordEvent:!1},this.pageSizeInitial=d.PAGE_SIZES.SMALL,this.sortFields=[{value:f.SortField.CreateTime,label:this.$t("Date Added")},{value:f.SortField.ModifyTime,label:this.$t("Date Modified")},{value:f.SortField.Title,label:this.$t("Title")},{value:f.SortField.Popularity,label:this.$t("Popularity")},{value:f.SortField.ReviewCount,label:this.$t("Likes")}],this.listViewOpts={listHeaders:[],itemIndices:["image","title"],linkIndex:"title",imageIndex:"image",hasCheckbox:!0}}onTitleQueryChanged(){this.modelsParams=this.buildModelsParams()}get enableListView(){return this.$isAdmin||this.$inOrgContext}get sortSelection(){return this.sortBy_}set sortSelection(t){this.sortBy_!==t&&(this.sortBy_=t)}created(){this.modelsParams=this.buildModelsParams()}mounted(){this.isMounted=!0}reset(){this.viewType=d.CollectionElementViewTypes.GRID,this.listView=!1,this.filter="",this.titleQuery="",this.sortBy_=f.SortField.CreateTime+" "+f.SortDirection.Descending,this.pageSizeInitial=d.PAGE_SIZES.SMALL,this.modelsParams=this.buildModelsParams()}get allModelsSelected(){var t,e,i;return!0!==(null===(t=null==this?void 0:this.presenter)||void 0===t?void 0:t.isLoading)&&this.selected.length===(null===(e=null==this?void 0:this.presenter)||void 0===e?void 0:e.items.length)&&0!==(null===(i=null==this?void 0:this.presenter)||void 0===i?void 0:i.items.length)}get noModelsSelected(){return null==this.presenter||0===this.presenter.selections.length}buildModelsParams(){return{fq:[`creator.id==${this.catalog.creatorId}`,`parentCollectionId!=${this.section.id}`,this.titleQuery.split(" ").filter((t=>t)).map((t=>`title=like=${t}`)).join(";"),f.Constants.FqParameters.IS_PRODUCT].filter((t=>t)).join(";"),showBinaryMetadata:!0,recordEvent:!1}}get selectedModelCount(){return this.selected.length}get selected(){return null!=this.presenter?this.presenter.selections:[]}get presenter(){return this.isMounted?this.$refs.modelContent:null}beforeDestroy(){this.$el.remove()}closeAndReset(){this.closeModal()}toggleListView(){this.listView=!this.listView,this.viewType=this.listView?d.CollectionElementViewTypes.LIST:d.CollectionElementViewTypes.GRID}onSelectAll(t){t?this.selectAll():this.deselectAll()}selectAll(){this.presenter.selectAll()}deselectAll(){this.presenter.unSelectAll()}onDone(){return S(this,void 0,void 0,(function*(){this.$eventBus.$emit(c.m.UPDATING_PAGE,!0);const t=this.presenter.selections.map((t=>t.id));try{this.presenter.selections.length>0&&this.shouldSetDefaultThumbnail&&this.updateDefaultSectionThumbnail(this.presenter.selections[0]),yield this.$api.addCollectionChildren(this.section.id,t),null!=this.successCallback&&this.successCallback()}catch(t){this.$pushSnackbar(g.c.GENERIC_TRY_AGAIN,d.SnackbarMessageTypes.failure,d.SnackbarIcons.ALERT)}this.closeAndReset(),this.$eventBus.$emit(c.m.UPDATING_PAGE,!1)}))}updateDefaultSectionThumbnail(t){return S(this,void 0,void 0,(function*(){if(null!=Object(v.b)(this.section))return Promise.resolve();const e=Object(v.b)(t);return null!=e?(this.section.thumbnailUrl=e,yield this.$api.copyBinary(p.BinaryEndpoint.Collections,this.section.id,p.BinaryType.Small_Thumbnail_Bot,e)):Promise.resolve()}))}filterChanged(){this.titleQuery=this.filter.replace(/['#-]+/g," ").toLowerCase().trim()}get isSelecting(){return!0===this.isMounted&&null!==this.presenter&&this.presenter.selections.length>0}};T([Object(r.d)({required:!0})],E.prototype,"catalog",void 0),T([Object(r.d)({required:!0})],E.prototype,"dataOwner",void 0),T([Object(r.d)({required:!0})],E.prototype,"section",void 0),T([Object(r.d)({required:!1,default:null})],E.prototype,"successCallback",void 0),T([Object(r.d)({required:!0})],E.prototype,"shouldSetDefaultThumbnail",void 0),T([Object(r.f)("titleQuery")],E.prototype,"onTitleQueryChanged",null),E=T([Object(r.a)({components:{SelectAllCheckbox:y.a,ContentPresenter:b.a,IconSearch:m.a,ListViewToggle:C.a,SortSelector:_.a}})],E);var O=E,I=i(28),A=Object(I.a)(O,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"edit-catalog-section-modal modal-dialog reveal",attrs:{id:"edit-catalog-section-modal","data-reveal":"","data-close-on-click":"true","data-close-on-esc":"true","data-animation-in":"fade-in fast"}},[i("div",{staticClass:"header-bar"},[i("select-all-checkbox",{staticClass:"select-all-checkbox",attrs:{isAllSelected:t.allModelsSelected,selectedCount:t.selectedModelCount},on:{setSelected:t.onSelectAll}}),t._v(" "),i("div",{staticClass:"filter-container"},[i("div",{staticClass:"search-icon-container",on:{click:t.filterChanged}},[i("icon-search",{staticClass:"search-icon"})],1),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.filter,expression:"filter"}],staticClass:"edit-section-filter",attrs:{id:"edit-section-modal-model-filter",placeholder:t.$t("Filter products"),type:"text",autocomplete:"off"},domProps:{value:t.filter},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.filterChanged.apply(null,arguments)},input:function(e){e.target.composing||(t.filter=e.target.value)}}})]),t._v(" "),i("div",{staticClass:"action-buttons-container"},[i("button",{staticClass:"add-models-button primary",attrs:{disabled:t.noModelsSelected},on:{click:t.onDone}},[t._v("\n        "+t._s(t.$t("Add Products"))+"\n      ")]),t._v(" "),i("div",{staticClass:"close-modal-container"},[i("div",{staticClass:"close-modal-icon",on:{click:t.closeAndReset}})])])],1),t._v(" "),i("div",{staticClass:"content"},[i("div",{staticClass:"content-header"},[i("div",{staticClass:"adding-to-section"},[i("div",{staticClass:"adding-to-section-label"},[t._v("\n          "+t._s(t.$t("Adding to"))+":\n        ")]),t._v(" "),i("div",{staticClass:"adding-to-section-title"},[t._v("\n          "+t._s(t.section.title)+"\n        ")])]),t._v(" "),i("div",{staticClass:"content-header-controls"},[t.enableListView?i("list-view-toggle",{attrs:{hidden:t.isSelecting,viewType:t.viewType},on:{"toggle-grid":t.toggleListView}}):t._e(),t._v(" "),i("sort-selector",{attrs:{id:"edit-section-model-sort",fields:t.sortFields},model:{value:t.sortSelection,callback:function(e){t.sortSelection=e},expression:"sortSelection"}})],1)]),t._v(" "),i("content-presenter",{ref:"modelContent",staticClass:"selecting modal-content-presenter",attrs:{id:"edit-catalog-section-modal",type:"models",filter:t.modelsParams,sortBy:t.sortSelection,scrollTrigger:"#edit-catalog-section-modal",manageMode:!0,largerRows:!0,manageModeContext:t.manageModeContext,page:0,pageSize:t.pageSizeInitial,selectableCards:!0,dataOwner:t.dataOwner,showAuthorNames:!1,view:t.viewType,listViewOpts:t.listViewOpts,hasSupplementalMenu:!1,alwaysSelectable:!0,useRouter:!1}})],1)])}),[],!1,null,"7e7d5272",null),D=A.exports,M=i(861),k=i(889),L=function(t,e,i,s){var a,n=arguments.length,o=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,s);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(o=(n<3?a(o):n>3?a(e,i,o):a(e,i))||o);return n>3&&o&&Object.defineProperty(e,i,o),o},$=function(t,e,i,s){return new(i||(i=Promise))((function(a,n){function o(t){try{l(s.next(t))}catch(t){n(t)}}function r(t){try{l(s.throw(t))}catch(t){n(t)}}function l(t){var e;t.done?a(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,r)}l((s=s.apply(t,e||[])).next())}))};let x=class UcmEditCatalogEditSectionContent extends k.a{constructor(){super(...arguments),this.name="ucm-edit-catalog-edit-section-content"}mounted(){return $(this,void 0,void 0,(function*(){this.$emit("mounted")}))}getFilter(){return{fq:[`parentCollectionId==${this.$route.query.itemId}`].filter((t=>t)).join(";"),showBinaryMetadata:!0,recordEvent:!1,show:p.PrivacyLevel.All,contentType:p.ContentType.Warehouse3D}}get useDirectApi(){return!1}get showBulkControls(){var t,e;return(null===(e=null===(t=this.presenter)||void 0===t?void 0:t.selections)||void 0===e?void 0:e.length)>0}reloadContentPresenter(){var t;null===(t=this.presenter)||void 0===t||t.reset()}get isPresenterLoading(){var t;return null===(t=this.presenter)||void 0===t?void 0:t.isLoading}};x=L([Object(r.a)({components:{BulkControls:M.a,ContentPresenter:b.a}})],x);var P=x,R=Object(I.a)(P,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"section-content-presenter"}},[i("div",{staticClass:"bulk-controls-container"},[t.showBulkControls?i("bulk-controls",{staticClass:"row columns",attrs:{id:"edit-section",dataOwner:t.dataOwner,useRemove:!0,pageType:t.parentPageType,selectedContent:t.selectedContent,selectedContentCount:t.selectedContentCount,showFavorites:!1,showAddToCollectionAction:!1,showAddToFolderAction:!1,selectAllContent:t.selectAllContent,deleteHandler:t.confirmDeleteSelected}}):t._e()],1),t._v(" "),i("content-presenter",{ref:"ucmContent",attrs:{id:"edit-section",type:"models",actionCallback:t.presenterActionHandler,collectionId:t.$route.query.itemId,dataOwner:t.dataOwner,deleteBulkCallback:t.deleteBulkItemsCallback,deleteCallback:t.deleteItemCallback,filter:t.getFilter(),hasVerifiedContent:t.hasVerifiedContent,largerRows:!0,manageMode:!0,manageModeContext:t.manageModeContext,page:t.page,pageSize:t.pageSize,selectableCards:!0,useRemove:!0,useDirectApi:t.useDirectApi}})],1)}),[],!1,null,"e10bebe2",null).exports,N=function(t,e,i,s){var a,n=arguments.length,o=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,s);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(o=(n<3?a(o):n>3?a(e,i,o):a(e,i))||o);return n>3&&o&&Object.defineProperty(e,i,o),o},U=function(t,e,i,s){return new(i||(i=Promise))((function(a,n){function o(t){try{l(s.next(t))}catch(t){n(t)}}function r(t){try{l(s.throw(t))}catch(t){n(t)}}function l(t){var e;t.done?a(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,r)}l((s=s.apply(t,e||[])).next())}))};let F=class UcmEditCatalogEditSectionGeneral extends o.a{constructor(){super(...arguments),this.name="ucm-edit-catalog-edit-section-general",this.pageType=c.p.EDITCATALOG,this.createIconHover=!1,this.sectionTitle="",this.sectionDescription="",this.contentVersion=0,this.isSectionEmpty=!0,this.hasSectionThumbnailChanged=!1,this.contentChanged=!1,this.numTags=0,this.validTagLengths=!0,this.maxDescriptionLength=d.Constants.SECTION_DESCRIPTION_MAX_LENGTH,this.maxTitleLength=d.Constants.ITEM_TITLE_MAX_LENGTH,this.sectionPresenter=null,this.isTitleValid=!1,this.isDescriptionValid=!1}onTitleChanged(){this.onFieldsChanged();const t=this.sectionTitle.trim();this.isTitleValid=""!==t&&t.length<=this.maxTitleLength}onDescriptionChanged(){this.onFieldsChanged();const t=this.sectionDescription.trim(),e=l.a(t);this.validTagLengths=l.d(e),this.numTags=e.length,this.isDescriptionValid=""!==t&&t.length<=this.maxDescriptionLength&&e.length<=d.Constants.MAXIMUM_HASHTAGS&&this.validTagLengths}created(){return U(this,void 0,void 0,(function*(){this.setupComponentState()}))}reset(){}beforeDestroy(){this.close()}close(){this.destroyEditModelCatalogSectionModal()}get isEdited(){return this.sectionTitle.trim()!==this.section.title.trim()||this.sectionDescription.trim()!==this.section.description.trim()}get fieldsAreValid(){return this.isTitleValid&&this.isDescriptionValid}getDataToSave(){}processSaveChangesCallback(){}get sectionContentVersion(){return this.isDirectDatabaseGetEnabled?"section-content-version-"+this.contentVersion:"section-content-version-0"}get dataOwner(){return this.$store.getters.currentSubjectOwner}get isDirectDatabaseGetEnabled(){return!1}get shouldSetDefaultThumbnail(){return!this.hasSectionThumbnailChanged&&!this.contentChanged}get tooManyHashtags(){return this.numTags>d.Constants.MAXIMUM_HASHTAGS}addModels(){this.showEditModelCatalogSectionModal()}setupComponentState(){this.sectionTitle=this.workingSection.title,this.sectionDescription=this.workingSection.description,this.isSectionEmpty=this.section.entityCount<=0}onFieldsChanged(){this.workingSection.title=this.sectionTitle,this.workingSection.description=this.sectionDescription,this.$emit("sync-working-section",this.workingSection)}get descriptionInputText(){return this.tooManyHashtags?this.$t("Invalid Description. You can use up to {maxHashTags} hashtags.",{maxHashTags:d.Constants.MAXIMUM_HASHTAGS.toString()}):!1===this.validTagLengths?this.$t("Invalid Description. Hashtags can be at most {hashtagSize} characters.",{hashtagSize:d.Constants.MAXIMUM_HASHTAG_SIZE.toString()}):this.$t("Description")+"*"}showEditModelCatalogSectionModal(){this.destroyEditModelCatalogSectionModal(),this.editModelCatalogSectionModal=new D({store:this.$store,propsData:{catalog:this.catalog,dataOwner:this.dataOwner,shouldSetDefaultThumbnail:this.shouldSetDefaultThumbnail,section:this.section,successCallback:this.addedModels}}),this.editModelCatalogSectionModal.mountOnPage(),this.editModelCatalogSectionModal.openModal()}addedModels(){this.contentChanged=!0,this.isSectionEmpty=!1,this.isDirectDatabaseGetEnabled&&(this.contentVersion=this.contentVersion+1)}destroyEditModelCatalogSectionModal(){null!=this.editModelCatalogSectionModal&&(this.editModelCatalogSectionModal.$destroy(),this.editModelCatalogSectionModal=null)}onSectionPresenterMounted(){this.sectionPresenter=this.$refs.sectionContent}refreshSectionModels(){!1===this.isPresenterLoading&&this.sectionPresenter.reloadContentPresenter()}get isPresenterLoading(){var t,e;return null===(e=null===(t=this.sectionPresenter)||void 0===t?void 0:t.isPresenterLoading)||void 0===e||e}acceptThumbnailUpload(){this.hasSectionThumbnailChanged=!0,this.section.missingCustomImageBinary=!1,this.$eventBus.$emit(c.m.UPDATING_PAGE,!1),this.$eventBus.$emit(d.Events.UPDATE_THUMBNAIL,this.section,this.section)}selectThumbnail(){this.$eventBus.$emit(c.m.UPDATING_PAGE,!0)}thumbnailError(){this.$eventBus.$emit(c.m.UPDATING_PAGE,!1)}};N([Object(r.d)({required:!0})],F.prototype,"section",void 0),N([Object(r.d)({required:!0})],F.prototype,"workingSection",void 0),N([Object(r.d)({required:!0})],F.prototype,"catalog",void 0),N([Object(r.f)("sectionTitle")],F.prototype,"onTitleChanged",null),N([Object(r.f)("sectionDescription")],F.prototype,"onDescriptionChanged",null),F=N([Object(r.a)({components:{CharactersRemaining:h.a,CollectionElementThumbnailSelector:u.a,EditModelCatalogSectionModal:D,IconCreateFill:s.a,IconCreateOutline:a.a,IconRefresh:{functional:!0,render:function(t,e){var i=e._c;return i("svg",{class:[e.data.class,e.data.staticClass],style:[e.data.style,e.data.staticStyle],attrs:{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"}},[i("path",{attrs:{fill:"#595868","fill-rule":"nonzero",d:"M17.645 6.35A7.958 7.958 0 0011.995 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08a5.99 5.99 0 01-5.65 4c-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L12.995 11h7V4l-2.35 2.35z"}})])}},UcmEditCatalogEditSectionContent:R}})],F);var B=F,j=Object(I.a)(B,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"ucm-edit-catalog-edit-section-general"},[i("div",{staticClass:"section-thumbnail"},[i("div",{staticClass:"input-label"},[t._v("\n      "+t._s(t.$t("Thumbnail"))+"\n    ")]),t._v(" "),i("collection-element-thumbnail-selector",{attrs:{collectionElement:t.section,acceptCallback:t.acceptThumbnailUpload,selectCallback:t.selectThumbnail,errorCallback:t.thumbnailError}})],1),t._v(" "),i("div",{staticClass:"section-title"},[i("div",{staticClass:"input-label"},[t._v("\n      "+t._s(t.$t("Title"))+"*\n      "),i("characters-remaining",{attrs:{characterCount:t.sectionTitle.length,maxAllowed:t.maxTitleLength}})],1),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.sectionTitle,expression:"sectionTitle"}],class:{"input-field-error-bar":!t.isTitleValid},attrs:{type:"text",id:"catalog-edit-section-title",placeholder:t.sectionTitle,maxlength:t.maxTitleLength},domProps:{value:t.sectionTitle},on:{input:function(e){e.target.composing||(t.sectionTitle=e.target.value)}}})]),t._v(" "),i("div",{staticClass:"section-description"},[i("div",{staticClass:"input-label",class:{"invalid-input":t.tooManyHashtags||!t.validTagLengths}},[t._v("\n      "+t._s(t.descriptionInputText)+"\n      "),i("characters-remaining",{attrs:{characterCount:t.sectionDescription.length,maxAllowed:t.maxDescriptionLength}})],1),t._v(" "),i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.sectionDescription,expression:"sectionDescription"}],staticClass:"description-input",class:{"input-field-error-bar":!t.isDescriptionValid},attrs:{maxlength:t.maxDescriptionLength},domProps:{value:t.sectionDescription},on:{input:function(e){e.target.composing||(t.sectionDescription=e.target.value)}}})]),t._v(" "),i("div",{staticClass:"title"},[t._v("\n    "+t._s(t.$t("Products"))+"\n    "),i("span",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.$t("Add Products"),expression:"$t('Add Products')"}],staticClass:"svg-icon",attrs:{id:"add-section-icon"},on:{mouseover:function(e){t.createIconHover=!0},mouseout:function(e){t.createIconHover=!1},click:t.addModels}},[t.createIconHover?i("IconCreateFill",{staticClass:"icon-fill"}):i("IconCreateOutline")],1),t._v(" "),t.contentChanged&&!t.isDirectDatabaseGetEnabled?i("div",{staticClass:"content-change-messaging"},[t._v("\n      "+t._s(t.$t("It may take a few minutes before the models you've added show up in this section. Try clicking the refresh button to the right."))+"\n    ")]):t._e(),t._v(" "),t.isDirectDatabaseGetEnabled?t._e():i("div",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.$t("Refresh Section"),expression:"$t('Refresh Section')"}],staticClass:"refresh-button",class:{disabled:t.isPresenterLoading},on:{click:t.refreshSectionModels}},[i("IconRefresh",{staticClass:"svg-icon"})],1)]),t._v(" "),i("div",{staticClass:"models-container"},[t.isSectionEmpty?i("div",{staticClass:"default-models model"},[t._v("\n      "+t._s(t.$t("Currently there are no products in this section."))+"\n      "),i("div",{staticClass:"add-models",attrs:{id:"add-models-button"},on:{click:t.addModels}},[t._v("\n        "+t._s(t.$t("Add Products"))+"\n      ")])]):i("div",[i("ucm-edit-catalog-edit-section-content",{key:t.sectionContentVersion,ref:"sectionContent",attrs:{collection:t.section,dataOwner:t.dataOwner,parentPageType:t.pageType},on:{mounted:t.onSectionPresenterMounted}})],1)])])}),[],!1,null,"6bffb385",null);e.a=j.exports},942:function(t,e,i){"use strict";var s=i(50),a=i(0),n=i(785),o=i(784),r=i(6),l=i.n(r),c=i(674),d=i(879),u=i(2),h=i(48),p=i(3),m=i(154),g=i(895),v=i(779),f=i(786),C=function(t,e,i,s){var a,n=arguments.length,o=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,s);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(o=(n<3?a(o):n>3?a(e,i,o):a(e,i))||o);return n>3&&o&&Object.defineProperty(e,i,o),o};let b=class UcmEditCatalogFeaturedContentSection extends l.a{constructor(){super(...arguments),this.name="ucm-edit-catalog-featured-content-section",this.descMaxLen=p.Constants.FEATURED_CONTENT_DESCRIPTION_MAX_LENGTH,this.descCharsRemaining=p.Constants.FEATURED_CONTENT_DESCRIPTION_MAX_LENGTH,this.titleMaxLen=p.Constants.ITEM_TITLE_MAX_LENGTH,this.featuredContentThumbnailHeight=m.b.FEATURED_CONTENT_CUSTOM_HEIGHT,this.featuredContentThumbnailWidth=m.b.FEATURED_CONTENT_CUSTOM_WIDTH,this.title="",this.description=""}beforeDestroy(){null!=this.confirmModal&&(this.confirmModal.$destroy(),this.confirmModal=null)}created(){this.setupComponentState()}mounted(){this.$watch("title",(()=>{this.onFieldsChanged()})),this.$watch("description",(()=>{this.onFieldsChanged()}))}updated(){this.setupComponentState()}reset(){}close(){this.confirmModal&&(this.confirmModal.$destroy(),this.confirmModal=null)}getDataToSave(){}processSaveChangesCallback(){}get isTitleValid(){const t=this.title.trim();return""!==t&&t.length<=this.titleMaxLen}get isDescriptionValid(){const t=this.description.trim();return""!==t&&t.length<=this.descMaxLen}get descriptionPlaceholder(){return this.$t("Enter Description...")}get titlePlaceholder(){return this.$t("Enter Title...")}get descriptionLen(){return null!=this.featuredContent.description?this.featuredContent.description.length:0}get thumbnailBinaryName(){return 1===this.featuredContent.index?a.BinaryType.Featured_Content_Thumb_1:a.BinaryType.Featured_Content_Thumb_2}get thumbnailUrl(){return this.featuredContent.thumbnailUrl}get fieldsAreValid(){return this.isTitleValid&&this.isDescriptionValid}get isEdited(){return this.description.trim()!==this.originalFeaturedContent.description.trim()||this.title.trim()!==this.originalFeaturedContent.title.trim()}checkDescription(){this.descCharsRemaining=this.descMaxLen-this.descriptionLen}setupComponentState(){var t,e;this.title=null!==(t=this.featuredContent.title)&&void 0!==t?t:"",this.description=null!==(e=this.featuredContent.description)&&void 0!==e?e:""}onFieldsChanged(){this.$emit(p.Events.UPDATE_FEATURED_CONTENT,this.featuredContent.index,this.title,this.description,this.thumbnailUrl)}deleteFeaturedContentSection(){this.$emit(p.Events.GENERIC_DELETE,this.position)}confirmDelete(){const t=this.$t("Delete"),e=this.$t("You’re about to delete a Featured Content Section. This action cannot be undone."),i=this.deleteFeaturedContentSection;null!=this.confirmModal?(this.confirmModal.acceptCallback=i,this.confirmModal.cancelCallback=null,this.confirmModal.confirmButtonText=t,this.confirmModal.message=e,this.confirmModal.cancelButton=!0,this.confirmModal.openModal(),this.confirmModal.icon=v.a.Alert):(this.confirmModal=new v.b({store:this.$store,propsData:{acceptCallback:i,cancelCallback:null,confirmButtonText:t,isOverModal:!0,cancelButton:!0,message:e,icon:v.a.Alert}}),this.confirmModal.mountOnPage())}acceptThumbnailUpload(t){this.$emit(p.Events.UPDATE_FEATURED_CONTENT,this.featuredContent.index,this.title,this.description,t),this.$eventBus.$emit(h.m.UPDATING_PAGE,!1)}selectThumbnail(){this.$eventBus.$emit(h.m.UPDATING_PAGE,!0)}thumbnailError(){this.$eventBus.$emit(h.m.UPDATING_PAGE,!1)}};C([Object(c.d)({required:!0})],b.prototype,"workingCatalog",void 0),C([Object(c.d)({required:!0})],b.prototype,"featuredContent",void 0),C([Object(c.d)({required:!0})],b.prototype,"originalFeaturedContent",void 0),C([Object(c.d)({required:!0})],b.prototype,"position",void 0),b=C([Object(c.a)({components:{CharactersRemaining:f.a,CollectionElementThumbnailSelector:g.a,IconDelete:{functional:!0,render:function(t,e){var i=e._c;return i("svg",{class:[e.data.class,e.data.staticClass],style:[e.data.style,e.data.staticStyle],attrs:{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"24",height:"24",viewBox:"0 0 24 24"}},[i("g",{attrs:{fill:"none","fill-rule":"evenodd"}},[i("path",{attrs:{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}})])])}}}})],b);var y=b,w=i(28),_=Object(w.a)(y,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"ucm-edit-catalog-featured-content-section"},[i("div",{staticClass:"featured-content-column inputs"},[i("div",{staticClass:"featured-content-title"},[i("div",{staticClass:"input-label"},[t._v("\n        "+t._s(t.$t("Title"))+"*\n        "),i("characters-remaining",{attrs:{characterCount:t.title.length,maxAllowed:t.titleMaxLen}})],1),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],class:{"input-field-error-bar":!t.isTitleValid},attrs:{type:"text",id:"featured-content-title-"+t.featuredContent.index,placeholder:t.titlePlaceholder,maxlength:t.titleMaxLen},domProps:{value:t.title},on:{input:function(e){e.target.composing||(t.title=e.target.value)}}})]),t._v(" "),i("div",{staticClass:"featured-content-description"},[i("div",{staticClass:"input-label description-label"},[t._v("\n        "+t._s(t.$t("Description"))+"*\n        "),i("characters-remaining",{attrs:{characterCount:t.description.length,maxAllowed:t.descMaxLen}})],1),t._v(" "),i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.description,expression:"description"}],class:{"input-field-error-bar":!t.isDescriptionValid},attrs:{name:"featured-content-description",id:"featured-content-description-input-"+t.featuredContent.id,tabindex:"0",maxlength:t.descMaxLen,placeholder:t.descriptionPlaceholder},domProps:{value:t.description},on:{input:[function(e){e.target.composing||(t.description=e.target.value)},t.checkDescription]}})])]),t._v(" "),i("div",{staticClass:"featured-content-column"},[i("div",{staticClass:"featured-content-actions"},[i("div",{staticClass:"action-icon",on:{click:t.confirmDelete}},[i("IconDelete")],1)]),t._v(" "),i("collection-element-thumbnail-selector",{attrs:{collectionElement:t.workingCatalog,binaryName:t.thumbnailBinaryName,customUrl:t.thumbnailUrl,allowModelSelection:!1,customThumbnailMaxHeight:t.featuredContentThumbnailHeight,customThumbnailMaxWidth:t.featuredContentThumbnailWidth,acceptCallback:t.acceptThumbnailUpload,selectCallback:t.selectThumbnail,errorCallback:t.thumbnailError}})],1)])}),[],!1,null,"f0507ae2",null).exports,T=function(t,e,i,s){var a,n=arguments.length,o=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,s);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(o=(n<3?a(o):n>3?a(e,i,o):a(e,i))||o);return n>3&&o&&Object.defineProperty(e,i,o),o},S=function(t,e,i,s){return new(i||(i=Promise))((function(a,n){function o(t){try{l(s.next(t))}catch(t){n(t)}}function r(t){try{l(s.throw(t))}catch(t){n(t)}}function l(t){var e;t.done?a(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,r)}l((s=s.apply(t,e||[])).next())}))};let E=class UcmEditCatalogFeaturedContent extends l.a{constructor(){super(...arguments),this.name="ucm-edit-catalog-featured-content",this.createIconHover=!1,this.items=[]}onFeaturedContentsChanged(){this.setupComponentState()}created(){this.setupComponentState()}mounted(){this.$emit("mounted")}setupComponentState(){this.items=[];const t=s.cloneDeep(this.workingCatalog.getFeaturedContentByIndex(1)),e=s.cloneDeep(this.catalog.getFeaturedContentByIndex(1));null!=t&&this.items.push({featuredContent:t,originalFeaturedContent:e});const i=s.cloneDeep(this.workingCatalog.getFeaturedContentByIndex(2)),a=s.cloneDeep(this.catalog.getFeaturedContentByIndex(2));null!=i&&this.items.push({featuredContent:i,originalFeaturedContent:a}),this.isFeaturedContentReversed&&this.items.reverse()}reset(){}close(){for(const t in this.$refs){const e=this.$refs[t][0];null!=(null==e?void 0:e.close)&&e.close()}}get featuredContents(){return this.workingCatalog.getFeaturedContent()}get isFeaturedContentEmpty(){return 0===this.items.length}get isFeaturedContentFull(){return 2===this.items.length}get isEdited(){for(let t=0;t<this.items.length;t++){const e=`featured-content-section-${t}`;if(this.$refs[e][0].isEdited)return!0}return!1}get fieldsAreValid(){for(let t=0;t<this.items.length;t++){const e=`featured-content-section-${t}`;if(!1===this.$refs[e][0].fieldsAreValid)return!1}return!0}get isContentOwner(){return this.$user.id===this.dataOwner.id}createFeaturedContent(){return S(this,void 0,void 0,(function*(){if(this.$eventBus.$emit(h.m.UPDATING_PAGE,!0),!1===this.isFeaturedContentFull){let t=this.getNewIndex();const e=new d.a(this.catalog.id,t,"","");try{yield this.patchFeaturedContentText(this.catalog.id,e,t),this.catalog.addFeaturedContent(e);const i=s.cloneDeep(e);this.workingCatalog.addFeaturedContent(i),this.$emit("sync-catalog",this.catalog),this.$emit("sync-working-catalog",this.workingCatalog)}catch(t){this.$pushSnackbar(u.c.GENERIC_TRY_AGAIN,p.SnackbarMessageTypes.failure,p.SnackbarIcons.ALERT)}}this.$eventBus.$emit(h.m.UPDATING_PAGE,!1)}))}getNewIndex(){return 0===this.items.length?1:1===this.items.length?this.isFeaturedContentReversed?1:2:-1}handleDataChange(t,e,i,s){this.workingCatalog.updateFeaturedContent(t,e,i,s),this.$emit("sync-working-catalog",this.workingCatalog)}handleFeaturedContentDelete(t){return S(this,void 0,void 0,(function*(){this.$eventBus.$emit(h.m.UPDATING_PAGE,!0);const e=this.items[t].featuredContent;let i=!1;t===this.items.length-1&&1!==this.items.length||(i=!0);try{if(yield this.deleteFeaturedContentText(this.catalog.id,e.index),null!=e.thumbnailUrl&&""!=e.thumbnailUrl){const t=1===e.index?a.BinaryType.Featured_Content_Thumb_1:a.BinaryType.Featured_Content_Thumb_2;yield this.$api.deleteCollectionBinary(this.catalog.id,t)}if(i){let t=!this.isFeaturedContentReversed;1===this.items.length&&(t=!1);const e={endpoint:a.AttributeEndpoint.Collections,subjectId:this.catalog.id,category:"flags",name:"isFeaturedContentReversed",value:t,dataType:"boolean"};this.$api.setAttribute(e),t!=this.isFeaturedContentReversed&&this.$emit("reverse-featured-content")}this.catalog.deleteFeaturedContent(e.index),this.workingCatalog.deleteFeaturedContent(e.index),this.items.splice(t,1),this.$emit("sync-catalog",this.catalog),this.$emit("sync-working-catalog",this.workingCatalog)}catch(t){this.$pushSnackbar(u.c.FAILED_TO_DELETE,p.SnackbarMessageTypes.failure,p.SnackbarIcons.ALERT)}this.$eventBus.$emit(h.m.UPDATING_PAGE,!1)}))}getCustomStringNameTitle(t){return t===d.c.FIRST?d.b.TITLE_1:d.b.TITLE_2}getCustomStringNameText(t){return t===d.c.FIRST?d.b.TEXT_1:d.b.TEXT_2}patchFeaturedContentText(t,e,i){return S(this,void 0,void 0,(function*(){const s=this.getCustomStringNameTitle(i),a=this.getCustomStringNameText(i),n={};n[s]=e.title,n[a]=e.description,this.$api.patchCollectionCustomStrings(t,n)}))}deleteFeaturedContentText(t,e){return S(this,void 0,void 0,(function*(){const i=this.getCustomStringNameTitle(e),s=this.getCustomStringNameText(e),a={};a[i]=null,a[s]=null,this.$api.patchCollectionCustomStrings(t,a)}))}};T([Object(c.d)({required:!0})],E.prototype,"catalog",void 0),T([Object(c.d)({required:!0})],E.prototype,"workingCatalog",void 0),T([Object(c.d)({required:!0})],E.prototype,"isFeaturedContentReversed",void 0),T([Object(c.d)()],E.prototype,"dataOwner",void 0),T([Object(c.f)("featuredContents")],E.prototype,"onFeaturedContentsChanged",null),E=T([Object(c.a)({components:{IconCreateFill:n.a,IconCreateOutline:o.a,UcmEditCatalogFeaturedContentSection:_}})],E);var O=E,I=Object(w.a)(O,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"ucm-edit-catalog-featured-content"},[i("div",{staticClass:"tab-title"},[t._v("\n    "+t._s(t.$t("Featured Content"))+"\n    "),!t.isContentOwner&&!t.$inOrgContext||t.isFeaturedContentFull?t._e():i("span",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.$t("Create Featured Content"),expression:"$t('Create Featured Content')"}],staticClass:"svg-icon",on:{mouseover:function(e){t.createIconHover=!0},mouseout:function(e){t.createIconHover=!1},click:t.createFeaturedContent}},[t.createIconHover?i("IconCreateFill",{staticClass:"icon-fill"}):i("IconCreateOutline")],1)]),t._v(" "),i("div",{staticClass:"tab-description"},[t._v("\n    "+t._s(t.$t("You may include two (2) sections of featured content on your catalog landing page."))+"\n  ")]),t._v(" "),t.isFeaturedContentEmpty?i("div",{staticClass:"empty-message-container"},[i("div",{staticClass:"empty-message"},[t._v(t._s(t.$t("Currently you do not have any featured content sections.")))]),t._v(" "),i("div",{staticClass:"empty-action",on:{click:t.createFeaturedContent}},[t._v("\n      "+t._s(t.$t("Add Featured Content"))+"\n    ")])]):i("div",t._l(t.items,(function(e,s){return i("ucm-edit-catalog-featured-content-section",{key:"featured-content-section-"+s,ref:"featured-content-section-"+s,refInFor:!0,attrs:{featuredContent:e.featuredContent,originalFeaturedContent:e.originalFeaturedContent,position:s,workingCatalog:t.workingCatalog},on:{delete:function(e){return t.handleFeaturedContentDelete(s)},"featured-content-change":t.handleDataChange}})})),1)])}),[],!1,null,"06f51ca7",null);e.a=I.exports},943:function(t,e,i){"use strict";var s=i(0),a=i(785),n=i(784),o=i(674),r=i(690),l=i.n(r),c=i(892),d=i(2),u=i(890),h=i(151),p=i(48),m=i(3),g=i(9),v=i(779),f=i(807),C=i(778),b=i(809),y=i(887),w=i(7),_=i(874),T=i(808),S=i(933),E=i(725),O=i(757),I=function(t,e,i,s){var a,n=arguments.length,o=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,s);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(o=(n<3?a(o):n>3?a(e,i,o):a(e,i))||o);return n>3&&o&&Object.defineProperty(e,i,o),o},A=function(t,e,i,s){return new(i||(i=Promise))((function(a,n){function o(t){try{l(s.next(t))}catch(t){n(t)}}function r(t){try{l(s.throw(t))}catch(t){n(t)}}function l(t){var e;t.done?a(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,r)}l((s=s.apply(t,e||[])).next())}))};let D=class CollectionConversionModal extends E.a{constructor(){super(...arguments),this.isMounted=!1,this.manageModeContext=p.e.MODELS,this.viewType=m.CollectionElementViewTypes.GRID,this.filter="",this.titleQuery="",this.sortBy_=w.SortField.CreateTime+" "+w.SortDirection.Descending,this.collectionsParams={recordEvent:!1},this.pageSizeInitial=m.PAGE_SIZES.SMALL,this.sortFields=[{value:w.SortField.CreateTime,label:this.$t("Date Added")},{value:w.SortField.ModifyTime,label:this.$t("Date Modified")},{value:w.SortField.Title,label:this.$t("Title")},{value:w.SortField.Popularity,label:this.$t("Popularity")},{value:w.SortField.ReviewCount,label:this.$t("Likes")}],this.listViewOpts={listHeaders:[],itemIndices:["image","title"],linkIndex:"title",imageIndex:"image",hasCheckbox:!0}}onTitleQueryChanged(){this.collectionsParams=this.buildCollectionsParams()}onLoadingChange(){var t;null===(t=this.presenter.isLoading)||void 0===t||t||(this.presenter.items=this.presenter.items.filter((t=>0===t.collectionCount))),this.$eventBus.$emit(p.m.UPDATING_PAGE,this.presenter.isLoading)}get enableListView(){return this.$isAdmin||this.$inOrgContext}get sortSelection(){return this.sortBy_}set sortSelection(t){this.sortBy_!==t&&(this.sortBy_=t)}created(){this.collectionsParams=this.buildCollectionsParams()}mounted(){this.isMounted=!0}reset(){this.viewType=m.CollectionElementViewTypes.GRID,this.filter="",this.titleQuery="",this.sortBy_=w.SortField.CreateTime+" "+w.SortDirection.Descending,this.pageSizeInitial=m.PAGE_SIZES.SMALL,this.collectionsParams=this.buildCollectionsParams()}get allCollectionsSelected(){var t,e,i;return!0!==(null===(t=null==this?void 0:this.presenter)||void 0===t?void 0:t.isLoading)&&this.selected.length===(null===(e=null==this?void 0:this.presenter)||void 0===e?void 0:e.items.length)&&0!==(null===(i=null==this?void 0:this.presenter)||void 0===i?void 0:i.items.length)}get noCollectionsSelected(){return null==this.presenter||0===this.selected.length}buildCollectionsParams(){return{fq:[`creator.id==${this.dataOwner.id}`,this.titleQuery.split(" ").filter((t=>t)).map((t=>`title=like=${t}`)).join(";"),"isPrivate==false",'(subtype=exists=false,subtype=="")'].filter((t=>t)).join(";"),recordEvent:!1}}get selected(){var t,e;return null!==(e=null===(t=this.presenter)||void 0===t?void 0:t.selections)&&void 0!==e?e:[]}get presenter(){return this.isMounted?this.$refs.collectionContent:null}get conversionText(){return this.$t("Converting collections to sections for ")}beforeDestroy(){null!=this.confirmationModal&&(this.confirmationModal.$destroy(),this.confirmationModal=null),this.$el.remove()}toggleListView(){this.viewType===m.CollectionElementViewTypes.LIST?this.viewType=m.CollectionElementViewTypes.GRID:this.viewType=m.CollectionElementViewTypes.LIST}onSelectAll(t){t?this.selectAll():this.deselectAll()}selectAll(){this.presenter.selectAll()}deselectAll(){this.presenter.unSelectAll()}get confirmationText(){return this.$t("Any converted collections will disappear from everywhere except for this catalog!")}confirmConversion(){this.closeModal(),this.confirmationModal?this.confirmationModal.openModal():(this.confirmationModal=new v.b({store:this.$store,propsData:{acceptCallback:this.onDone,confirmButtonText:this.$t("Convert"),message:this.confirmationText}}),this.confirmationModal.mountOnPage())}onDone(){return A(this,void 0,void 0,(function*(){this.$eventBus.$emit(p.m.UPDATING_PAGE,!0),this.confirmationModal.$destroy(),this.confirmationModal=null,this.convertCollections(this.selected),this.$eventBus.$emit(p.m.UPDATING_PAGE,!1)}))}convertCollections(t){return A(this,void 0,void 0,(function*(){const e=t.map((t=>Object.assign(Object.assign({},t),{isPrivate:this.catalog.isPrivate,subtype:"CATALOG_SECTION"}))),i=t.map((t=>t.id)),s={"3dw":{sectionOrder:{dataType:"stringArray",value:i.concat(this.catalog.sectionOrder)}}};try{this.$pushSnackbar(this.$t("Converting collections to sections... this may take a minute."),m.SnackbarMessageTypes.success,m.SnackbarIcons.SUCCESS),yield this.$api.bulkUpdateCollections(e),yield this.$api.bulkUpdateChildren(this.catalog.id,i,[]),this.$api.updateCollectionAttributes(this.catalog.id,s),this.presenter.items=this.presenter.items.filter((t=>this.selected.indexOf(t)<0)),this.presenter.selections=[]}catch(t){this.$pushSnackbar(this.$t("Failed to convert collections"),m.SnackbarMessageTypes.failure,m.SnackbarIcons.ALERT)}}))}filterChanged(){this.titleQuery=this.filter.replace(/['#-]+/g," ").toLowerCase().trim()}get isSelecting(){return!0===this.isMounted&&null!==this.presenter&&this.selected.length>0}};I([Object(o.d)({required:!0})],D.prototype,"catalog",void 0),I([Object(o.d)({required:!0})],D.prototype,"dataOwner",void 0),I([Object(o.d)({required:!1,default:null})],D.prototype,"successCallback",void 0),I([Object(o.f)("titleQuery")],D.prototype,"onTitleQueryChanged",null),I([Object(o.f)("presenter.isLoading")],D.prototype,"onLoadingChange",null),D=I([Object(o.a)({components:{SelectAllCheckbox:S.a,ContentPresenter:T.a,IconSearch:y.a,ListViewToggle:_.a,SortSelector:O.a,ConfirmationModal:v.b}})],D);var M=D,k=i(28),L=Object(k.a)(M,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"collection-conversion-modal modal-dialog reveal",attrs:{id:"collection-conversion-modal","data-reveal":"","data-close-on-click":"true","data-close-on-esc":"true","data-animation-in":"fade-in fast"}},[i("div",{staticClass:"header-bar"},[i("select-all-checkbox",{staticClass:"select-all-checkbox",attrs:{isAllSelected:t.allCollectionsSelected,selectedCount:t.selected.length},on:{setSelected:t.onSelectAll}}),t._v(" "),i("div",{staticClass:"filter-container"},[i("div",{staticClass:"search-icon-container",on:{click:t.filterChanged}},[i("icon-search",{staticClass:"search-icon"})],1),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.filter,expression:"filter"}],staticClass:"collection-conversion-filter",attrs:{id:"collection-conversion-modal-filter",placeholder:t.$t("Filter collections"),type:"text",autocomplete:"off"},domProps:{value:t.filter},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.filterChanged.apply(null,arguments)},input:function(e){e.target.composing||(t.filter=e.target.value)}}})]),t._v(" "),i("div",{staticClass:"action-buttons-container"},[i("button",{staticClass:"collection-conversion-button primary",attrs:{disabled:t.noCollectionsSelected},on:{click:t.confirmConversion}},[t._v("\n        "+t._s(t.$t("Convert"))+"\n      ")]),t._v(" "),i("div",{staticClass:"close-modal-container"},[i("div",{staticClass:"close-modal-icon",on:{click:t.closeModal}})])])],1),t._v(" "),i("div",{staticClass:"content"},[i("div",{staticClass:"content-header"},[i("div",{staticClass:"converting-to-section"},[i("div",{staticClass:"converting-to-section-label"},[t._v("\n          "+t._s(t.conversionText)+":\n        ")]),t._v(" "),i("div",{staticClass:"converting-to-section-title"},[t._v("\n          "+t._s(t.catalog.title)+"\n        ")])]),t._v(" "),i("div",{staticClass:"content-header-controls"},[t.enableListView?i("list-view-toggle",{attrs:{hidden:t.isSelecting,viewType:t.viewType},on:{"toggle-grid":t.toggleListView}}):t._e(),t._v(" "),i("sort-selector",{attrs:{id:"collection-conversion-sort",fields:t.sortFields},model:{value:t.sortSelection,callback:function(e){t.sortSelection=e},expression:"sortSelection"}})],1)]),t._v(" "),i("content-presenter",{ref:"collectionContent",staticClass:"selecting modal-content-presenter",attrs:{id:"collection-conversion-modal-presenter",type:"collections",filter:t.collectionsParams,sortBy:t.sortSelection,scrollTrigger:"#collection-conversion-modal-presenter",manageMode:!0,largerRows:!0,manageModeContext:t.manageModeContext,page:-1,pageSize:1e3,selectableCards:!0,dataOwner:t.dataOwner,showAuthorNames:!1,view:t.viewType,listViewOpts:t.listViewOpts,hasSupplementalMenu:!1,alwaysSelectable:!0,useRouter:!1,deleteBulkCallback:function(){}}})],1)])}),[],!1,null,"200597ba",null),$=L.exports,x=function(t,e,i,s){var a,n=arguments.length,o=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,s);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(o=(n<3?a(o):n>3?a(e,i,o):a(e,i))||o);return n>3&&o&&Object.defineProperty(e,i,o),o},P=function(t,e,i,s){return new(i||(i=Promise))((function(a,n){function o(t){try{l(s.next(t))}catch(t){n(t)}}function r(t){try{l(s.throw(t))}catch(t){n(t)}}function l(t){var e;t.done?a(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,r)}l((s=s.apply(t,e||[])).next())}))};let R=class UcmEditCatalogSections extends(Object(o.c)(u.a)){constructor(){super(...arguments),this.name="ucm-edit-catalog-sections",this.createIconHover=!1}onCurrentSectionChanged(){this.checkOrderChanged()}beforeDestroy(){null!=this.collectionConversionModal&&(this.collectionConversionModal.$destroy(),this.collectionConversionModal=null)}mounted(){this.$emit("mounted")}reset(){}close(){}get currentSections(){return this.workingCatalog.sections}set currentSections(t){this.workingCatalog.sections=t}get originalSectionOrderString(){return this.catalog.sectionOrder.join(",")}get currentSectionOrderString(){return this.currentSections.map((t=>t.id)).join(",")}publicSectionPagePath(t,e){return Object(g.h)(this.catalog.id,t,Object(g.L)(e))}get isEdited(){return this.originalSectionOrderString!==this.currentSectionOrderString}get fieldsAreValid(){return!0}get dataOwner(){return this.$store.getters.currentSubjectOwner}checkOrderChanged(){this.workingCatalog.sections=this.currentSections,this.workingCatalog.sectionOrder=this.workingCatalog.sections.map((t=>t.id)),c.a.setAttributeValue(this.workingCatalog.attributes,"3dw","sectionOrder","stringArray",this.workingCatalog.sectionOrder),this.$emit("sync-working-catalog",this.workingCatalog)}handleSectionNameClick(t,e){this.confirmNavigation((()=>{window.location.href=this.publicSectionPagePath(t,e)}))}handleCreateSectionAction(){this.confirmNavigation(this.createSection)}openCollectionSelector(){null==this.collectionConversionModal&&(this.collectionConversionModal=new $({store:this.$store,propsData:{catalog:this.catalog,dataOwner:this.dataOwner}}),this.collectionConversionModal.mountOnPage()),this.collectionConversionModal.openModal()}createSection(){return P(this,void 0,void 0,(function*(){this.$eventBus.$emit(p.m.UPDATING_PAGE,!0);const t=yield this.$api.createCatalogSection(this.catalog.id,"Section Title",this.catalog.sectionOrder,this.catalog.isPrivate),e={nav:p.p.EDITCATALOGEDITSECTION,itemId:t,catalogId:this.catalog.id};yield this.$router.push({query:e}),this.$eventBus.$emit(p.m.UPDATING_PAGE,!1)}))}createSupplementalMenu(t){const e=[];return e.push({eventName:p.t(p.d.VIEW,t),title:this.$t(p.u(p.d.VIEW,t)),value:{id:t.id,title:t.title}}),e.push({eventName:p.t(p.d.EDIT,t),title:this.$t(p.u(p.d.EDIT,t)),value:t.id}),e.push({eventName:p.t(p.d.DELETE,t),title:this.$t(p.u(p.d.DELETE,t)),value:t.id}),e}confirmAndDeleteSection(t){const e=this.$t("You’re about to delete a Section. This action cannot be undone."),i=this.$t("Delete"),s=v.a.Alert;this.confirmAction("",e,i,s,!0,(()=>this.deleteSection(t)))}deleteSection(t){return P(this,void 0,void 0,(function*(){try{this.catalog.sections=this.catalog.sections.filter((e=>e.id!==t)),this.catalog.sectionOrder=this.catalog.sections.map((t=>t.id)),c.a.setAttributeValue(this.catalog.attributes,"3dw","sectionOrder","stringArray",this.catalog.sectionOrder);const e=this.catalog.getCatalog3dwAttributeType("sectionOrder"),i={endpoint:s.AttributeEndpoint.Collections,subjectId:this.catalog.id,category:"3dw",name:"sectionOrder",value:this.catalog.sectionOrder,dataType:e};yield this.$api.deleteCollection(t),yield this.$api.setAttribute(i),this.workingCatalog.sections=this.workingCatalog.sections.filter((e=>e.id!==t)),this.workingCatalog.sectionOrder=this.workingCatalog.sections.map((t=>t.id)),c.a.setAttributeValue(this.workingCatalog.attributes,"3dw","sectionOrder","stringArray",this.workingCatalog.sectionOrder),this.$emit("sync-catalog",this.catalog),this.$emit("sync-working-catalog",this.workingCatalog)}catch(t){this.$pushSnackbar(d.c.GENERIC_TRY_AGAIN,m.SnackbarMessageTypes.failure,m.SnackbarIcons.ALERT)}}))}handleMenuAction(t){switch(t.eventName){case p.f.ViewSection:this.confirmNavigation((()=>{window.location.href=this.publicSectionPagePath(t.value.id,t.value.title)}));break;case p.f.EditSection:this.confirmNavigation((()=>{const e={nav:p.p.EDITCATALOGEDITSECTION,itemId:t.value,catalogId:this.catalog.id};this.$router.push({query:e})}));break;case p.f.DeleteSection:const e=t.value;this.confirmAndDeleteSection(e)}}getDefaultThumbnailUrl(t){return h.d(t)}getWebpThumbnailUrl(t){return h.g(t)}};x([Object(o.d)({required:!0})],R.prototype,"catalog",void 0),x([Object(o.d)({required:!0})],R.prototype,"workingCatalog",void 0),x([Object(o.d)({required:!0})],R.prototype,"confirmNavigation",void 0),x([Object(o.f)("currentSections")],R.prototype,"onCurrentSectionChanged",null),R=x([Object(o.a)({components:{CollectionConversionModal:$,draggable:l.a,IconCollection:f.a,IconCreateFill:a.a,IconCreateOutline:n.a,IconMove:{functional:!0,render:function(t,e){var i=e._c;return i("svg",{class:[e.data.class,e.data.staticClass],style:[e.data.style,e.data.staticStyle],attrs:{width:"24px",height:"24px",viewBox:"0 0 24 24",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}},[i("polygon",{attrs:{id:"path-1",points:"12.0946151 2 15.5806507 6.61748523 13.27523 6.61748523 13.27523 10.8626404 17.4567642 10.8626404 17.4614014 8.71979486 22 12.107122 17.5156648 15.4778939 17.4801129 13.2903736 13.27523 13.2903736 13.27523 17.4590015 15.4710663 17.4436636 12.0946151 22 8.72206899 17.5059891 10.8402525 17.5005518 10.8402525 13.2903736 6.62694947 13.2903736 6.62694947 15.4728625 2 12.107122 6.62694947 8.71947023 6.62694947 10.8626404 10.8402525 10.8626404 10.8402525 6.61748523 8.73972292 6.61748523"}})])}},LazyPicture:C.a,SupplementalMenu:b.a}})],R);var N=R,U=Object(k.a)(N,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"ucm-edit-catalog-sections"},[i("div",{staticClass:"header"},[i("div",{staticClass:"title-container"},[i("div",{staticClass:"title"},[t._v("\n        "+t._s(t.$t("Sections"))+"\n        "),i("span",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.$t("Add Section"),expression:"$t('Add Section')"}],staticClass:"svg-icon",attrs:{id:"add-section-icon"},on:{mouseover:function(e){t.createIconHover=!0},mouseout:function(e){t.createIconHover=!1},click:t.handleCreateSectionAction}},[t.createIconHover?i("IconCreateFill",{staticClass:"icon-fill"}):i("IconCreateOutline")],1)]),t._v(" "),i("div",{staticClass:"description"},[t._v("\n        "+t._s(t.$t("Use sections to organize the products in your catalog into logical groups."))+"\n      ")])]),t._v(" "),i("span",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.$t("Convert Collections into Sections"),expression:"$t('Convert Collections into Sections')"}],staticClass:"convert-collections-icon",on:{click:t.openCollectionSelector}},[i("IconCollection")],1)]),t._v(" "),i("div",{staticClass:"sections-container"},[t.currentSections.length>0?i("div",[i("draggable",{model:{value:t.currentSections,callback:function(e){t.currentSections=e},expression:"currentSections"}},t._l(t.currentSections,(function(e){return i("div",{key:e.id,staticClass:"section"},[i("lazy-picture",{attrs:{defaultSource:t.getDefaultThumbnailUrl(e),webpSource:t.getWebpThumbnailUrl(e),showWebpSource:e.missingCustomImageBinary}}),t._v(" "),i("a",{staticClass:"section-name",attrs:{href:t.publicSectionPagePath(e.id,e.title)},on:{click:function(i){return i.preventDefault(),t.handleSectionNameClick(e.id,e.title)}}},[t._v("\n            "+t._s(e.title)+"\n          ")]),t._v(" "),i("span",{staticClass:"section-model-count"},[t._v(" "+t._s(e.entityCount+t.$t(" Products")))]),t._v(" "),i("div",{staticClass:"icon-container"},[i("supplemental-menu",{attrs:{menu:t.createSupplementalMenu(e),position:"inline",broadcast:!1},on:{action:t.handleMenuAction}}),t._v(" "),i("div",{staticClass:"icon-move"},[i("IconMove")],1)],1)],1)})),0)],1):i("div",{staticClass:"default-section"},[t._v("\n      "+t._s(t.$t("Currently your catalog does not have any sections."))+"\n      "),i("div",{staticClass:"add-section",attrs:{id:"add-section-button"},on:{click:t.handleCreateSectionAction}},[t._v("\n        "+t._s(t.$t("Add Catalog Section"))+"\n      ")])])])])}),[],!1,null,"301e1216",null);e.a=U.exports},944:function(t,e,i){"use strict";var s=i(50),a=i(763),n=i(674),o=(i(931),i(8)),r=i(2),l=i(149),c=i(14),d=i(71),u=i(7),h=i(48),p=i(3),m=i(9),g=i(793),v=i(789),f=i(779),C=i(806),b=i(794),y=i(786),w=i(791),_=i(790),T=i(6),S=i.n(T),E=i(12),O=function(t,e,i,s){var a,n=arguments.length,o=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,s);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(o=(n<3?a(o):n>3?a(e,i,o):a(e,i))||o);return n>3&&o&&Object.defineProperty(e,i,o),o};let I=class ModelPrivacyToggle extends S.a{get isPermanentlyPrivate(){return this.modelPrivacy&&this.entity.hasDmcaTakedown}set modelPrivacy(t){this.$emit("privacyChanged",t)}get modelPrivacy(){return this.isPrivate}};I=O([Object(E.b)({components:{HelpCallout:w.b},props:{isPrivate:Boolean,isAdmin:Boolean,entity:Object}})],I);var A=I,D=i(28),M=Object(D.a)(A,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"privacy-toggle"},[i("div",{staticClass:"switch-container"},[i("div",{staticClass:"label float-left"},[t._v(t._s(t.$t("Private Model"))+"\n      "),i("help-callout",{attrs:{calloutText:t.$t("Make this model visible to you only")}})],1),t._v(" "),i("div",{staticClass:"switch float-right"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.modelPrivacy,expression:"modelPrivacy"}],staticClass:"switch-input",attrs:{type:"checkbox",id:"edit-model-is-private",name:"IsPrivate"},domProps:{checked:Array.isArray(t.modelPrivacy)?t._i(t.modelPrivacy,null)>-1:t.modelPrivacy},on:{change:function(e){var i=t.modelPrivacy,s=e.target,a=!!s.checked;if(Array.isArray(i)){var n=t._i(i,null);s.checked?n<0&&(t.modelPrivacy=i.concat([null])):n>-1&&(t.modelPrivacy=i.slice(0,n).concat(i.slice(n+1)))}else t.modelPrivacy=a}}}),t._v(" "),i("label",{staticClass:"switch-paddle",class:{"switch-disabled":t.isPermanentlyPrivate},attrs:{for:"edit-model-is-private"}},[i("span",{staticClass:"show-for-sr"},[t._v(t._s(t.$t("Private Model")))])])])]),t._v(" "),t.isPermanentlyPrivate?i("div",{staticClass:"permanently-private-warning"},[t._v("\n    ⚠️"+t._s(t.$t("This model has been permanently locked in private viewing due to a breach of the 3D Warehouse Terms of Use. Trimble reserves all rights and remedies."))+"\n  ")]):t._e(),t._v(" "),t.isAdmin&&t.isPermanentlyPrivate?i("div",{staticClass:"switch-container"},[i("div",{staticClass:"label float-left"},[t._v("Admin Privacy Override")]),t._v(" "),i("div",{staticClass:"switch float-right"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.modelPrivacy,expression:"modelPrivacy"}],staticClass:"switch-input",attrs:{type:"checkbox",id:"edit-model-is-private",name:"IsPrivate"},domProps:{checked:Array.isArray(t.modelPrivacy)?t._i(t.modelPrivacy,null)>-1:t.modelPrivacy},on:{change:function(e){var i=t.modelPrivacy,s=e.target,a=!!s.checked;if(Array.isArray(i)){var n=t._i(i,null);s.checked?n<0&&(t.modelPrivacy=i.concat([null])):n>-1&&(t.modelPrivacy=i.slice(0,n).concat(i.slice(n+1)))}else t.modelPrivacy=a}}}),t._v(" "),i("label",{staticClass:"switch-paddle",attrs:{for:"edit-model-is-private"}},[i("span",{staticClass:"show-for-sr"},[t._v(t._s(t.$t("Private Model")))])])])]):t._e()])}),[],!1,null,"1b777ef7",null).exports,k=i(726),L=i(741),$=function(t,e,i,s){var a,n=arguments.length,o=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,s);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(o=(n<3?a(o):n>3?a(e,i,o):a(e,i))||o);return n>3&&o&&Object.defineProperty(e,i,o),o};let x=class UcmEditModelGeneral extends n.e{constructor(){super(...arguments),this.name="ucm-edit-model-general",this.fieldsAreValid=!0,this.itemTitleDefault="",this.externalUrl="",this.commentsDisabled=!1,this.attributesDisabled=!1,this.isCertified=!1,this.isProduct=!1,this.isPrivate=!1,this.validDescription=!0,this.validTitle=!0,this.validUrl=!0,this.skpFileUpdated=!1,this.domainMap=c.c,this.domain="",this.subdomain="",this.category="",this.domainInitial="",this.subdomainInitial="",this.categoryInitial="",this.alignment=p.DropdownAlignments.LEFT,this.itemTitle_="",this.description_="",this.titleBlockMsg_="",this.descBlockMsg_=""}onFieldChanged(){this.validateFields()}onAttributeTabsToggleChange(){this.callAttributeTabsToggleCallback()}beforeDestroy(){null!=this.modelDeleteDlg&&(this.modelDeleteDlg.$destroy(),this.modelDeleteDlg=null),null!=this.statusModal&&(this.statusModal.$destroy(),this.statusModal=null)}created(){if(!this.entity)return;const t=u.Constants.FqParameters.Attributes;this.description=this.entity.description||"",this.itemTitle=this.entity.title||"",this.itemTitleDefault=this.itemTitle,this.externalUrl=this.entity.externalUrl||"",this.commentsDisabled=!this.entity.allowComments,this.attributesDisabled=!!o.a.getAttributeValue(this.entity.attributes,"metadata","attributesDisabled"),this.isPrivate=this.entity.isPrivate,this.isCertified=!!o.a.getAttributeValue(this.entity.attributes,t.ADMIN_WAREHOUSE,t.AdminWarehouse.IS_CERTIFIED),this.isProduct=!!o.a.getAttributeValue(this.entity.attributes,"3dw","isProduct"),this.domainInitial=o.a.getAttributeValue(this.entity.attributes,"categories","domain")||"",this.subdomainInitial=o.a.getAttributeValue(this.entity.attributes,"categories","subdomain")||"",this.categoryInitial=o.a.getAttributeValue(this.entity.attributes,"categories","category")||"",this.domain=this.domainInitial,this.subdomain=this.subdomainInitial,this.category=this.categoryInitial,this.isValidDescription(),this.isValidTitle(),this.isValidUrl()}mounted(){this.$emit("mounted")}close(){this.modelDeleteDlg&&(this.modelDeleteDlg.$destroy(),this.modelDeleteDlg=null),this.statusModal&&(this.statusModal.$destroy(),this.statusModal=null)}get allowIsProductToggle(){return this.$isAdmin||this.$inOrgContext}get itemTitle(){return Object(p.removeProhibitedCharacters)(this.itemTitle_)}set itemTitle(t){this.itemTitle_=Object(p.removeProhibitedCharacters)(t)}get itemTitleMaxLength(){return p.Constants.ITEM_TITLE_MAX_LENGTH}get description(){return this.description_}set description(t){this.description_=t}get titleBlockMsg(){return this.titleBlockMsg_}set titleBlockMsg(t){this.titleBlockMsg_=t}get descBlockMsg(){return this.descBlockMsg_}set descBlockMsg(t){this.descBlockMsg_=t}validateFields(){this.isEdited?(this.isValidDescription(),this.isValidTitle(),this.isValidUrl(),this.fieldsAreValid=this.validTitle&&this.validUrl&&this.validDescription,this.$eventBus.$emit(h.m.ENABLE_SAVING,this.fieldsAreValid)):(this.fieldsAreValid=!0,this.$eventBus.$emit(h.m.ENABLE_SAVING,!1))}get isEdited(){const t=u.Constants.FqParameters.Attributes;return this.itemTitle.trim()!==this.entity.title.trim()||this.description.trim()!==this.entity.description.trim()||this.externalUrl.trim()!==this.entity.externalUrl.trim()||this.commentsDisabled===this.entity.allowComments||this.attributesDisabled!==!!o.a.getAttributeValue(this.entity.attributes,"metadata","attributesDisabled")||this.isCertified!==!!o.a.getAttributeValue(this.entity.attributes,t.ADMIN_WAREHOUSE,t.AdminWarehouse.IS_CERTIFIED)||this.isProduct!==!!o.a.getAttributeValue(this.entity.attributes,"3dw","isProduct")||this.isPrivate!==this.entity.isPrivate||this.domainInitial!==this.domain||this.subdomainInitial!==this.subdomain||this.categoryInitial!==this.category}get descriptionCharsRemaining(){return this.descriptionMaxLength-this.descriptionLength}get descriptionLength(){return this.description.trim().length}get originalDescriptionLength(){return(this.entity.description||"").trim().length}get descriptionMaxLength(){let t=p.Constants.ITEM_DESCRIPTION_MAX_LENGTH;return this.originalDescriptionLength>t?this.originalDescriptionLength:t}get urlCharsRemaining(){return this.urlMaxLength-this.urlLength}get urlLength(){return this.externalUrl.trim().length}get urlMaxLength(){return p.Constants.ITEM_URL_MAX_LENGTH}privacyChanged(t){this.isPrivate=t}categorySelectionChanged(t,e,i){this.domain=t||"",this.subdomain=e||"",this.category=i||""}deleteModel(){let t=this.$api.deleteEntity(this.entity.id);this.$eventBus.$emit(p.Events.REMOVE_MODEL_CONTENT_PRESENTER,this.entity),t.then((()=>{l.l("editModel",["deleteModel","success"]),this.navigateToModelPage()}),(()=>{l.l("editModel",["deleteModel","failure"]);let t={buttonText:this.$t("Dismiss"),currentState:p.StatusModalState.Failure,failureTitle:r.c.FAILED_TO_DELETE,failureMessage:this.$t("Oops! We were unable to delete your model."),animationIn:k.a.SlideInUp};this.statusModal?(this.statusModal.resetModal(t),this.statusModal.openModal()):(this.statusModal=new L.a({store:this.$store,propsData:t}),this.statusModal.mountOnPage())}))}getDataToSave(){const t=this.buildLocalEntity();return this.pendingEntity=t,t}buildLocalEntity(){let t={allowComments:!this.commentsDisabled,description:this.description.trim(),tags:d.a(this.description),externalUrl:this.externalUrl.trim(),isPrivate:this.isPrivate,title:this.itemTitle.trim()};if(t.attributes={categories:{domain:{dataType:"string",value:this.domain},subdomain:{dataType:"string",value:this.subdomain}},metadata:{attributesDisabled:{dataType:"boolean",value:this.attributesDisabled}},"3dw":{isProduct:{dataType:"boolean",value:this.isProduct}}},this.$isAdmin){const e=u.Constants.FqParameters.Attributes;t.attributes[e.ADMIN_WAREHOUSE]={isCertified:{dataType:"boolean",value:this.isCertified}}}if(c.d(this.$user,this.$inOrgContext)){let e={dataType:"string",value:this.category};t.attributes.categories.category=e}if(this.hasCategorizationChanged()){let e={dataType:"string",value:this.$isAdmin?c.b.MODIFIER_ADMIN:c.b.MODIFIER_OWNER};t.attributes.categories.modifier=e}return t}processSaveChangesCallback(){this.$eventBus.$emit(h.m.EDITED_ITEM,{original:this.entity,edited:this.pendingEntity}),this.$eventBus.$emit(h.m.TOGGLE_DISABLE_ATTRIBUTES,this.attributesDisabled),Object(s.merge)(this.entity,this.pendingEntity),this.domainInitial=this.pendingEntity.attributes.categories.domain.value,this.subdomainInitial=this.pendingEntity.attributes.categories.subdomain.value;const t=this.pendingEntity.attributes.categories;this.categoryInitial=t.category?t.category.value:""}hasCategorizationChanged(){return this.domain!==this.domainInitial||this.subdomain!==this.subdomainInitial||this.category!==this.categoryInitial}navigateToModelPage(){const t={nav:h.p.MODELS};this.$router.push({query:t})}openConfirmDeleteModal(){this.modelDeleteDlg?this.modelDeleteDlg.openModal():(this.modelDeleteDlg=new f.b({store:this.$store,propsData:{acceptCallback:this.deleteModel,confirmButtonText:this.$t("Delete"),message:this.$t("You’re about to delete your model and all instances of it on the 3D Warehouse. It cannot be recovered. Are you sure?")}}),this.modelDeleteDlg.mountOnPage())}isValidTitle(){this.validTitle=this.itemTitle.trim().length>0}isValidDescription(){const t=d.a(this.description);this.validDescription=d.b(this.description)&&d.d(t)}isValidUrl(){this.externalUrl=this.externalUrl.trim(),0===this.externalUrl.length?this.validUrl=!0:(this.externalUrl=m.c(this.externalUrl),this.validUrl=m.I(this.externalUrl),this.validUrl&&(this.validUrl=!!m.H(this.externalUrl)))}callAttributeTabsToggleCallback(){this.attributeTabsToggleCallback(this.isProduct,this.attributesDisabled)}};$([Object(n.d)()],x.prototype,"dataOwner",void 0),$([Object(n.d)()],x.prototype,"uploading",void 0),$([Object(n.d)()],x.prototype,"entity",void 0),$([Object(n.d)({required:!0})],x.prototype,"attributeTabsToggleCallback",void 0),$([Object(n.f)("itemTitle"),Object(n.f)("description"),Object(n.f)("externalUrl"),Object(n.f)("commentsDisabled"),Object(n.f)("attributesDisabled"),Object(n.f)("isCertified"),Object(n.f)("isProduct"),Object(n.f)("isPrivate"),Object(n.f)("domain"),Object(n.f)("subdomain"),Object(n.f)("category")],x.prototype,"onFieldChanged",null),$([Object(n.f)("isProduct"),Object(n.f)("attributesDisabled")],x.prototype,"onAttributeTabsToggleChange",null),x=$([Object(n.a)({components:{AutoSizingInput:g.a,CategorizationAssignment:v.a,CharactersRemaining:y.a,DiscoverabilityBar:C.a,FileUpload:b.a,HelpCallout:w.b,ItemNotFound:_.a,ModelPrivacyToggle:M,UploadIcon:a.a},props:{entity:Object},data:()=>({CategorizationLabels:c.a})})],x);var P=x,R=Object(D.a)(P,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"expanded row"},[i("div",{staticClass:"general-content client-5 columns"},[i("div",{staticClass:"entity-title"},[i("div",{staticClass:"input-label"},[t._v("\n          "+t._s(t.$t("Title"))+"*\n          "),i("characters-remaining",{attrs:{characterCount:t.itemTitle.length,maxAllowed:t.itemTitleMaxLength}})],1),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.itemTitle,expression:"itemTitle"}],class:{"input-field-error-bar":!t.validTitle},attrs:{type:"text",id:"edit-model-title",maxlength:t.itemTitleMaxLength},domProps:{value:t.itemTitle},on:{blur:t.isValidTitle,input:function(e){e.target.composing||(t.itemTitle=e.target.value)}}})]),t._v(" "),i("div",{staticClass:"description"},[t.descBlockMsg?i("div",{staticClass:"block desc-block-msg"},[t._v("\n          "+t._s(t.descBlockMsg)+"\n        ")]):i("div",{staticClass:"input-label"},[t._v("\n          "+t._s(t.$t("Description"))+"\n          "),i("characters-remaining",{attrs:{characterCount:t.description.length,maxAllowed:t.descriptionMaxLength}})],1),t._v(" "),i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.description,expression:"description"}],class:{"input-field-error-bar":!t.validDescription},attrs:{id:"edit-description-input",maxlength:t.descriptionMaxLength},domProps:{value:t.description},on:{blur:t.isValidDescription,input:function(e){e.target.composing||(t.description=e.target.value)}}})]),t._v(" "),i("div",{staticClass:"edit-url"},[i("div",{staticClass:"input-label"},[t.validUrl?i("div",{staticClass:"valid-label"},[t._v("\n            "+t._s(t.$t("URL"))+"\n          ")]):i("div",{staticClass:"invalid-label"},[t._v("\n            "+t._s(t.$t("Invalid URL"))+"\n          ")]),t._v(" "),i("characters-remaining",{attrs:{characterCount:t.externalUrl.length,maxAllowed:t.urlMaxLength}})],1),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.externalUrl,expression:"externalUrl"}],class:{"input-field-error-bar":!t.validUrl},attrs:{type:"text",id:"edit-url-input",maxlength:t.urlMaxLength},domProps:{value:t.externalUrl},on:{blur:t.isValidUrl,input:function(e){e.target.composing||(t.externalUrl=e.target.value)}}})]),t._v(" "),i("div",{staticClass:"edit-categories"},[i("div",{staticClass:"input-label"},[t._v(t._s(t.$t("Category")))]),t._v(" "),i("categorization-assignment",{attrs:{domain:t.domain,subdomain:t.subdomain,category:t.category,id:"edit-cat-assignment",includeDomainAll:!0,align:t.alignment},on:{categorySelectionChanged:t.categorySelectionChanged}})],1)]),t._v(" "),i("div",{staticClass:"columns client-offset-2 client-5"},[i("discoverability-bar",{ref:"discBar",attrs:{domain:t.domain,subdomain:t.subdomain,title:t.itemTitle,description:t.description}}),t._v(" "),i("div",{staticClass:"additional-options"},[i("div",{staticClass:"input-title"},[t._v(t._s(t.$t("Additional Options")))]),t._v(" "),i("div",{staticClass:"switch-wrapper"},[t.$isAdmin?i("div",{staticClass:"switch-container"},[i("div",{staticClass:"label float-left"},[t._v(t._s(t.$t("Certified Model")))]),t._v(" "),i("div",{staticClass:"switch float-right"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.isCertified,expression:"isCertified"}],staticClass:"switch-input",attrs:{type:"checkbox",id:"edit-model-is-certified",name:"IsCertified"},domProps:{checked:Array.isArray(t.isCertified)?t._i(t.isCertified,null)>-1:t.isCertified},on:{change:function(e){var i=t.isCertified,s=e.target,a=!!s.checked;if(Array.isArray(i)){var n=t._i(i,null);s.checked?n<0&&(t.isCertified=i.concat([null])):n>-1&&(t.isCertified=i.slice(0,n).concat(i.slice(n+1)))}else t.isCertified=a}}}),t._v(" "),i("label",{staticClass:"switch-paddle",attrs:{for:"edit-model-is-certified"}},[i("span",{staticClass:"show-for-sr"},[t._v(t._s(t.$t("Certified Model")))])])])]):t._e(),t._v(" "),i("model-privacy-toggle",{attrs:{isPrivate:t.isPrivate,isAdmin:t.$isAdmin,entity:t.entity},on:{privacyChanged:t.privacyChanged}}),t._v(" "),i("div",{staticClass:"switch-container"},[i("div",{staticClass:"label float-left"},[t._v(t._s(t.$t("Disable Comments")))]),t._v(" "),i("div",{staticClass:"switch float-right"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.commentsDisabled,expression:"commentsDisabled"}],staticClass:"switch-input",attrs:{type:"checkbox",id:"edit-model-disable-comments",name:"DisableComments"},domProps:{checked:Array.isArray(t.commentsDisabled)?t._i(t.commentsDisabled,null)>-1:t.commentsDisabled},on:{change:function(e){var i=t.commentsDisabled,s=e.target,a=!!s.checked;if(Array.isArray(i)){var n=t._i(i,null);s.checked?n<0&&(t.commentsDisabled=i.concat([null])):n>-1&&(t.commentsDisabled=i.slice(0,n).concat(i.slice(n+1)))}else t.commentsDisabled=a}}}),t._v(" "),i("label",{staticClass:"switch-paddle",attrs:{for:"edit-model-disable-comments"}},[i("span",{staticClass:"show-for-sr"},[t._v(t._s(t.$t("Disable Comments")))])])])]),t._v(" "),t.allowIsProductToggle?i("div",{staticClass:"switch-container"},[i("div",{staticClass:"label float-left"},[t._v(t._s(t.$t("Product Model")))]),t._v(" "),i("help-callout",{attrs:{calloutText:t.$t("A Product model is a real-world product that can be purchased or specified")}}),t._v(" "),i("div",{staticClass:"switch float-right"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.isProduct,expression:"isProduct"}],staticClass:"switch-input",attrs:{type:"checkbox",id:"edit-model-is-product",name:"IsProduct"},domProps:{checked:Array.isArray(t.isProduct)?t._i(t.isProduct,null)>-1:t.isProduct},on:{change:function(e){var i=t.isProduct,s=e.target,a=!!s.checked;if(Array.isArray(i)){var n=t._i(i,null);s.checked?n<0&&(t.isProduct=i.concat([null])):n>-1&&(t.isProduct=i.slice(0,n).concat(i.slice(n+1)))}else t.isProduct=a}}}),t._v(" "),i("label",{staticClass:"switch-paddle",attrs:{for:"edit-model-is-product"}},[i("span",{staticClass:"show-for-sr"},[t._v(t._s(t.$t("Product Model")))])])])],1):t._e(),t._v(" "),t.isProduct?i("div",{staticClass:"switch-container"},[i("div",{staticClass:"label float-left"},[t._v(t._s(t.$t("Disable Attributes")))]),t._v(" "),i("div",{staticClass:"switch float-right"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.attributesDisabled,expression:"attributesDisabled"}],staticClass:"switch-input",attrs:{type:"checkbox",id:"edit-product-disable-attributes",name:"DisableAttributes"},domProps:{checked:Array.isArray(t.attributesDisabled)?t._i(t.attributesDisabled,null)>-1:t.attributesDisabled},on:{change:function(e){var i=t.attributesDisabled,s=e.target,a=!!s.checked;if(Array.isArray(i)){var n=t._i(i,null);s.checked?n<0&&(t.attributesDisabled=i.concat([null])):n>-1&&(t.attributesDisabled=i.slice(0,n).concat(i.slice(n+1)))}else t.attributesDisabled=a}}}),t._v(" "),i("label",{staticClass:"switch-paddle",attrs:{for:"edit-product-disable-attributes"}},[i("span",{staticClass:"show-for-sr"},[t._v(t._s(t.$t("Disable Attributes")))])])])]):t._e()],1)])],1)]),t._v(" "),i("div",{staticClass:"bottom-row expanded row"}),t._v(" "),i("a",{attrs:{tabindex:"0",id:"button-delete"},on:{click:function(e){return e.preventDefault(),t.openConfirmDeleteModal.apply(null,arguments)}}},[t._v("\n    "+t._s(t.$t("Delete Model"))+"\n  ")])])}),[],!1,null,"42c8f70f",null);e.a=R.exports},945:function(t,e,i){"use strict";var s=i(11),a=i(0),n=i(835),o=i(6),r=i.n(o),l=i(674),c=i(8),d=i(22),u=i(12),h=i(779),p=i(24),m=i(54),g=i(3),v=function(t,e,i,s){var a,n=arguments.length,o=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,s);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(o=(n<3?a(o):n>3?a(e,i,o):a(e,i))||o);return n>3&&o&&Object.defineProperty(e,i,o),o},f=function(t,e,i,s){return new(i||(i=Promise))((function(a,n){function o(t){try{l(s.next(t))}catch(t){n(t)}}function r(t){try{l(s.throw(t))}catch(t){n(t)}}function l(t){var e;t.done?a(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,r)}l((s=s.apply(t,e||[])).next())}))};let C=class CatalogEditorMixin extends r.a{constructor(){super(...arguments),this.isCatalogHome_=!1,this.bannerUrl_="",this.rootCatalogResolved=!1,this.originalBannerUrl="",this.urlMaxLen=g.Constants.ITEM_URL_MAX_LENGTH,this.bannerUrlMaxLen=g.Constants.ITEM_URL_MAX_LENGTH,this.bannerUrlCharsRemaining=g.Constants.ITEM_URL_MAX_LENGTH,this.isBannerUrlValid=!0,this.isLegacyCatalog=!1,this.rootCatalog=null}createEditor(t){this.parent=t,this.readBannerUrl(),this.getRootCatalog().then((t=>{this.rootCatalog=t,this.rootCatalogResolved=!0,this.isLegacyCatalog=null!=t&&(!!this.parent.collection&&this.parent.collection.id===t.id),this.isCatalogHome_=this.isLegacyCatalog}))}mounted(){}resetCatalog(){this.isLegacyCatalog=!1,this.rootCatalog&&this.parent.collection&&this.rootCatalog.id===this.parent.collection.id&&(this.isLegacyCatalog=!0),this.isCatalogHome_=this.isLegacyCatalog,this.readBannerUrl(),this.checkBannerUrl()}saveCatalogChanges(){return f(this,void 0,void 0,(function*(){try{return yield this.updateBanner(),yield this.updateHomeCatalog(),Promise.resolve()}catch(t){return Promise.reject(t)}}))}updateHomeCatalog(){return f(this,void 0,void 0,(function*(){if(!this.isHomeCatalogChanged)return Promise.resolve();const t=this.parent.$store.state.currentSubjectOwner,e=this.isCatalogHome_?this.parent.collection.id:null,i={"3dw":{catalogId:e?{dataType:"string",value:e}:null}};yield this.parent.$api.updateUserAttributes(t.id,i),t.attributes||(t.attributes=i),this.isCatalogHome_?(yield this.removeOldHomeCatalog(),this.rootCatalog=this.parent.collection,this.isLegacyCatalog=!0,c.a.setAttributeValue(t.attributes,"3dw","catalogId","string",e)):(this.parent.$store.state.currentItemParentCatalog=null,this.rootCatalog=null,this.isLegacyCatalog=!1,c.a.removeAttribute(t.attributes,"3dw","catalogId"))}))}removeOldHomeCatalog(){return f(this,void 0,void 0,(function*(){if(this.rootCatalog&&this.rootCatalog.id!==this.parent.collection.id){const t={isCatalog:!1};yield this.parent.$api.updateCollection(this.rootCatalog.id,t)}return Promise.resolve()}))}updateBanner(){return f(this,void 0,void 0,(function*(){if(!this.isBannerUrlChanged)return Promise.resolve();let t=this.bannerUrl_.trim();0===t.length&&(t=null);const e={"3dw":{bannerUrl:t?{dataType:"string",value:t}:null}};yield this.parent.$api.updateCollectionAttributes(this.parent.collection.id,e),this.parent.collection.attributes||(this.parent.collection.attributes=e),t?c.a.setAttributeValue(this.parent.collection.attributes,"3dw","bannerUrl","string",t):c.a.removeAttribute(this.parent.collection.attributes,"3dw","bannerUrl"),this.originalBannerUrl=t||""}))}updateChangeList(t){this.isHomeCatalogChanged&&t.push(this.isCatalogHome_?"setCatalog":"removedCatalog"),this.isBannerUrlChanged&&t.push("bannerUrl")}isCatalogViolation(t){let e="";return t&&(t.data?t.data.responseJSON&&(e=t.data.responseJSON.errorId):t.responseJSON?e=t.responseJSON.errorId:t.errorId&&(e=t.errorId)),"COLLECTION_CATALOG_VIOLATION"===e}readBannerUrl(){this.parent.collection&&(this.originalBannerUrl=c.a.getAttributeValue(this.parent.collection.attributes,"3dw","bannerUrl")||"",this.originalBannerUrl=this.originalBannerUrl.trim()),this.bannerUrl_=this.originalBannerUrl}get canEditCatalog(){return m.g(this.$user)}get canHaveCatalog(){const t=this.parent.$store.getters.currentSubjectOwner;return null!=t&&d.isManufacturer(t.roles)}getRootCatalog(){if(this.parent.collection&&this.parent.collection.isCatalog)return Promise.resolve(this.parent.collection);let t=null;const e=this.parent.$store.getters.currentSubjectOwner;if(e&&(t=c.a.getAttributeValue(e.attributes,"3dw","catalogId")),!t)return Promise.resolve(null);if(this.parent.collection&&this.parent.collection.id===t)return Promise.resolve(this.parent.collection);const i=this.parent.$store.getters.currentItemParentCatalog;if(i&&i.id===t)return Promise.resolve(i);if(!this.parent.$api)return Promise.resolve(null);return this.parent.$api.getCollection(t,{recordEvent:!1}).then((t=>p.a.create(t)),(()=>Promise.resolve(null)))}get isCatalogHome(){return this.isCatalogHome_}toggleIsCatalogHome(){let t=null,e=!this.isCatalogHome_;e&&!this.rootCatalog?t=this.$t("Are you sure you want to make this collection your Catalog Home Page? Your Catalog can only have one Home Page."):e&&this.rootCatalog.id!==this.parent.collection.id?t=this.$t('Warning: Setting this collection as your Catalog Home Page will replace your existing Catalog Home Page, "{oldCatalogName}." Are you sure you want to proceed?',{oldCatalogName:this.rootCatalog.title}):!e&&this.isLegacyCatalog&&(t=this.$t("Warning: Removing Catalog status from this collection will mean that your account will no longer have a Catalog Home Page.")),t?this.getCatalogWarningConfirmation(t,e):(this.isCatalogHome_=e,this.parent.checkIsChanged())}get bannerUrl(){return this.bannerUrl_}set bannerUrl(t){this.bannerUrl_=t,this.checkBannerUrl(),this.parent.checkIsChanged()}getCatalogWarningConfirmation(t,e){const i=this.$t("Continue"),s=()=>{this.isCatalogHome_=e,this.parent.checkIsChanged()},a=()=>{this.parent.catalogToggleRef.checked=this.isCatalogHome_};return this.parent.confirmModal?(this.parent.confirmModal.acceptCallback=s,this.parent.confirmModal.cancelCallback=a,this.parent.confirmModal.confirmButtonText=i,this.parent.confirmModal.message=t,this.parent.confirmModal.cancelButton=!0,this.parent.confirmModal.openModal()):(this.parent.confirmModal=new h.b({store:this.parent.$store,propsData:{acceptCallback:s,cancelCallback:a,confirmButtonText:i,isOverModal:!0,cancelButton:!0,message:t}}),this.parent.confirmModal.mountOnPage()),!1}checkIsCatalogChanged(){return!!this.isHomeCatalogChanged||!!this.isBannerUrlChanged}get isHomeCatalogChanged(){return this.isCatalogHome_!==this.isLegacyCatalog}get isBannerUrlChanged(){return this.bannerUrl_.trim()!==this.originalBannerUrl}checkBannerUrl(){this.isBannerUrlValid=this.parent.checkIsUrlValid(this.bannerUrl),this.bannerUrlCharsRemaining=this.bannerUrlMaxLen-this.bannerUrlLen}get bannerUrlLen(){return this.bannerUrl?this.bannerUrl.length:0}get bannerUrlLabel(){return this.isBannerUrlValid?this.$t("Catalog Banner URL"):this.$t("Invalid URL")}get isCatalogEdited(){return this.isHomeCatalogChanged||this.isBannerUrlChanged}isCatalogSavable(){return this.isBannerUrlValid}};C=v([Object(u.b)({})],C);var b=C,y=i(149),w=i(14),_=i(71),T=i(48),S=i(9),E=i(789),O=i(895),I=i(735),A=i(786),D=i(881),M=function(t,e,i,s){var a,n=arguments.length,o=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,s);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(o=(n<3?a(o):n>3?a(e,i,o):a(e,i))||o);return n>3&&o&&Object.defineProperty(e,i,o),o},k=function(t,e,i,s){return new(i||(i=Promise))((function(a,n){function o(t){try{l(s.next(t))}catch(t){n(t)}}function r(t){try{l(s.throw(t))}catch(t){n(t)}}function l(t){var e;t.done?a(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,r)}l((s=s.apply(t,e||[])).next())}))};let L=class UcmEditCollectionGeneral extends r.a{constructor(){super(...arguments),this.name="ucm-edit-collection-general",this.isEdited=!1,this.collectionCategory_=!1,this.descMaxLen=g.Constants.ITEM_DESCRIPTION_MAX_LENGTH,this.descCharsRemaining=g.Constants.ITEM_DESCRIPTION_MAX_LENGTH,this.externalUrlCharsRemaining=g.Constants.ITEM_URL_MAX_LENGTH,this.urlMaxLen=g.Constants.ITEM_URL_MAX_LENGTH,this.isDescriptionValid=!0,this.descriptionError="",this.isExternalUrlValid=!0,this.isFolder=!1,this.externalUrlImpl="",this.description="",this.domainLocal="",this.subdomainLocal="",this.domainInitial="",this.subdomainInitial="",this.alignment=g.DropdownAlignments.LEFT}get deleteLabel(){return this.isFolder?this.$t("Delete Folder"):this.$t("Delete Collection")}get descriptionLabel(){return this.$t("Description")}get descriptionLen(){return this.description?this.description.length:0}get externalUrlLen(){return this.externalUrlImpl?this.externalUrlImpl.length:0}get externalUrl(){return this.externalUrlImpl}set externalUrl(t){this.externalUrlImpl=t,this.checkExternalUrl()}get catalogToggleRef(){return this.$refs.isCatalogHome}get catalogMixin(){return this}navigateToCatalogs(){const t={nav:T.p.CATALOGS};this.$router.push({query:t})}checkIsUrlValid(t){const e=s.uri.ensureUrlHasProtocol(t);return Object(S.H)(e)}checkValidDescription(){const t=!1===_.b(this.description),e=_.a(this.description),i=_.d(e);this.isDescriptionValid=!t&&i,this.descriptionError=t?this.$t("You can use up to {maxHashTags} hashtags.",{maxHashTags:g.Constants.MAXIMUM_HASHTAGS.toString()}):!1===i?this.$t("Hashtags can be at most {hashtagSize} characters.",{hashtagSize:g.Constants.MAXIMUM_HASHTAG_SIZE.toString()}):""}beforeDestroy(){this.close()}created(){this.isFolder=this.collection.isPrivate,this.setupPageState(),this.catalogMixin.createEditor(this)}close(){null!=this.uploadBanner&&(this.uploadBanner.$destroy(),this.uploadBanner=null),null!=this.confirmModal&&(this.confirmModal.$destroy(),this.confirmModal=null)}checkIsChanged(){this.description.trim()!==this.collection.description.trim()||this.externalUrl.trim()!==this.collection.externalUrl.trim()||this.subdomainLocal!==this.subdomainInitial||this.domainLocal!==this.domainInitial?this.isEdited=!0:this.isEdited=this.catalogMixin.isCatalogEdited,this.editCallback&&this.editCallback()}get isSavable(){return this.isEdited&&this.checkIsUrlValid(this.externalUrl)&&this.isDescriptionValid&&this.catalogMixin.isCatalogSavable()}setupPageState(){this.description=this.collection.description||"",this.externalUrl=this.collection.externalUrl||"",this.domainLocal=c.a.getAttributeValue(this.collection.attributes,"categories","domain")||"",this.domainInitial=this.domainLocal,this.subdomainLocal=c.a.getAttributeValue(this.collection.attributes,"categories","subdomain")||"",this.subdomainInitial=this.subdomainLocal,this.checkExternalUrl(),this.checkValidDescription()}confirmDelete(){const t=this.deleteLabel,e=this.isFolder?this.$t("You’re about to delete your folder and all instances of it on the 3D Warehouse. It cannot be recovered. Are you sure?"):this.$t("You’re about to delete your collection and all instances of it on the 3D Warehouse. It cannot be recovered. Are you sure?"),i=this.deleteCollection,s=this.noop;this.confirmModal?(this.confirmModal.acceptCallback=i,this.confirmModal.cancelCallback=s,this.confirmModal.confirmButtonText=t,this.confirmModal.message=e,this.confirmModal.cancelButton=!0,this.confirmModal.openModal()):(this.confirmModal=new h.b({store:this.$store,propsData:{acceptCallback:i,cancelCallback:s,confirmButtonText:t,isOverModal:!0,cancelButton:!0,message:e}}),this.confirmModal.mountOnPage())}checkDescription(){this.descCharsRemaining=this.descMaxLen-this.descriptionLen,this.checkValidDescription(),this.checkIsChanged()}checkExternalUrl(){this.checkIsChanged(),this.isExternalUrlValid=this.checkIsUrlValid(this.externalUrl),this.externalUrlCharsRemaining=g.Constants.ITEM_URL_MAX_LENGTH-this.externalUrlLen}categorySelectionChanged(t,e,i,s){this.domainLocal=t,this.subdomainLocal=e,this.checkIsChanged()}get externalUrlLabel(){return this.isExternalUrlValid?this.$t("External URL"):this.$t("Invalid URL")}deleteCollection(){return k(this,void 0,void 0,(function*(){const t=y.c.COLLECTION_DELETE;this.$eventBus.$emit(T.m.UPDATING_PAGE,!0);try{yield this.$api.deleteCollection(this.collection.id),y.l(t,["success"]),this.goBackToListPage(),this.$eventBus.$emit(T.m.UPDATING_PAGE,!1)}catch(e){y.l(t,["failure"]),this.$eventBus.$emit(T.m.UPDATING_PAGE,!1)}}))}acceptThumbnailUpload(){this.$eventBus.$emit(T.m.UPDATING_PAGE,!1),this.collection.missingCustomImageBinary=!1,this.$eventBus.$emit(g.Events.UPDATE_THUMBNAIL,this.collection,this.collection)}selectThumbnail(){this.$eventBus.$emit(T.m.UPDATING_PAGE,!0)}thumbnailError(){this.$eventBus.$emit(T.m.UPDATING_PAGE,!1)}goBackToListPage(){const t={nav:this.isFolder?T.p.FOLDERS:T.p.COLLECTIONS,deleted:this.collection.id};this.$router.push({query:t})}changeBanner(t){this.uploadBanner?(this.uploadBanner.reset(),this.uploadBanner.openModal()):(this.uploadBanner=new D.a({store:this.$store,propsData:{collection:this.collection,allowModelSelection:!1,binaryName:a.BinaryType.Catalog_Banner,width:g.Constants.CATALOG_BANNER_WIDTH,height:g.Constants.CATALOG_BANNER_HEIGHT,acceptCallback:t=>{this.$eventBus.$emit(T.m.UPDATING_PAGE,!1)},selectCallback:()=>{this.$eventBus.$emit(T.m.UPDATING_PAGE,!0),this.uploadBanner.dismiss()}}}),this.uploadBanner.mountOnPage())}noop(){}};M([Object(l.d)()],L.prototype,"collection",void 0),M([Object(l.d)()],L.prototype,"editCallback",void 0),L=M([Object(l.a)({components:{CategorizationAssignment:E.a,CharactersRemaining:A.a,CollectionElementThumbnailSelector:O.a,ErrorInContext:I.a,IconEdit:n.a},data:()=>({AcceptLevels:w.b,CategorizationLabels:w.a}),mixins:[b],watch:{collection:function(){this.setupPageState()}}})],L);var $=L,x=i(28),P=Object(x.a)($,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"ucm-edit-collection-general"},[i("div",{staticClass:"input-label"},[t._v("\n    "+t._s(t.$t("Thumbnail"))+"\n  ")]),t._v(" "),i("collection-element-thumbnail-selector",{attrs:{collectionElement:t.collection,acceptCallback:t.acceptThumbnailUpload,selectCallback:t.selectThumbnail,errorCallback:t.thumbnailError}}),t._v(" "),i("div",{staticClass:"input-label description-label"},[t.isDescriptionValid?i("div",[t._v("\n      "+t._s(t.$t("Description"))+"\n    ")]):i("div",{staticClass:"invalid-label"},[t._v("\n      "+t._s(t.$t("Invalid Description.")+" "+t.descriptionError)+"\n    ")]),t._v(" "),i("characters-remaining",{attrs:{characterCount:t.description.length,maxAllowed:t.descMaxLen}})],1),t._v(" "),i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.description,expression:"description"}],class:{"input-field-error-bar":!t.isDescriptionValid},attrs:{name:"collection-description",id:"collection-description-input",tabindex:"0",maxlength:1e3,placeholder:t.descriptionLabel},domProps:{value:t.description},on:{input:[function(e){e.target.composing||(t.description=e.target.value)},t.checkDescription]}}),t._v(" "),i("div",{staticClass:"collection-url-input"},[i("error-in-context",{attrs:{errorState:!t.isExternalUrlValid,errorText:t.externalUrlLabel,contextHeader:t.externalUrlLabel,maxCharacters:t.urlMaxLen,characterCount:t.externalUrlLen}}),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.externalUrl,expression:"externalUrl"}],ref:"externalUrlInput",attrs:{id:"external-url-input",placeholder:t.externalUrlLabel,maxlength:t.urlMaxLen,tabindex:"0"},domProps:{value:t.externalUrl},on:{input:function(e){e.target.composing||(t.externalUrl=e.target.value)}}})],1),t._v(" "),i("div",[i("error-in-context",{attrs:{contextHeader:t.$t("Category")}}),t._v(" "),i("categorization-assignment",{attrs:{domain:t.domainLocal,subdomain:t.subdomainLocal,id:"edit-cat-assignment",align:t.alignment,acceptLevel:t.AcceptLevels.SUBDOMAIN_LEVEL,includeDomainAll:!0},on:{categorySelectionChanged:t.categorySelectionChanged}})],1),t._v(" "),!t.isFolder&&t.catalogMixin.canHaveCatalog&&t.catalogMixin.canEditCatalog?i("div",[i("div",{staticClass:"catalog-title"},[t._v("\n      "+t._s(this.$t("Catalog"))+"\n    ")]),t._v(" "),i("div",{staticClass:"collection-private-input switch-container"},[i("div",{staticClass:"float-left"},[t._v(t._s(t.$t("Make this my Catalog Home Page?"))+"\n      ")]),t._v(" "),i("div",{staticClass:"switch float-right"},[i("input",{ref:"isCatalogHome",staticClass:"switch-input",attrs:{type:"checkbox",id:"catalog-check",name:"IsCatalogHome",disabled:!t.catalogMixin.rootCatalogResolved},domProps:{checked:t.catalogMixin.isCatalogHome},on:{click:t.catalogMixin.toggleIsCatalogHome}}),t._v(" "),i("label",{staticClass:"switch-paddle",attrs:{for:"catalog-check"}},[i("span",{staticClass:"show-for-sr"},[t._v(t._s(t.$t("Catalog Home Page")))])])])]),t._v(" "),t.catalogMixin.isCatalogHome?i("div",[i("div",{staticClass:"section-label banner-label"},[t._v("\n        "+t._s(t.$t("Banner")+"*")+"\n      ")]),t._v(" "),i("div",{staticClass:"image-upload banner"},[i("img",{attrs:{src:t.collection.catalogBannerUrl,onerror:"this.style.display='none'",onload:"this.style.display='inline-block'"}}),t._v(" "),i("div",{staticClass:"overlay",on:{click:t.changeBanner}},[i("div",{staticClass:"overlay-text"},[i("div",{staticClass:"svg-icon"},[i("IconEdit")],1)])])]),t._v(" "),i("div",{staticClass:"collection-url-input"},[i("error-in-context",{attrs:{errorState:!t.catalogMixin.isBannerUrlValid,errorText:t.catalogMixin.bannerUrlLabel,contextHeader:t.catalogMixin.bannerUrlLabel,maxCharacters:t.catalogMixin.bannerUrlMaxLen,characterCount:t.catalogMixin.bannerUrlLen}}),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.catalogMixin.bannerUrl,expression:"catalogMixin.bannerUrl"}],ref:"bannerUrlInput",attrs:{id:"banner-url-input",placeholder:t.catalogMixin.bannerUrlLabel,maxLength:t.catalogMixin.bannerUrlMaxLen,tabindex:"0"},domProps:{value:t.catalogMixin.bannerUrl},on:{input:function(e){e.target.composing||t.$set(t.catalogMixin,"bannerUrl",e.target.value)}}})],1)]):t._e()]):t._e(),t._v(" "),!t.isFolder&&t.catalogMixin.canHaveCatalog&&t.catalogMixin.canEditCatalog?i("div",{staticClass:"catalog-message",on:{click:t.navigateToCatalogs}},[i("span",{staticClass:"text"},[t._v(t._s(t.$t("Looking for the catalog controls? Check out the new catalog editor.")))])]):t._e(),t._v(" "),i("div",{staticClass:"line-separator"}),t._v(" "),i("div",{staticClass:"delete-collection",attrs:{tabindex:"0"},on:{click:t.confirmDelete}},[t._v("\n    "+t._s(t.deleteLabel)+"\n  ")])],1)}),[],!1,null,"7cdf1cd1",null);e.a=P.exports},948:function(t,e,i){"use strict";var s=i(0),a=i(6),n=i.n(a),o=i(674),r=i(8),l=i(149),c=i(14),d=i(71),u=i(48),h=i(3),p=i(9),m=i(789),g=i(895),v=i(779),f=i(936),C=i(786),b=i(791),y=function(t,e,i,s){var a,n=arguments.length,o=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,s);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(o=(n<3?a(o):n>3?a(e,i,o):a(e,i))||o);return n>3&&o&&Object.defineProperty(e,i,o),o},w=function(t,e,i,s){return new(i||(i=Promise))((function(a,n){function o(t){try{l(s.next(t))}catch(t){n(t)}}function r(t){try{l(s.throw(t))}catch(t){n(t)}}function l(t){var e;t.done?a(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,r)}l((s=s.apply(t,e||[])).next())}))};let _=class UcmEditCatalogGeneral extends n.a{constructor(){super(...arguments),this.name="ucm-edit-catalog-general",this.descMaxLen=h.Constants.ITEM_DESCRIPTION_MAX_LENGTH,this.descCharsRemaining=h.Constants.ITEM_DESCRIPTION_MAX_LENGTH,this.externalUrl="",this.validUrl=!0,this.isPrivate=!0,this.description="",this.isDescriptionValid=!0,this.descriptionError="",this.domain="",this.subdomain="",this.domainInitial="",this.subdomainInitial=""}onDataChanged(){this.onFieldsChanged()}get descriptionLabel(){return this.$t("Description")}get descriptionLen(){return this.description?this.description.length:0}beforeDestroy(){this.close()}created(){this.setupComponentState(),this.validateUrl()}mounted(){this.$emit("mounted")}reset(){}close(){null!=this.confirmModal&&(this.confirmModal.$destroy(),this.confirmModal=null)}get isEdited(){return this.description.trim()!==this.catalog.description.trim()||this.externalUrl.trim()!==this.catalog.externalUrl.trim()||this.isPrivate!==this.catalog.isPrivate||this.domain!==this.domainInitial||this.subdomain!==this.subdomainInitial}get fieldsAreValid(){return this.validateDescription(),this.validateUrl(),this.isDescriptionValid&&this.validUrl}categorySelectionChanged(t,e){this.domain=t,this.subdomain=e}validateDescription(){if(this.description.trim()!==this.catalog.description.trim()){const t=!1===d.b(this.description),e=d.a(this.description),i=d.d(e);this.isDescriptionValid=!t&&i,this.descriptionError=t?this.$t("You can use up to {maxHashTags} hashtags.",{maxHashTags:h.Constants.MAXIMUM_HASHTAGS.toString()}):!1===i?this.$t("Hashtags can be at most {hashtagSize} characters.",{hashtagSize:h.Constants.MAXIMUM_HASHTAG_SIZE.toString()}):""}}onFieldsChanged(){this.workingCatalog.description=this.description,this.workingCatalog.externalUrl=this.externalUrl,this.workingCatalog.isPrivate=this.isPrivate,r.a.setAttributeValue(this.workingCatalog.attributes,"categories","domain","string",this.domain),r.a.setAttributeValue(this.workingCatalog.attributes,"categories","subdomain","string",this.subdomain),this.$emit("sync-working-catalog",this.workingCatalog)}getDataToSave(){}processSaveChangesCallback(){}setupComponentState(){var t,e;this.description=this.workingCatalog.description,this.isPrivate=this.workingCatalog.isPrivate,this.externalUrl=this.workingCatalog.externalUrl,this.domain=null!==(t=this.workingCatalog.getCatalogCategoryAttributeValue("domain"))&&void 0!==t?t:"",this.domainInitial=this.domain,this.subdomain=null!==(e=this.workingCatalog.getCatalogCategoryAttributeValue("subdomain"))&&void 0!==e?e:"",this.subdomainInitial=this.subdomain}confirmDelete(){const t=this.$t("Delete Catalog"),e=this.$t("You’re about to delete your catalog and all instances of it on the 3D Warehouse. It cannot be recovered. Are you sure?"),i=this.deleteCatalog,s=()=>{};null!=this.confirmModal?(this.confirmModal.acceptCallback=i,this.confirmModal.cancelCallback=s,this.confirmModal.confirmButtonText=t,this.confirmModal.message=e,this.confirmModal.cancelButton=!0,this.confirmModal.openModal()):(this.confirmModal=new v.b({store:this.$store,propsData:{acceptCallback:i,cancelCallback:s,confirmButtonText:t,isOverModal:!0,cancelButton:!0,message:e}}),this.confirmModal.mountOnPage())}checkDescription(){this.descCharsRemaining=this.descMaxLen-this.descriptionLen}deleteCatalog(){return w(this,void 0,void 0,(function*(){const t=l.c.COLLECTION_DELETE;this.$eventBus.$emit(u.m.UPDATING_PAGE,!0);try{yield this.$api.deleteCatalog(this.catalog.id),l.l(t,["success"]),this.goBackToCatalogList(),this.$eventBus.$emit(u.m.UPDATING_PAGE,!1)}catch(e){l.l(t,["failure"]),this.$eventBus.$emit(u.m.UPDATING_PAGE,!1)}}))}goBackToCatalogList(){const t={nav:u.p.CATALOGS,deleted:this.catalog.id};this.$router.push({query:t})}get bannerUrl(){var t;return null!=(null===(t=this.catalog)||void 0===t?void 0:t.catalogBannerUrl)?this.catalog.catalogBannerUrl:""}get bannerBinaryName(){return s.BinaryType.Catalog_Banner}bannerAcceptCallback(t){this.$eventBus.$emit(u.m.UPDATING_PAGE,!1),this.workingCatalog.catalogBannerUrl=t,this.$emit("sync-working-catalog",this.workingCatalog)}get urlMaxLength(){return h.Constants.ITEM_URL_MAX_LENGTH}get urlCharsRemaining(){return this.urlMaxLength-this.urlLength}get urlLength(){return this.externalUrl.trim().length}validateUrl(){this.externalUrl=this.externalUrl.trim(),0===this.externalUrl.length?this.validUrl=!0:(this.externalUrl=p.c(this.externalUrl),this.validUrl=p.I(this.externalUrl),this.validUrl&&(this.validUrl=!!p.H(this.externalUrl)))}acceptThumbnailUpload(t){this.$eventBus.$emit(u.m.UPDATING_PAGE,!1),this.workingCatalog.thumbnailUrl=t,this.workingCatalog.missingCustomImageBinary=!1,this.$emit("sync-working-catalog",this.workingCatalog)}selectThumbnail(){this.$eventBus.$emit(u.m.UPDATING_PAGE,!0)}thumbnailError(){this.$eventBus.$emit(u.m.UPDATING_PAGE,!1)}};y([Object(o.d)({required:!0})],_.prototype,"catalog",void 0),y([Object(o.d)({required:!0})],_.prototype,"workingCatalog",void 0),y([Object(o.f)("description"),Object(o.f)("isPrivate"),Object(o.f)("domain"),Object(o.f)("subdomain"),Object(o.f)("externalUrl")],_.prototype,"onDataChanged",null),_=y([Object(o.a)({components:{BannerImageField:f.a,CategorizationAssignment:m.a,CharactersRemaining:C.a,CollectionElementThumbnailSelector:g.a,HelpCallout:b.b},data:()=>({AcceptLevels:c.b,DropdownAlignments:h.DropdownAlignments})})],_);var T=_,S=i(28),E=Object(S.a)(T,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"ucm-edit-catalog-general"},[i("div",{staticClass:"input-label"},[t._v("\n    "+t._s(t.$t("Visibility Settings"))+"\n  ")]),t._v(" "),i("div",{staticClass:"switch-container"},[i("div",{staticClass:"label float-left"},[t._v(t._s(t.$t("Private Catalog")))]),t._v(" "),i("help-callout",{attrs:{calloutText:t.$t("Make this catalog visible to you only")}}),t._v(" "),i("div",{staticClass:"switch float-right"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.isPrivate,expression:"isPrivate"}],staticClass:"switch-input",attrs:{type:"checkbox",id:"edit-catalog-is-private",name:"IsPrivate"},domProps:{checked:Array.isArray(t.isPrivate)?t._i(t.isPrivate,null)>-1:t.isPrivate},on:{change:function(e){var i=t.isPrivate,s=e.target,a=!!s.checked;if(Array.isArray(i)){var n=t._i(i,null);s.checked?n<0&&(t.isPrivate=i.concat([null])):n>-1&&(t.isPrivate=i.slice(0,n).concat(i.slice(n+1)))}else t.isPrivate=a}}}),t._v(" "),i("label",{staticClass:"switch-paddle",attrs:{for:"edit-catalog-is-private"}},[i("span",{staticClass:"show-for-sr"},[t._v(t._s(t.$t("Private Catalog")))])])])],1),t._v(" "),i("div",{staticClass:"input-label"},[t._v("\n    "+t._s(t.$t("Catalog Thumbnail"))+"\n  ")]),t._v(" "),i("collection-element-thumbnail-selector",{attrs:{collectionElement:t.workingCatalog,allowModelSelection:!1,acceptCallback:t.acceptThumbnailUpload,selectCallback:t.selectThumbnail,errorCallback:t.thumbnailError}}),t._v(" "),i("div",{staticClass:"input-label description-label"},[t.isDescriptionValid?i("div",[t._v("\n      "+t._s(t.$t("Description"))+"\n    ")]):i("div",{staticClass:"invalid-label"},[t._v("\n      "+t._s(t.$t("Invalid Description.")+" "+t.descriptionError)+"\n    ")]),t._v(" "),i("characters-remaining",{attrs:{characterCount:t.description.length,maxAllowed:t.descMaxLen}})],1),t._v(" "),i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.description,expression:"description"}],class:{"input-field-error-bar":!t.isDescriptionValid},attrs:{name:"catalog-description",id:"catalog-description-input",tabindex:"0",maxlength:t.descMaxLen,placeholder:t.descriptionLabel},domProps:{value:t.description},on:{input:[function(e){e.target.composing||(t.description=e.target.value)},t.checkDescription]}}),t._v(" "),i("div",{staticClass:"input-label"},[t._v("\n    "+t._s(t.$t("Category"))+"\n  ")]),t._v(" "),i("categorization-assignment",{attrs:{domain:t.domain,subdomain:t.subdomain,id:"edit-catalog-category-assignment",align:t.DropdownAlignments.LEFT,acceptLevel:t.AcceptLevels.SUBDOMAIN_LEVEL,includeDomainAll:!0},on:{categorySelectionChanged:t.categorySelectionChanged}}),t._v(" "),i("div",{staticClass:"input-label"},[t._v("\n    "+t._s(t.$t("Catalog Banner"))+"\n  ")]),t._v(" "),i("banner-image-field",{attrs:{bannerUrl:t.bannerUrl,binaryName:t.bannerBinaryName,collection:t.catalog,acceptCallback:t.bannerAcceptCallback}}),t._v(" "),i("div",{staticClass:"edit-url"},[i("div",{staticClass:"input-label"},[t.validUrl?i("div",{staticClass:"valid-label"},[t._v("\n        "+t._s(t.$t("Banner URL"))+"\n      ")]):i("div",{staticClass:"invalid-label"},[t._v("\n        "+t._s(t.$t("Invalid URL"))+"\n      ")]),t._v(" "),i("characters-remaining",{attrs:{characterCount:t.externalUrl.length,maxAllowed:t.urlMaxLength}})],1),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.externalUrl,expression:"externalUrl"}],class:{"input-field-error-bar":!t.validUrl},attrs:{type:"text",id:"edit-url-input",maxlength:t.urlMaxLength},domProps:{value:t.externalUrl},on:{blur:t.validateUrl,input:function(e){e.target.composing||(t.externalUrl=e.target.value)}}})]),t._v(" "),i("div",{staticClass:"line-separator"}),t._v(" "),i("div",{staticClass:"delete-catalog",attrs:{tabindex:"0"},on:{click:t.confirmDelete}},[t._v("\n    "+t._s(t.$t("Delete Catalog"))+"\n  ")])],1)}),[],!1,null,"d7e562a0",null);e.a=E.exports},949:function(t,e,i){"use strict";var s=i(50),a=i(674),n=(i(932),i(153)),o=i(2),r=i(73),l=i(48),c=i(727),d=i(926),u=i(928),h=function(t,e,i,s){var a,n=arguments.length,o=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,s);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(o=(n<3?a(o):n>3?a(e,i,o):a(e,i))||o);return n>3&&o&&Object.defineProperty(e,i,o),o};let p=class UcmEditModelAttributes extends u.a{constructor(){super(...arguments),this.name="ucm-edit-model-attributes",this.arePredefinedFieldsAreValid=!0,this.areCustomFieldsAreValid=!0,this.arePredefinedFieldsEdited=!1,this.areCustomFieldsEdited=!1,this.maxFieldCount=l.a.MAX_ATTRIBUTE_COUNT,this.unitOptions=[{value:o.h.MILLIMETERS,label:o.h.MILLIMETERS},{value:o.h.INCHES,label:o.h.INCHES}],this.predefinedAttributes={},this.originalPredefinedAttributes={},this.customAttributes=[],this.originalCustomAttributes=[]}onUnitSelectionChange(){this.fieldsAreValid&&this.didUnitSelectionChange()?(this.predefinedFieldsChanged(this.predefinedAttributes),this.$eventBus.$emit(l.m.ENABLE_SAVING,!0)):this.$eventBus.$emit(l.m.ENABLE_SAVING,!1)}get fieldsAreValid(){return this.arePredefinedFieldsAreValid&&this.areCustomFieldsAreValid}created(){this.manufacturerAttributeLabels=this.getCollectionElementAttributeLabels(this.collectionElement);const t=this.getCollectionElementAttributes(this.collectionElement);this.setupAttributes(t)}mounted(){this.isMounted=!0,this.$emit("mounted")}getCollectionElementAttributeLabels(t){const e=t.attributes.manufacturerAttributeLabels,i=null!=e?e:{},s=this.getDefaultManufacturerAttributeLabels();return r.g(i,s)}getCollectionElementAttributes(t){const e=t.attributes.manufacturerAttributes,i=null!=e?e:{},s=this.getDefaultManufacturerAttributes();return r.g(i,s)}getDefaultManufacturerAttributes(){let t={};return n.g.forEach((e=>{e===n.f?t[e]=new r.a("","string"):t[e]=new r.a(null,"float")})),t.custom=new r.a("[]","string"),t}getDefaultManufacturerAttributeLabels(){let t={};return t[n.a]=new r.a(n.a,"string"),t[n.d]=new r.a(n.d,"string"),t}setupAttributes(t){this.buildAttributes(t),this.originalPredefinedAttributes=s.cloneDeep(this.predefinedAttributes),this.originalCustomAttributes=s.cloneDeep(this.customAttributes),this.maxFieldCount=l.a.MAX_ATTRIBUTE_COUNT-Object.keys(this.originalPredefinedAttributes).length}buildAttributes(t){this.predefinedAttributes=this.setupPredefinedAttributes(t);const e=null!=t.custom?JSON.parse(t.custom.value):[];this.customAttributes=e}setupPredefinedAttributes(t){let e={};return n.g.forEach((i=>{var s;if(null!=t[i]){const a=!("string"===t[i].dataType);e[i]=this.createPredefinedAttribute(i,null!==(s=t[i].value)&&void 0!==s?s:"",a)}else e[i]=this.createPredefinedAttribute(i,"",!1);i===n.d?(e[i].hasLabelDropdowns=!0,e[i].labelOptions=n.e,e[i].labelSelection=this.manufacturerAttributeLabels[i].value):i===n.a&&(e[i].hasLabelDropdowns=!0,e[i].labelOptions=n.b,e[i].labelSelection=this.manufacturerAttributeLabels[i].value)})),e}predefinedFieldsChanged(t){const e=this.predefinedFieldsAreValid(t)&&this.predefinedFieldsAreNumbers(t),i=this.updatedFieldsToStoreValue(t,this.customAttributes);this.arePredefinedFieldsEdited=this.didPredefinedFieldsGetEdited(t),this.arePredefinedFieldsAreValid=e,this.predefinedAttributes=t,this.pendingAttributes=i,this.isEdited&&this.fieldsAreValid?this.$eventBus.$emit(l.m.ENABLE_SAVING,!0):this.$eventBus.$emit(l.m.ENABLE_SAVING,!1)}customFieldsChanged(t){const e=this.customFieldsAreValid(t),i=this.updatedFieldsToStoreValue(this.predefinedAttributes,t);this.areCustomFieldsEdited=this.didCustomFieldsGetEdited(i),this.areCustomFieldsAreValid=e,this.customAttributes=t,this.pendingAttributes=i,this.isEdited&&this.fieldsAreValid?this.$eventBus.$emit(l.m.ENABLE_SAVING,!0):this.$eventBus.$emit(l.m.ENABLE_SAVING,!1)}didUnitSelectionChange(){return this.originalUnitSelection!==this.unitSelection}didPredefinedFieldsGetEdited(t){return!s.isEqual(this.originalPredefinedAttributes,t)||this.didUnitSelectionChange()}didCustomFieldsGetEdited(t){const e=t.labels;return!s.isEqual(this.manufacturerAttributeLabels,e)||r.d(this.originalCustomAttributes,t)}getDataToSave(){const t={manufacturerAttributes:this.pendingAttributes&&this.pendingAttributes.fields?this.pendingAttributes.fields:{},manufacturerAttributeLabels:this.pendingAttributes&&this.pendingAttributes.labels?this.pendingAttributes.labels:{},metadata:{manufacturerUnits:new r.a(this.unitSelection,"string")}};return this.pendingAttributes=t,{attributes:t}}processSaveChangesCallback(){this.$eventBus.$emit(l.m.EDITED_ITEM,{original:this.collectionElement,edited:this.pendingAttributes}),this.originalUnitSelection=this.pendingAttributes.metadata.manufacturerUnits.value,Object.keys(this.pendingAttributes.manufacturerAttributes).length>0&&(this.manufacturerAttributeLabels=this.pendingAttributes.manufacturerAttributeLabels,this.setupAttributes(this.pendingAttributes.manufacturerAttributes)),this.arePredefinedFieldsEdited=!1,this.pendingAttributes=null}validateNumericField(t){return!t.viewValue.includes("-")||(t.validValue=!1,!1)}predefinedFieldsAreNumbers(t){const e=this.validateNumericField(t.Depth),i=this.validateNumericField(t.Height),s=this.validateNumericField(t.Width);return e&&i&&s}get isEdited(){return this.arePredefinedFieldsEdited||this.areCustomFieldsEdited||this.didUnitSelectionChange()}};h([Object(a.d)()],p.prototype,"collectionElement",void 0),h([Object(a.f)("unitSelection")],p.prototype,"onUnitSelectionChange",null),p=h([Object(a.a)({components:{CustomFieldList:d.a,ItemSelector:c.a}})],p);var m=p,g=i(28),v=Object(g.a)(m,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"edit-model-attributes"},[i("div",{staticClass:"unit-dropdown"},[i("span",{staticClass:"unit-dropdown-title"},[t._v(t._s(t.$t("Unit Selection")))]),t._v(" "),i("item-selector",{attrs:{id:"unit-selection",translateText:!0,items:t.unitOptions},model:{value:t.unitSelection,callback:function(e){t.unitSelection=e},expression:"unitSelection"}})],1),t._v(" "),i("div",{staticClass:"field-lists row"},[i("div",{staticClass:"field-list-container columns large-12 xlarge-6"},[i("div",{staticClass:"header"},[t._v(t._s(t.$t("Attributes")))]),t._v(" "),i("custom-field-list",{attrs:{baseFields:t.predefinedAttributes,enableNewFields:!1,isMetric:t.isMetric},on:{predefinedFieldsChanged:t.predefinedFieldsChanged}})],1),t._v(" "),i("div",{staticClass:"field-list-container columns large-12 xlarge-6"},[i("div",{staticClass:"header"},[t._v(t._s(t.$t("Custom Attributes")))]),t._v(" "),i("custom-field-list",{attrs:{customFields:t.customAttributes,isMetric:t.isMetric,maxFieldCount:t.maxFieldCount},on:{customFieldsChanged:t.customFieldsChanged}})],1)])])}),[],!1,null,"bf476676",null);e.a=v.exports},950:function(t,e,i){"use strict";var s=i(50),a=i(674),n=(i(932),i(153)),o=i(73),r=i(48),l=i(727),c=i(926),d=i(928),u=function(t,e,i,s){var a,n=arguments.length,o=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,s);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(o=(n<3?a(o):n>3?a(e,i,o):a(e,i))||o);return n>3&&o&&Object.defineProperty(e,i,o),o};let h=class UcmEditModelClassifications extends d.a{constructor(){super(...arguments),this.name="ucm-edit-model-classifications",this.maxFieldCount=r.a.MAX_CLASSIFICATION_COUNT,this.predefinedAttributes={},this.originalPredefinedAttributes={},this.isEdited=!1,this.fieldsAreValid=!0}created(){const t=this.getCollectionElementAttributes(this.collectionElement);this.setupAttributes(t)}mounted(){this.isMounted=!0,this.$emit("mounted")}getCollectionElementAttributes(t){const e=t.attributes.manufacturerClassifications,i=null!=e?e:{},s=this.getDefaultEntityAttributes();return o.g(i,s)}getDefaultEntityAttributes(){let t={};return n.h.forEach((e=>{t[e]=new o.a("","string")})),t}setupAttributes(t){this.buildAttributes(t),this.originalPredefinedAttributes=s.cloneDeep(this.predefinedAttributes)}buildAttributes(t){this.predefinedAttributes=this.setupPredefinedAttributes(t)}setupPredefinedAttributes(t){let e={};return n.h.forEach((i=>{null!=t[i]?e[i]=this.createPredefinedAttribute(i,t[i].value,!1,!0,!1):e[i]=this.createPredefinedAttribute(i,"",!1,!0,!1)})),e}fieldsChanged(t){const e=this.predefinedFieldsAreValid(t),i=this.updatedFieldsToStoreValue(t,null);this.isEdited=this.areFieldsEdited(t),this.fieldsAreValid=e,this.predefinedAttributes=t,this.pendingAttributes=i,this.fieldsAreValid&&this.isEdited?this.$eventBus.$emit(r.m.ENABLE_SAVING,!0):this.$eventBus.$emit(r.m.ENABLE_SAVING,!1)}areFieldsEdited(t){return!s.isEqual(this.originalPredefinedAttributes,t)}getDataToSave(){var t;const e={manufacturerClassifications:null!=(null===(t=this.pendingAttributes)||void 0===t?void 0:t.fields)?this.pendingAttributes.fields:{}};return this.pendingAttributes=e,{attributes:e}}processSaveChangesCallback(){this.$eventBus.$emit(r.m.EDITED_ITEM,{original:this.collectionElement,edited:this.pendingAttributes}),this.setupAttributes(this.pendingAttributes.manufacturerClassifications),this.isEdited=!1,this.pendingAttributes=null}};u([Object(a.d)()],h.prototype,"collectionElement",void 0),h=u([Object(a.a)({components:{CustomFieldList:c.a,ItemSelector:l.a}})],h);var p=h,m=i(28),g=Object(m.a)(p,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"edit-model-classifications"},[i("custom-field-list",{attrs:{baseFields:t.predefinedAttributes,enableNewFields:!1,isMetric:t.isMetric,maxFieldCount:t.maxFieldCount},on:{predefinedFieldsChanged:t.fieldsChanged}})],1)}),[],!1,null,"335405f4",null);e.a=g.exports},951:function(t,e,i){"use strict";var s=i(50),a=i(674),n=i(73),o=i(48),r=i(9),l=i(727),c=i(926),d=i(928),u=function(t,e,i,s){var a,n=arguments.length,o=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,s);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(o=(n<3?a(o):n>3?a(e,i,o):a(e,i))||o);return n>3&&o&&Object.defineProperty(e,i,o),o};let h=class UcmEditModelLinks extends d.a{constructor(){super(...arguments),this.name="ucm-edit-model-links",this.maxFieldCount=o.a.MAX_LINK_COUNT,this.customAttributes=[],this.originalCustomAttributes=[],this.isEdited=!1,this.fieldsAreValid=!0}created(){const t=this.getCollectionElementAttributes(this.collectionElement);this.setupAttributes(t)}mounted(){this.isMounted=!0,this.$emit("mounted")}setupAttributes(t){this.buildAttributes(t),this.originalCustomAttributes=s.cloneDeep(this.customAttributes)}buildAttributes(t){const e=null!=t.custom?JSON.parse(t.custom.value):[];this.customAttributes=e}getCollectionElementAttributes(t){const e=t.attributes.manufacturerLinks,i=null!=e?e:{};return n.g(i,{custom:{dataType:"string",value:"[]"}})}fieldsChanged(t){const e=this.customFieldsAreValid(t),i=this.customLinksAreValid(t),s=this.updatedFieldsToStoreValue(null,t);this.isEdited=this.areFieldsEdited(s),this.fieldsAreValid=e&&i,this.customAttributes=t,this.pendingAttributes=s,this.fieldsAreValid&&this.isEdited?this.$eventBus.$emit(o.m.ENABLE_SAVING,!0):this.$eventBus.$emit(o.m.ENABLE_SAVING,!1)}areFieldsEdited(t){return n.d(this.originalCustomAttributes,t)}getDataToSave(){const t={manufacturerLinks:this.pendingAttributes&&this.pendingAttributes.fields?this.pendingAttributes.fields:{}};return this.pendingAttributes=t,{attributes:t}}processSaveChangesCallback(){this.$eventBus.$emit(o.m.EDITED_ITEM,{original:this.collectionElement,edited:this.pendingAttributes}),this.setupAttributes(this.pendingAttributes.manufacturerLinks),this.isEdited=!1,this.pendingAttributes=null}customLinksAreValid(t){let e=!0;for(const i of t){i.isLink=!0;const t=r.c(i.value.trim());if(i.value=t,0===t.length)e=!1,i.validValue=!1;else{const s=r.I(t)&&r.H(t);e=e&&s,i.validValue=s}}return e}};u([Object(a.d)()],h.prototype,"collectionElement",void 0),h=u([Object(a.a)({components:{CustomFieldList:c.a,ItemSelector:l.a}})],h);var p=h,m=i(28),g=Object(m.a)(p,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"edit-model-links"},[i("custom-field-list",{attrs:{customFields:t.customAttributes,customFieldInputPlaceholder:"https://sketchup.com",isMetric:t.isMetric,maxFieldCount:t.maxFieldCount},on:{customFieldsChanged:t.fieldsChanged}})],1)}),[],!1,null,"72bf7092",null);e.a=g.exports}}]);